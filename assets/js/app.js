function docReady(e){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,1):document.addEventListener("DOMContentLoaded",e)}function findOffset(e){let t=0,n=0;for(;t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent;);return{top:t,left:n}}function objToQuery(e){let t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function closeAllSelect(e){let t,n,o,i,a,r=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),i=t.length,a=n.length,o=0;o<a;o++)e==n[o]?r.push(o):n[o].classList.remove("select-arrow-active");for(o=0;o<i;o++)r.indexOf(o)&&t[o].classList.add("select-hide")}function ContactMap(o,i,a){function t(){var e,t=new google.maps.Map(o);e={mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,panControl:!0,panControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_CENTER},mapTypeControl:!1,scaleControl:!1,streetViewControl:!0,overviewMapControl:!0,overviewMapControlOptions:{opened:!0}},t.setOptions(e),function(o){function e(){var e=function(t){let n=0;if(t.parentNode){n=Array.from(Array.prototype.slice.call(a.children)[2].children).indexOf(t);let e=Array.prototype.slice.call(Array.prototype.slice.call(a.children)[2].children);for(var o of e)o.classList.remove("same-as-selected");e[n].classList.add("same-as-selected")}return n}(this),t=i[e].dataset;!function(e){for(var t of i)t.classList.remove("active");i[e].classList.add("active")}(e);var n=t.centerLat||t.markerLat,e=t.centerLng||t.markerLng;!function(e,t,n,o){n=new google.maps.LatLng(t,n);e.panTo(n),e.setZoom(parseInt(o))}(o,n,e,t.zoom)}for(var t of Array.prototype.slice.call(a.children)[2].children)t.addEventListener("click",e);e.apply(a[0])}(t),function(e){var t={url:o.dataset.markerImage,size:new google.maps.Size(48,48),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(24,48)};for(var n of i){n=n.dataset,n=new google.maps.LatLng(n.markerLat,n.markerLng);new google.maps.Marker({map:e,position:n,icon:t})}}(t),function(n){for(var o of i){let t=o.dataset;if(t.routePoints){let e=t.routePoints.split("; ").map(e=>e.split(",").map(parseFloat));o=e.map(e=>new google.maps.LatLng(e[0],e[1]));new google.maps.Polyline({map:n,path:o,geodesic:!0,strokeColor:"rgb(35, 168, 224)",strokeOpacity:1,strokeWeight:3})}}}(t)}o&&function(){window.map_initialized=function(){t()};let e=document.createElement("script");e.src=function(){let e=objToQuery({key:o.dataset.apiKey,language:o.dataset.language,callback:"map_initialized"});return["https://maps.googleapis.com/maps/api/js",e].join("?")}(),document.body.appendChild(e)}()}function ContactMapYandex(n,a,i){function t(){ymaps.ready(function(){var e=new ymaps.Map(n,{center:[59.99512,30.25057],zoom:10});!function(o){function e(){var e=function(t){let n=0;if(t.parentNode){n=Array.from(Array.prototype.slice.call(i.children)[2].children).indexOf(t);let e=Array.prototype.slice.call(Array.prototype.slice.call(i.children)[2].children);for(var o of e)o.classList.remove("same-as-selected");e[n].classList.add("same-as-selected")}return n}(this),t=a[e].dataset;!function(e){for(var t of a)t.classList.remove("active");a[e].classList.add("active")}(e);var n=t.centerLat||t.markerLat,e=t.centerLng||t.markerLng;t=t.zoom,o.setCenter([n,e],t,{checkZoomRange:!0})}for(var t of Array.prototype.slice.call(i.children)[2].children)t.addEventListener("click",e);e.apply(i[0])}(e),function(e){officePlacemark=new ymaps.Placemark(e.getCenter(),{},{iconLayout:"default#image",iconImageHref:n.dataset.markerImage,iconImageSize:[48,48],iconImageOffset:[-24,-48]}),e.geoObjects.add(officePlacemark);for(var t of a){t=t.dataset;officePlacemark=new ymaps.Placemark([t.markerLat,t.markerLng],{},{iconLayout:"default#image",iconImageHref:n.dataset.markerImage,iconImageSize:[48,48],iconImageOffset:[-24,-48]}),e.geoObjects.add(officePlacemark)}}(e),function(n){for(var o of a){let t=o.dataset;if(t.routePoints){var i,o=t.routePoints.split("; ").map(e=>e.split(",").map(parseFloat));let e=[];for(i of o)e.push(i);o=new ymaps.GeoObject({geometry:{type:"LineString",coordinates:e}},{strokeColor:"rgb(35, 168, 224)",strokeWidth:3});n.geoObjects.add(o)}}}(e)})}n&&function(){let e=document.createElement("script");e.src=function(){let e=objToQuery({apikey:n.dataset.apiKeyYandex,lang:n.dataset.lang});return["https://api-maps.yandex.ru/2.1",e].join("?")}(),document.body.appendChild(e),e.onload=t}()}function TextareaOnInput(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}function portfolioRefresh(t){let n=document.querySelectorAll(".js-cases-container-portfolio .container_portfolio-inner")[0],e=document.querySelectorAll(".js-cases-more")[0],o=0;for(let e=0;e<n.children.length;e++)n.children[e].classList.add("not-shown");for(let e=0;e<n.children.length;e++)n.children[e].classList.contains("hide")||(o++,o<=t&&n.children[e].classList.remove("not-shown"));let i=n.querySelectorAll(".zero-case");0===o&&i?(i[0].style.visibility="visible",i[1].style.visibility="visible",i[0].style.display="block",i[1].style.display="block",randomizeCases()):i&&(i[0].style.visibility="hidden",i[1].style.visibility="hidden",i[0].style.display="none",i[1].style.display="none"),o<=t&&e.parentNode.classList.add("hide")}function randomizeCases(){const e=document.querySelector(".js-randomcases-container");var n=e.children[0].childElementCount;if(e.querySelector(".service__feature_inner-case__visual")&&4<n){let t=[];for(let e=1;e<n+1;e++){const i=document.querySelector(".js-randomcases-container > .service__feature_inner-case__visual > .service__feature_inner-case__visual_wrapper:nth-child("+e+")");i&&i.classList.add("display-none")}for(let e=0;e<4;e++){var o=getRandomNumber(t,n);const a=document.querySelector(".js-randomcases-container > .service__feature_inner-case__visual > .service__feature_inner-case__visual_wrapper:nth-child("+o+")");a&&a.classList.remove("display-none"),t.push(o)}}}function getRandomNumber(e,t){var n=Math.floor(1+Math.random()*t);return~e.indexOf(n)?getRandomNumber(e,t):n}function vacanciesRefresh(t){let n=document.querySelectorAll(".js-vacancies-container .vacancies__container_inner")[0],e=document.querySelectorAll(".js-vacancies-more")[0],o=0;for(let e=0;e<n.children.length;e++)n.children[e].classList.add("not-shown");for(let e=0;e<n.children.length;e++)n.children[e].classList.contains("hide")||(o++,o<=t&&n.children[e].classList.remove("not-shown"));o<=t&&e?e.parentNode.classList.add("hide"):e&&e.parentNode.classList.remove("hide")}function vacanciesTransition(e,t){let n=document.querySelectorAll(".js-vacancies-container .vacancies__container_inner")[0],o=document.querySelectorAll(".js-vacancies-container")[0].dataset.page;if(o&&o!==e){document.querySelectorAll(".js-vacancies-container")[0].dataset.page=e,o=e;for(let e=0;e<n.children.length;e++)n?.children[e]?.classList.add("not-shown");for(let e=o*t;e<o*t+t;e++)n?.children[e]?.classList.remove("not-shown")}}function checkFieldValid(e){if(!e.value||e.value<2)return addListenerInput(e),!1;if("email"===e.type)if(!e.value.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))return addListenerInput(e),!1;return!0}function addListenerInput(t){t.addEventListener("input",function e(){t.classList.remove("error"),t.removeEventListener("input",e,!1)})}function initVideo(){for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++)e[t].getAttribute("data-src")&&e[t].setAttribute("src",e[t].getAttribute("data-src"))}function containerRefresh(t,n,e){let o=0;for(let e=0;e<n.children.length;e++)n.children[e].classList.contains("hide")||(o++,o<=t&&n.children[e].classList.remove("not-shown"));o<=t&&e.parentNode.classList.add("hide")}function removeOverBlocks(i,t,a,e,r){if(t){let n=!1,o=+t;var s=i.children;for(let t=0;t<s.length;t++){let e=i?.children[t];o&&!~e.classList.value.indexOf("hide")?(o--,e.classList.remove("over-limit")):e.classList.add("over-limit"),a&&~i.classList.value.indexOf("news__grid_card-complex")&&!~e.classList.value.indexOf("hide")&&(setBackground(e,n),n=!0)}if(r&&!a){let e=Array.prototype.slice.call(s);var l=e.filter(e=>~e.classList.value.indexOf("hide")).length;s.length<=t||s.length-l<=t?r.classList.add("hide"):r.classList.remove("hide")}}}function setBackground(e,t){t?e.classList.remove("first"):e.classList.add("first")}function smoothScrollOnLinkHash(e){const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}function getParamsByUrl(e=null){let t=e||location.search;e=t.substring(1);let n=new URLSearchParams(e),o={};return n.forEach((e,t)=>{""===(e="undefined"===(e="null"===e?null:e)?null:e)&&(e=null),o[t]=e}),o}function copyURI(e){e.preventDefault(),navigator.clipboard.writeText(e.target.getAttribute("href")).then(()=>{})}function telegramForwardButton(e,t=""){return"https://t.me/share/url?url="+encodeURIComponent(e)+"&text="+encodeURIComponent(t)}function vkForwardButton(e){return encodeURIComponent(e)}function generateEditorialTOC(t){let o="";const n=t.querySelectorAll("h2");if(n.length){n.forEach(function(e,t){var n=e.innerHTML;e.innerHTML='<a name="head'+t+'" id="#head'+t+'"></a>'+n,o+='<h3><a href="#head'+t+'" class="js-scrollto">'+n+"</a></h3>"});let e=t.innerHTML.replace(/(([\s\S]*?)<h2>([\s\S]*?)<\/h2>)+?/gm,"<section>$2</section><h2>$3</h2>");e=e.replace(/<h2>([\s\S]*)<\/h2>([\s\S]+)/gm,"<h2>$1</h2><section>$2</section>"),t.innerHTML=e}o=""!=o?'<aside class="editorial-container__toc js-toc"><a href="#" class="sidetoc-menu js-sidetoc"></a><div class="editorial-container__toc-inner hide">'+o+'<a href="javascript:;" onclick="document.location.hash=\'top\';" class="back js-top"></a></div><a href="javascript:;" onclick="document.location.hash=\'top\';" class="back back-mobile js-top"></a></aside>':'<aside class="editorial-container__toc"></aside>';var e='<div class="social social-editorial">';e+='<a href="https://vk.com/share.php?url='+vkForwardButton(window.location.href)+'" class="button button_grey button_small social_vk" target="_blank"></a>',e+='<a href="'+telegramForwardButton(window.location.href)+'" class="button button_grey button_small social_t" target="_blank"></a>',e+='<a href="'+window.location.href+'" onclick="copyURI(event)" class="button button_grey button_small social_text">Скопировать ссылку</a>',e+="</div>";let a=document.createElement("div");a.className="container editorial-container",""!=t&&(a.innerHTML=o+'<article class="custom-format editorial-container__body js-editorial" itemprop="articleBody">'+t.innerHTML+e+"</article>"),t.before(a),document.querySelectorAll(".js-editorial")[1].remove();const r=Array.from(document.getElementsByClassName("js-scrollto"));r.length&&r.forEach(function(e,t){r[t].addEventListener("click",function(e){e.preventDefault();let t=document.getElementById(e.target.getAttribute("href"));e=t.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({behavior:"smooth",top:e})})});const s=document.getElementsByClassName("js-toc")[0];if(null!=s){const c=document.getElementsByClassName("js-editorial")[0];let t=document.getElementsByClassName("header")[0].getBoundingClientRect().height+document.getElementsByClassName("top_news")[0].getBoundingClientRect().height;document.getElementsByClassName("editorial-container")[0].getBoundingClientRect().height;document.documentElement.scrollTop||document.body.scrollTop;let o;const d=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,u=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;d,1024<d&&null!=document.getElementsByClassName("editorial-container__toc-inner")[0]&&document.getElementsByClassName("editorial-container__toc-inner")[0].classList.remove("hide");const m=c.getElementsByTagName("h2"),f=s.getElementsByTagName("h3");let n=new Array;function l(){o=document.documentElement.scrollTop||document.body.scrollTop;var e=document.getElementsByClassName("editorial-container__toc-inner")[0].getBoundingClientRect().height;if(s.style.height=e+68+"px",o>t+67?(document.getElementsByClassName("editorial-container__toc-inner")[0].classList.add("fixed"),s.classList.add("fixed"),1024<d&&null!=document.getElementsByClassName("editorial-container")[0]&&(o>t+document.getElementsByClassName("editorial-container")[0].getBoundingClientRect().height-document.getElementsByClassName("editorial-container__toc-inner")[0].getBoundingClientRect().height-79?document.getElementsByClassName("editorial-container")[0].classList.add("floored"):document.getElementsByClassName("editorial-container")[0].classList.remove("floored"))):(document.getElementsByClassName("editorial-container__toc-inner")[0].classList.remove("fixed"),s.classList.remove("fixed")),m.length){let n=-1;for(i=0;i<m.length;i++)o>m[i].getBoundingClientRect().top+window.scrollY-u&&(n=i);Array.prototype.slice.call(m).forEach(function(e,t){t==n?f[t].classList.add("active"):f[t].classList.remove("active")})}else Array.prototype.slice.call(m).forEach(function(e,t){f[t].classList.remove("active")})}m.length&&Array.prototype.slice.call(m).forEach(function(e,t){n[t]=m[t].offsetTop}),l(),window.addEventListener("touch",l,!0),window.addEventListener("scroll",l,!0),window.addEventListener("resize",l,!0)}}docReady(function(){var n=getParamsByUrl()?.scrollinto;n&&smoothScrollOnLinkHash(n);const t=document.getElementsByClassName("header")[0];let o=0;const r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;let l,c;const i=document.querySelector(".js-top"),a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;r<=650?window.onscroll=function(){var e=document.documentElement.scrollTop||document.body.scrollTop;50<e?t.classList.add("header_scrolled"):t.classList.remove("header_scrolled"),e>a?e>o?t.classList.remove("header_shift"):(t.classList.add("header_sticky"),t.classList.add("header_transparent"),t.classList.add("header_shift")):(t.classList.remove("header_shift"),setTimeout(()=>{t.classList.remove("header_transparent"),t.classList.remove("header_sticky")},500)),o=e<=0?0:e,e<500?i.classList.add("hide"):i.classList.remove("hide")}:window.onscroll=function(){(document.documentElement.scrollTop||document.body.scrollTop)<500?i.classList.add("hide"):i.classList.remove("hide")};const e=document.querySelectorAll(".cases-slider");e.length&&e.forEach((e,t)=>function(e,t){let n=document.querySelectorAll(t?".project-with-slider .active":".cases__case .active");e.addEventListener("touchstart",e=>{touchstartX=e.changedTouches[0].screenX},!1),e.addEventListener("touchend",e=>{touchendX=e.changedTouches[0].screenX,touchstartX>touchendX?n.forEach(e=>{const t=e.nextElementSibling;t&&(e.classList.remove("active"),t.classList.add("active"))}):n.forEach(e=>{const t=e.previousElementSibling;t&&(e.classList.remove("active"),t.classList.add("active"))}),n=document.querySelectorAll(t?".project-with-slider .active":".cases__case .active")},!1)}(e,t));let s=document.querySelectorAll(".js-cases-dots");for(l=0;l<s.length;l++)s[l].addEventListener("click",function(t){t.preventDefault();let n=this.previousElementSibling;if("A"==t.target.tagName){let e=Array.prototype.slice.call(t.target.parentNode.parentNode.children);t=e.indexOf(t.target.parentNode);for(l=0;l<n.children.length;l++)n.children[l].classList.remove("active"),e[l].classList.remove("active");n.children[t].classList.add("active"),e[t].classList.add("active")}},!1);let d=document.querySelectorAll(".js-cases-info-dots");for(l=0;l<d.length;l++)d[l].addEventListener("click",function(t){t.preventDefault();let n=this.parentNode.previousElementSibling;if("A"==t.target.tagName){let e=Array.prototype.slice.call(t.target.parentNode.parentNode.children);t=e.indexOf(t.target.parentNode);for(l=0;l<n.children[0].children.length;l++)n.children[0].children[l].classList.remove("active"),e[l].classList.remove("active");n.children[0].children[t].classList.add("active"),e[t].classList.add("active")}},!1);var u=document.querySelectorAll(".js-problems-slider-groups"),m=document.querySelectorAll(".js-problems-groups-dots");let f=new Array;if(0<u.length)for(l=0;l<u.length;l++)f[l]=tns({container:u[l],items:1,controls:!1,navPosition:"bottom",navContainer:m[l],mouseDrag:!0,slideBy:"page"});var h=document.querySelectorAll(".js-cases-slider-groups"),p=document.querySelectorAll(".js-cases-groups-arrows-left"),v=document.querySelectorAll(".js-cases-groups-arrows-right");let g=new Array;if(0<h.length)for(l=0;l<h.length;l++)g[l]=tns({container:h[l],items:1,nav:!1,prevButton:p[l],nextButton:v[l],mouseDrag:!0,slideBy:"page"});if(0<document.querySelectorAll(".js-project-article").length&&tns({container:".js-project-article",items:1,controls:!1,navPosition:"bottom",navContainer:".js-project-article-dots",mouseDrag:!0,slideBy:"page"}),0<document.querySelectorAll(".js-featured-news").length&&tns({container:".js-featured-news .news__list",items:1.3,gutter:32,edgePadding:32,responsive:{768:{items:1.7},1100:{items:2.8},1440:{edgePadding:0,items:3,nav:!1}},nav:!0,navPosition:"bottom",controls:!1,mouseDrag:!0,slideBy:"page"}),0<document.querySelectorAll(".js-more-news").length&&tns({container:".js-more-news .news__items",items:1.3,gutter:32,edgePadding:20,responsive:{550:{edgePadding:0,items:2},1e3:{items:3},1440:{items:4,nav:!1}},nav:!0,navPosition:"bottom",controls:!1,mouseDrag:!0,slideBy:"page"}),0<document.querySelectorAll(".js-we-did").length&&(document.querySelector(".js-we-did"),650<r?tns({container:".js-we-did",items:4,gutter:15,responsive:{320:{items:2},992:{items:4}},axis:"horizontal",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"}):tns({container:".js-we-did",items:4,gutter:15,responsive:{320:{items:2},992:{items:4}},axis:"vertical",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"})),0<document.querySelectorAll(".js-cases-container").length){let e=document.querySelector(".js-cases-container"),t=Array.prototype.slice.call(e.children),n=new Array,o=0,i=1;let a=document.createElement("div");for(a.className="cases-container__inner js-cases-container-inner",e.appendChild(a),l=0;l<t.length;l++)t[l].classList.contains("cases__case")&&(1==i&&(o++,n[o]=document.createElement("div"),n[o].className="cases__block",a.appendChild(n[o])),t[l].classList.contains("cases__case_double")&&i<=3?(n[o].insertAdjacentElement("beforeEnd",t[l]),i++):!t[l].classList.contains("cases__case_double")&&i<=4&&n[o].insertAdjacentElement("beforeEnd",t[l]),i++,4<i&&(i=1));r<=650?tns({container:".js-cases-container-inner",items:1,gutter:15,axis:"horizontal",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"}):tns({container:".js-cases-container-inner",items:2,gutter:15,axis:"vertical",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"})}let y=document.querySelectorAll(".js-cases-container-portfolio .container_portfolio-inner"),L=document.querySelectorAll(".js-cases-types"),b=document.querySelectorAll(".js-cases-tags");if(0<y.length){let i=+document.querySelectorAll(".js-cases-container-portfolio")[0].dataset.limit,e=document.querySelectorAll(".js-cases-more")[0];for(e.addEventListener("click",function(e){e.preventDefault(),i+=4,portfolioRefresh(i)}),portfolioRefresh(i),l=0;l<L.length;l++){let o=new Array;for(c=0;c<y[0].children.length;c++){let e=y[0].children[c].dataset.types.slice(1,y[0].children[c].dataset.types.length-1);o[c]=e.split(",")}L[l].addEventListener("click",function(e){var t=e.target.parentNode.parentNode.childNodes[1];e.preventDefault();var n=t?.selectedOptions[0]?.value;for(c=0;c<o.length;c++)o[c].includes("'"+n+"'")?y[0].children[c].classList.remove("hide"):y[0].children[c].classList.add("hide");for(c=0;c<b[0].children.length;c++)b[0].children[c].classList.remove("active");b[0].children[0].classList.add("active"),portfolioRefresh(i)})}for(l=0;l<b.length;l++){let o=new Array;for(c=0;c<y[0].children.length;c++){let e=y[0].children[c].dataset.tags.slice(1,y[0].children[c].dataset.tags.length-1);o[c]=e.split(",")}b[l].addEventListener("click",function(e){var t;if(e.preventDefault(),null!=e.target.getAttribute("href")){for(t=e.target.getAttribute("href").slice(1),c=0;c<b[0].children.length;c++)b[0].children[c].classList.remove("active");for(e.target.classList.add("active"),c=0;c<o.length;c++)o[c].includes("'"+t+"'")?y[0].children[c].classList.remove("hide"):y[0].children[c].classList.add("hide");const n=L[0].parentNode.childNodes[1].querySelector(".select-items");if(n){for(let e=0;e<n.childNodes.length;e++)n.childNodes[e].classList.remove("same-as-selected");n.childNodes[0].classList.add("same-as-selected")}portfolioRefresh(i)}})}}n=document.querySelectorAll(".js-editorial");0<n.length&&generateEditorialTOC(n[0]);let w=document.querySelectorAll(".js-vacancies-container .vacancies__container_inner"),S=document.querySelectorAll(".js-vacancies-types");if(0<w.length){let i=+document.querySelectorAll(".js-vacancies-container")[0].dataset.limit,e=document.querySelectorAll(".js-vacancies-more")[0];const Z=document.querySelectorAll(".js-vacancies-page");if(e&&e.addEventListener("click",function(e){e.preventDefault(),i+=4,vacanciesRefresh(i)}),480<r)vacanciesRefresh(i);else{i=3,vacanciesRefresh(i);for(let e=0;e<Z.length;e++)Z[e].addEventListener("click",function(e){e.preventDefault(),vacanciesTransition(this.dataset.page,i);for(let e=0;e<Z.length;e++)Z[e].parentNode.classList.remove("active");this.parentNode.classList.add("active")})}for(l=0;l<S.length;l++){let o=new Array,t=new Array,n=new Array;for(emptyVacancyData="",c=0;c<w[0].children.length;c++){let e=w[0].children[c].dataset.types.slice(1,w[0].children[c].dataset.types.length-1);o[c]=e.split(",")}for(c=0;c<S[0].children[0].children.length;c++)t.push(S[0].children[0].children[c].value);for(n=t,c=0;c<t.length;c++){let e=!1;for(k=0;k<o.length;k++)o[k].includes("'"+t[c]+"'")&&(e=!0);e&&(n.splice(c,1),c--)}for(c=0;c<n.length;c++)emptyVacancyData+=",'"+n[c]+"'";for(emptyVacancyData="["+emptyVacancyData.substring(1)+"]",document.getElementById("vac_send").dataset.types=emptyVacancyData,c=0;c<w[0].children.length;c++){let e=w[0].children[c].dataset.types.slice(1,w[0].children[c].dataset.types.length-1);o[c]=e.split(",")}S[l].addEventListener("click",function(e){var t=e.target.parentNode.parentNode.childNodes[0];e.preventDefault();var n=t.selectedOptions[0].value;for(c=0;c<o.length;c++)o[c].includes("'"+n+"'")?w[0].children[c].classList.remove("hide"):w[0].children[c].classList.add("hide");vacanciesRefresh(i)})}}let E=document.querySelectorAll(".js-news-grid-container"),x=document.querySelectorAll(".js-news-types");if(0<E.length)for(let s=0;s<E.length;s++)try{let a=+E[s].dataset.limit,r=document.querySelectorAll(".js-more")[0];const J=E[s].dataset;for(J.limitStable||r?.addEventListener("click",function(e){a+=+J.perpage,removeOverBlocks(E[s],a,J.limitStable,J,r)}),l=0;l<x.length;l++){let i=new Array;for(c=0;c<E[s].children.length;c++){let e=E[s].children[c].dataset.tags.slice(1,E[s].children[c].dataset.tags.length-1);i[c]=e.split(",")}removeOverBlocks(E[s],J.limit,J.limitStable,J,r),x[l].addEventListener("click",function(e){a=+E[s].dataset.limit;var t=e.target.parentNode.parentNode.childNodes[1];e.preventDefault();var n=t?.selectedOptions[0]?.value;let o=0;for(c=0;c<i.length;c++)i[c].includes("'"+n+"'")||i[c].includes("'every'")?E[s]?.children[c]?.classList.remove("hide"):(E[s]?.children[c]?.classList.add("hide"),o++),removeOverBlocks(E[s],J.limit,J.limitStable,J,r);E[s]?.children?.length===o?E[s].classList.add("hide"):E[s].classList.remove("hide")})}}catch(e){console.error({err:e})}let A=document.querySelectorAll(".vacancy");if(A.length)if(480<r)for(l=0;l<A.length;l++)A[l].addEventListener("mouseover",function(e){e.preventDefault();let t=this.children[0];var n=t.getBoundingClientRect().height;let o=t.getElementsByClassName("vacancy__title_name")[0];e=o.getBoundingClientRect().height+100;let i=o.parentNode,a=i.nextElementSibling,r=0;this.classList.contains("vacancy_send")&&(r=120),getup=-55,i.style.top=getup-r+e-n+"px",a.style.top=getup-r+e-n+"px",a.style.height=-getup+r+n-e+92+"px"},!1),A[l].addEventListener("mouseout",function(e){e.preventDefault();let t=this.children[0];let n=t.getElementsByClassName("vacancy__title_name")[0].parentNode,o=n.nextElementSibling;n.style.top="0px",o.style.top="0px",o.style.height="100%"},!1);else for(l=0;l<A.length;l++)A[l].addEventListener("click",function(t){if("vacancy__body_link"!==t.target.className){t.preventDefault();let e=this.children[0];const n=e.getElementsByClassName("vacancy__title_name")[0].parentNode.children[0];"336px"===this.style.height?(this.style.height="188px",e.style.height="100%",this.style.maxHeight="188px",e.style.maxHeight="100%",n.style.transform="rotate(0deg)","vac_send"===this.id&&(this.style["padding-bottom"]="128px")):(this.style.height="336px",e.style.height="100%",this.style.maxHeight="336px",e.style.maxHeight="100%",n.style.transform="rotate(135deg)","vac_send"===this.id&&(this.style["padding-bottom"]="336px"))}},!1);let C=document.querySelector(".js-top-menu"),_=document.querySelector(".js-top-menu-inner"),N=document.querySelector(".pmenu");C.addEventListener("click",function(e){e.preventDefault(),N.classList.contains("active")?(N.classList.remove("active"),C.parentNode.classList.remove("active"),document.querySelector("body").classList.remove("popup-open")):(N.classList.add("active"),C.parentNode.classList.add("active"),document.querySelector("body").classList.add("popup-open"))},!1),_.addEventListener("click",function(e){e.preventDefault(),N.classList.contains("active")&&(N.classList.remove("active"),C.parentNode.classList.remove("active"),document.querySelector("body").classList.remove("popup-open"))},!1);let T=document.querySelector(".js-sidetoc"),j=document.querySelector(".editorial-container__toc-inner");document.querySelector(".js-toc");null!=T&&T.addEventListener("click",function(n){n.preventDefault();if(j.classList.contains("hide")){j.classList.remove("hide");n=document.getElementsByClassName("editorial-container__toc-inner")[0].getBoundingClientRect().height;document.getElementsByClassName("js-toc")[0].style.height=n+68+"px";let e=1,t=setInterval(function(){3<e?clearInterval(t):(T.style.backgroundImage="url(/assets/css/img/icon-editorial"+e+".svg)",e++)},60)}else{j.classList.add("hide"),j.classList.remove("fixed"),document.getElementsByClassName("js-toc")[0].style.height="68px";let e=3,t=setInterval(function(){e<1?clearInterval(t):(T.style.backgroundImage="url(/assets/css/img/icon-editorial"+e+".svg)",e--)},60)}},!1);var q=document.querySelectorAll(['iframe[src*="youtube.com"]','iframe[src*="vimeo.com"]'].join(","));if(q.length)for(l=0;l<q.length;l++){let e=q[l];var B=e.getAttribute("width"),B=e.getAttribute("height")/B;let t=e.parentNode,n=document.createElement("div");n.className="popup-video__frame",n.style.paddingBottom=100*B+"%",t.insertBefore(n,e),e.remove(),n.appendChild(e),e.removeAttribute("height"),e.removeAttribute("width")}const M=document.getElementsByTagName("textarea");if(M.length)for(let e=0;e<M.length;e++)M[e].setAttribute("style","height:"+M[e].scrollHeight+"px;overflow-y:hidden;"),M[e].addEventListener("input",TextareaOnInput,!1),r<500&&"project_desc"==M[e].id&&(M[e].placeholder="Краткая информация");const D=document.querySelector(".range");if(null!=D){document.querySelector(".range").classList.add("js");let s=document.createElement("input");function I(e){let t;t=null==e?document.querySelectorAll('.range input[type="range"]')[0]:t=e.target;let n=t.parentNode,o=+t.value,i=n.querySelector(`option[value='${o}']`),a=+i.label;var r=0<window.innerWidth?window.innerWidth:screen.width,e=1330<r?n.clientWidth:650<r?r:r-60;t.setAttribute("aria-valuetext",a),n.style.setProperty(`--${t.id}`,o),n.style.setProperty(`--lbl-${t.id}`,a+""),n.style.setProperty("--wd",e);r=document.getElementById("l").children[document.getElementById("a").value].getAttribute("label"),e=document.getElementById("l").children[document.getElementById("b").value].getAttribute("label");s.setAttribute("value",r+"-"+e+" млн")}s.setAttribute("id","range"),s.setAttribute("name","range"),s.setAttribute("type","hidden"),D.appendChild(s),document.querySelectorAll('.range input[type="range"]')[0].addEventListener("input",I,!1),document.querySelectorAll('.range input[type="range"]')[1].addEventListener("input",I,!1),I()}let H=document.querySelector(".js-popup-video-open"),O=document.querySelector(".js-popup-video-close"),R=document.querySelector(".popup-video");null!=H&&(H.addEventListener("click",function(e){e.preventDefault(),R.classList.add("active"),document.querySelector("body").classList.add("popup-open")},!1),O.addEventListener("click",function(e){e.preventDefault(),R.classList.remove("active"),document.querySelector("body").classList.remove("popup-open")},!1));let P=document.querySelectorAll(".js-popup-feedback-open"),z=document.querySelector(".js-popup-feedback-close");for(l=0;l<P.length;l++){let t=document.querySelector(".popup-feedback");document.querySelector(".popup-feedback__content");null!=P[l]&&(P[l].addEventListener("click",function(e){e.preventDefault(),"function"==typeof ym&&ym(23767978,"reachGoal","CLICKrequest"),r<481&&e.target.className.startsWith("vacanc")&&"vacancy__body_link"!==e.target.className||(t.classList.add("active"),document.querySelector("body").classList.add("popup-open"),bodyOpened=document.querySelector(".popup-open"),null!=bodyOpened&&bodyOpened.addEventListener("click",function(e){(e.target.classList.contains("popup-feedback")||e.target.parentNode.classList.contains("popup-feedback"))&&(t.classList.remove("active"),document.querySelector("body").classList.remove("popup-open"))},!1))},!1),null!=z&&z.addEventListener("click",function(e){e.preventDefault(),null!=t&&t.classList.remove("active"),document.querySelector("body").classList.remove("popup-open")},!1),document.addEventListener("ajaxFormResponse",e=>{!0!==e.detail&&!1!==e.details||(null!=t&&t.classList.remove("active"),document.querySelector("body").classList.remove("popup-open"))},!1))}let W=document.querySelector(".circle-text"),F=document.querySelector(".circle-pic"),V=document.querySelector(".circle-about")||document.querySelector(".about__animation_items");if(null!=F){F.classList.add("rotating");let e=3;setInterval(function(){for(l=0;l<W.children.length;l++)W.children[l%W.children.length].style.opacity="0";for(l=0;l<V.children.length;l++)V.children[l%V.children.length].style.opacity="0";setTimeout(()=>{for(l=0;l<W.children.length;l++)W.children[l%W.children.length].style.display="none";for(l=0;l<V.children.length;l++)V.children[l%V.children.length].style.display="none"},1e3),setTimeout(()=>{W.children[e%W.children.length].style.opacity="0",W.children[e%W.children.length].style.display="block",V.children[e%V.children.length].style.opacity="0",V.children[e%V.children.length].style.display="block",setTimeout(()=>{W.children[e%W.children.length].style.opacity="1",V.children[e%V.children.length].style.opacity="1"},250)},1e3),e++},5e3)}if(document.querySelector(".js-map-container")&&new ContactMapYandex(document.querySelector(".js-map-container"),document.querySelectorAll(".js-map-address"),document.querySelector(".js-map-select")),document.querySelector(".select")){let e,t,n,o,i,a,r,s,l;for(e=document.getElementsByClassName("select"),o=e.length,t=0;t<o;t++){for(i=(a=e[t].getElementsByTagName("select")[0]).length,r=document.createElement("DIV"),r.setAttribute("class","select-selected"),r.innerHTML=a?.options[a.selectedIndex]?.innerHTML,e[t].appendChild(r),s=document.createElement("DIV"),s.setAttribute("class","select-items select-hide"),n=0;n<i;n++)l=document.createElement("DIV"),l.innerHTML=a.options[n].innerHTML,0==n&&l.setAttribute("class","same-as-selected"),"ios"!=a.options[n].value&&"android"!=a.options[n].value&&"web"!=a.options[n].value&&"other"!=a.options[n].value||(newClass="iconed_"+a.options[n].value,l.classList.add("iconed"),l.classList.add(newClass)),l.addEventListener("click",function(e){let t,n,o,i,a,r,s,l;i=this.parentNode.parentNode.getElementsByTagName("select")[0];var c,d=i.id.startsWith("multiple");for(r=i.length,a=this.parentNode.previousSibling,n=0;n<r;n++)if((l=i.options[n].innerHTML)==this.innerHTML){d||(i.selectedIndex=n),d||(a.innerHTML=this.innerHTML),t=this.parentNode.getElementsByClassName("same-as-selected"),s=t.length;let e=!1;if(i.options[n].setAttribute("selected",""),d)for(o=0;o<s;o++)t[o]?.innerHTML==this.innerHTML&&(e=t[o]?.innerHTML,t[o]?.classList.remove("same-as-selected"),i.options[n].removeAttribute("selected"));else{for(o=0;o<s;o++)t[o].classList.remove("same-as-selected");this.classList.add("same-as-selected")}d&&(e||this.classList.add("same-as-selected"),c=e||this.innerHTML,function(t,n,o,e){selectSelected=document.getElementsByClassName("select-selected");var i=selectSelected.length,a=e||"Выберите";for(let e=0;e<i;e++)o==selectSelected[e].innerHTML&&(t?(selectSelected[e].innerHTML=selectSelected[e].innerHTML.split(", ").filter(function(e){return e!==t}).join(", "),selectSelected[e].innerHTML||(selectSelected[e].innerHTML=a)):selectSelected[e].innerHTML!=a?selectSelected[e].innerHTML=selectSelected[e].innerHTML.concat(", "+n):selectSelected[e].innerHTML=n)}(e,c,a.innerHTML,l));break}d||a.click()}),s.appendChild(l);e[t].appendChild(s),r.addEventListener("click",function(e){e.stopPropagation(),closeAllSelect(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}document.addEventListener("click",closeAllSelect)}if(0<y.length){const ee=new URL(window.location.href);var U=ee.searchParams?.get("casesTypes");if(U){var X=+document.querySelectorAll(".js-cases-container-portfolio")[0].dataset.limit;const te=["all","start","scale","consult"];n=te.indexOf(U);if(~n){let e=L[0].parentNode.childNodes[1].childNodes[1],t=document.querySelectorAll(".same-as-selected")[0];for(t.classList.remove("same-as-selected"),t.parentNode.childNodes[n].classList.add("same-as-selected"),e.value=U,e.selectedOptions[0].value=U,c=0;c<te.length;c++)te[c].includes("'"+U+"'")?y[0].children[c].classList.remove("hide"):y[0].children[c].classList.add("hide");portfolioRefresh(X)}}}if(0<document.querySelectorAll(".js-team-container").length&&(document.querySelector(".js-team-container"),tns({container:".js-team-container .team__list",items:4,gutter:15,responsive:{320:{items:1},640:{items:2},992:{items:4}},axis:"horizontal",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"})),0<document.querySelectorAll(".js-randomcases-container").length&&document.querySelector(".some-projects__list")){var Y=document.querySelector(".js-randomcases-container");for(let e=0;e<4;e++){var $=Math.floor(1+Math.random()*Y.children[0].childElementCount);let e=document.querySelector(".js-randomcases-container > .some-projects__list > .cases__case:nth-child("+$+")");e&&e.remove()}Array.prototype.slice.call(Y.children[0].children),tns({container:".js-randomcases-container .some-projects__list",items:4,gutter:15,responsive:{320:{items:2,nav:!0},640:{items:2,nav:!0},992:{items:4,nav:!1}},controls:!1,nav:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"})}if(0<document.querySelectorAll(".js-aurora-cases").length&&document.querySelector(".some-projects__list")&&(X=document.querySelector(".js-aurora-cases"),console.log({container:X}),X=Array.prototype.slice.call(X.children[0].children),console.log({cases:X}),tns({container:".js-aurora-cases .some-projects__list",items:1,gutter:15,responsive:{768:{items:2,nav:!1}},controls:!1,nav:!0,navPosition:"bottom",mouseDrag:!0,slideBy:"page"})),0<document.querySelectorAll(".js-accordion").length){var G=document.querySelector(".js-accordion");let e=Array.prototype.slice.call(G.children);for(l=0;l<e.length;l++)e[l].addEventListener("click",function(e){e.target.className.startsWith("project")||e.target.className.startsWith("cases")||(e.preventDefault(),e.target.parentNode.classList.toggle("active"))},!1)}if(0<document.querySelectorAll(".js-years").length){G=document.querySelector(".js-years"),Array.prototype.slice.call(G.children[0].children);let i=tns({container:".js-years",items:1,controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page",autoplay:!0,autoplayTimeout:3e3,autoplayButton:!1,autoplayButtonOutput:!1});G=()=>{var e=i.getInfo(),t=e.displayIndex-1;const n=document.querySelector(".js-year-circle"),o=document.querySelector(".js-year-number");n.style.left=100*t/(e.slideCount-1)+"%",o.innerHTML=e.slideItems[e.displayIndex].dataset.year};G(),i.events.on("transitionEnd",G)}if(0<document.querySelectorAll(".js-request-button").length){const ne=document.querySelectorAll(".js-request-button")[0];let o=document.getElementById("request__form");ne.onclick=function(){let e=o.getElementsByTagName("input"),t,n=!1;for(t=0;t<e.length;t++)checkFieldValid(e[t])||(n||(n=!0,o.scrollIntoView({behavior:"smooth"})),e[t].classList.add("error"));"function"==typeof ym&&ym(23767978,"reachGoal","CLICKsend")}}const K=document.querySelectorAll(".js-scrollto-applicants-form");if(0<K.length)for(l=0;l<K.length;l++)K[l].addEventListener("click",function(e){let t=document.getElementsByClassName("feedback_applicants");t.length&&t[0].scrollIntoView({behavior:"smooth"})},!1);if(0<document.querySelectorAll(".js-switch-category").length){const oe=document.querySelectorAll(".js-switch-category a, .js-switch-category span"),ie=document.querySelectorAll(".js-show-business"),ae=document.querySelectorAll(".js-show-applicants");for(l=0;l<oe.length;l++)oe[l].addEventListener("click",function(e){for(e.preventDefault(),c=0;c<ie.length;c++)ie[c].classList.toggle("hide");for(c=0;c<ae.length;c++)ae[c].classList.toggle("hide")},!1)}if(0<document.querySelectorAll(".yaDiskUploader").length){var Q=document.querySelectorAll(".yaDiskUploader");let t;for(l=0;l<Q.length;l++)t=Q[l],t.addEventListener("click",function(e){e.preventDefault(),t.classList.contains("js-upload-started")||t.classList.add("js-upload-started")},!1)}0<document.querySelectorAll("iframe").length&&initVideo()});var tns=function(){var e=window,wo=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,16)},t=window,So=t.cancelAnimationFrame||t.mozCancelAnimationFrame||function(e){clearTimeout(e)};function Eo(e){for(var t,n,o,i=e||{},a=1,r=arguments.length;a<r;a++)if(null!==(t=arguments[a]))for(n in t)i!==(o=t[n])&&void 0!==o&&(i[n]=o);return i}function xo(e){return 0<=["true","false"].indexOf(e)?JSON.parse(e):e}function Ao(e,t,n,o){if(o)try{e.setItem(t,n)}catch(e){}return n}function Co(){var e=document,t=e.body;return t||((t=e.createElement("body")).fake=!0),t}var n=document.documentElement;function _o(e){var t="";return e.fake&&(t=n.style.overflow,e.style.background="",e.style.overflow=n.style.overflow="hidden",n.appendChild(e)),t}function No(e,t){e.fake&&(e.remove(),n.style.overflow=t,n.offsetHeight)}function To(e,t,n,o){"insertRule"in e?e.insertRule(t+"{"+n+"}",o):e.addRule(t,n,o)}function jo(e){return("insertRule"in e?e.cssRules:e.rules).length}function ko(e,t,n){for(var o=0,i=e.length;o<i;o++)t.call(n,e[o],o)}var t="classList"in document.createElement("_"),qo=t?function(e,t){return e.classList.contains(t)}:function(e,t){return 0<=e.className.indexOf(t)},Bo=t?function(e,t){qo(e,t)||e.classList.add(t)}:function(e,t){qo(e,t)||(e.className+=" "+t)},Mo=t?function(e,t){qo(e,t)&&e.classList.remove(t)}:function(e,t){qo(e,t)&&(e.className=e.className.replace(t,""))};function Do(e,t){return e.hasAttribute(t)}function Io(e,t){return e.getAttribute(t)}function a(e){return void 0!==e.item}function Ho(e,t){if(e=a(e)||e instanceof Array?e:[e],"[object Object]"===Object.prototype.toString.call(t))for(var n=e.length;n--;)for(var o in t)e[n].setAttribute(o,t[o])}function Oo(e,t){e=a(e)||e instanceof Array?e:[e];for(var n=(t=t instanceof Array?t:[t]).length,o=e.length;o--;)for(var i=n;i--;)e[o].removeAttribute(t[i])}function Ro(e){for(var t=[],n=0,o=e.length;n<o;n++)t.push(e[n]);return t}function Po(e,t){"none"!==e.style.display&&(e.style.display="none")}function zo(e,t){"none"===e.style.display&&(e.style.display="")}function Wo(e){return"none"!==window.getComputedStyle(e).display}function Fo(t){var n,o;"string"==typeof t&&(n=[t],o=t.charAt(0).toUpperCase()+t.substr(1),["Webkit","Moz","ms","O"].forEach(function(e){"ms"===e&&"transform"!==t||n.push(e+o)}),t=n);for(var e=document.createElement("fakeelement"),i=(t.length,0);i<t.length;i++){var a=t[i];if(void 0!==e.style[a])return a}return!1}function Vo(e,t){var n=!1;return/^Webkit/.test(e)?n="webkit"+t+"End":/^O/.test(e)?n="o"+t+"End":e&&(n=t.toLowerCase()+"end"),n}var o=!1;try{var i=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("test",null,i)}catch(e){}var r=!!o&&{passive:!0};function Uo(e,t,n){for(var o in t){var i=0<=["touchstart","touchmove"].indexOf(o)&&!n&&r;e.addEventListener(o,t[o],i)}}function Xo(e,t){for(var n in t){var o=0<=["touchstart","touchmove"].indexOf(n)&&r;e.removeEventListener(n,t[n],o)}}function Yo(){return{topics:{},on:function(e,t){this.topics[e]=this.topics[e]||[],this.topics[e].push(t)},off:function(e,t){if(this.topics[e])for(var n=0;n<this.topics[e].length;n++)if(this.topics[e][n]===t){this.topics[e].splice(n,1);break}},emit:function(t,n){n.type=t,this.topics[t]&&this.topics[t].forEach(function(e){e(n,t)})}}}Object.keys||(Object.keys=function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});function $o(E){E=Eo({container:".slider",mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:1,center:!1,controls:!0,controlsPosition:"top",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!1,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},E||{});var x=document,v=window,o={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},t={},e=E.useLocalStorage;if(e){var n=navigator.userAgent,i=new Date;try{(t=v.localStorage)?(t.setItem(i,i),e=t.getItem(i)==i,t.removeItem(i)):e=!1,e||(t={})}catch(n){e=!1}e&&(t.tnsApp&&t.tnsApp!==n&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach(function(e){t.removeItem(e)}),localStorage.tnsApp=n)}var g=t.tC?xo(t.tC):Ao(t,"tC",function(){var e=document,t=Co(),n=_o(t),o=e.createElement("div"),i=!1;t.appendChild(o);try{for(var a,r="(10px * 10)",s=["calc"+r,"-moz-calc"+r,"-webkit-calc"+r],l=0;l<3;l++)if(a=s[l],o.style.width=a,100===o.offsetWidth){i=a.replace(r,"");break}}catch(e){}return t.fake?No(t,n):o.remove(),i}(),e),y=t.tPL?xo(t.tPL):Ao(t,"tPL",function(){var e=document,t=Co(),n=_o(t),o=e.createElement("div"),e=e.createElement("div"),i="";o.className="tns-t-subp2",e.className="tns-t-ct";for(var a=0;a<70;a++)i+="<div></div>";return e.innerHTML=i,o.appendChild(e),t.appendChild(o),e=Math.abs(o.getBoundingClientRect().left-e.children[67].getBoundingClientRect().left)<2,t.fake?No(t,n):o.remove(),e}(),e),A=t.tMQ?xo(t.tMQ):Ao(t,"tMQ",function(){if(window.matchMedia||window.msMatchMedia)return!0;var e=document,t=Co(),n=_o(t),o=e.createElement("div"),i=e.createElement("style"),a="@media all and (min-width:1px){.tns-mq-test{position:absolute}}";return i.type="text/css",o.className="tns-mq-test",t.appendChild(i),t.appendChild(o),i.styleSheet?i.styleSheet.cssText=a:i.appendChild(e.createTextNode(a)),a=(window.getComputedStyle?window.getComputedStyle(o):o.currentStyle).position,t.fake?No(t,n):o.remove(),"absolute"===a}(),e),a=t.tTf?xo(t.tTf):Ao(t,"tTf",Fo("transform"),e),r=t.t3D?xo(t.t3D):Ao(t,"t3D",function(e){if(!e)return!1;if(!window.getComputedStyle)return!1;var t=document,n=Co(),o=_o(n),i=t.createElement("p"),t=9<e.length?"-"+e.slice(0,-9).toLowerCase()+"-":"";return t+="transform",n.insertBefore(i,null),i.style[e]="translate3d(1px,1px,1px)",t=window.getComputedStyle(i).getPropertyValue(t),n.fake?No(n,o):i.remove(),void 0!==t&&0<t.length&&"none"!==t}(a),e),L=t.tTDu?xo(t.tTDu):Ao(t,"tTDu",Fo("transitionDuration"),e),s=t.tTDe?xo(t.tTDe):Ao(t,"tTDe",Fo("transitionDelay"),e),b=t.tADu?xo(t.tADu):Ao(t,"tADu",Fo("animationDuration"),e),l=t.tADe?xo(t.tADe):Ao(t,"tADe",Fo("animationDelay"),e),c=t.tTE?xo(t.tTE):Ao(t,"tTE",Vo(L,"Transition"),e),d=t.tAE?xo(t.tAE):Ao(t,"tAE",Vo(b,"Animation"),e),u=v.console&&"function"==typeof v.console.warn,m=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],f={};if(m.forEach(function(e){var t,n;"string"==typeof E[e]&&(t=E[e],n=x.querySelector(t),f[e]=t,n&&n.nodeName?E[e]=n:u&&console.warn("Can't find",E[e]))}),!(E.container.children.length<1)){var C,_,h,N,T=E.responsive,j=E.nested,k="carousel"===E.mode;if(T){0 in T&&(E=Eo(E,T[0]),delete T[0]);var p,w={};for(p in T){var S="number"==typeof(S=T[p])?{items:S}:S;w[p]=S}T=w,w=null}k||function e(t){for(var n in t)k||("slideBy"===n&&(t[n]="page"),"edgePadding"===n&&(t[n]=!1),"autoHeight"===n&&(t[n]=!1)),"responsive"===n&&e(t[n])}(E),k||(E.axis="horizontal",E.slideBy="page",E.edgePadding=!1,C=E.animateIn,_=E.animateOut,h=E.animateDelay,N=E.animateNormal);var q,B,M="horizontal"===E.axis,D=x.createElement("div"),I=x.createElement("div"),H=E.container,O=H.parentNode,R=H.outerHTML,P=H.children,z=P.length,W=Zt(),F=!1;T&&Ln(),k&&(H.className+=" tns-vpfix");var V,U,X,Y,$,G,K,Q,Z,J,ee,te,ne,oe,ie,ae,re,se,le,ce,de,ue,me,fe,he,pe,ve,ge,ye,Le,be,we,Se,Ee,xe,Ae,Ce,_e,Ne=E.autoWidth,Te=nn("fixedWidth"),je=nn("edgePadding"),ke=nn("gutter"),qe=en(),Be=nn("center"),Me=Ne?1:Math.floor(nn("items")),De=nn("slideBy"),Ie=E.viewportMax||E.fixedWidthViewportWidth,He=nn("arrowKeys"),Oe=nn("speed"),Re=E.rewind,Pe=!Re&&E.loop,ze=nn("autoHeight"),We=nn("controls"),Fe=nn("controlsText"),Ve=nn("nav"),Ue=nn("touch"),Xe=nn("mouseDrag"),Ye=nn("autoplay"),$e=nn("autoplayTimeout"),Ge=nn("autoplayText"),Ke=nn("autoplayHoverPause"),Qe=nn("autoplayResetOnVisibility"),Ze=(i=nn("nonce"),e=document.createElement("style"),i&&e.setAttribute("nonce",i),document.querySelector("head").appendChild(e),e.sheet||e.styleSheet),Je=E.lazyload,et=E.lazyloadSelector,tt=[],nt=Pe?(e=function(){if(Ne||Te&&!Ie)return z-1;var e=Te?"fixedWidth":"items",t=[];if((Te||E[e]<z)&&t.push(E[e]),T)for(var n in T){n=T[n][e];n&&(Te||n<z)&&t.push(n)}return t.length||t.push(0),Math.ceil(Te?Ie/Math.min.apply(null,t):Math.max.apply(null,t))}(),Y=k?Math.ceil((5*e-z)/2):4*e-z,Y=Math.max(e,Y),tn("edgePadding")?Y+1:Y):0,ot=k?z+2*nt:z+nt,it=!(!Te&&!Ne||Pe),at=Te?Un():null,rt=!k||!Pe,st=M?"left":"top",lt="",ct="",dt=Te?function(){return Be&&!Pe?z-1:Math.ceil(-at/(Te+ke))}:Ne?function(){for(var e=0;e<ot;e++)if(V[e]>=-at)return e}:function(){return Be&&k&&!Pe?z-1:Pe||k?Math.max(0,ot-Math.ceil(Me)):ot-1},ut=Gt(nn("startIndex")),mt=ut,ft=($t(),0),ht=Ne?null:dt(),pt=E.preventActionWhenRunning,vt=E.swipeAngle,gt=!vt||"?",yt=!1,Lt=E.onInit,bt=new Yo,wt=" tns-slider tns-"+E.mode,St=H.id||(Y=window.tnsId,window.tnsId=Y?Y+1:1,"tns"+window.tnsId),Et=nn("disable"),xt=!1,At=E.freezable,Ct=!(!At||Ne)&&yn(),_t=!1,Nt={click:eo,keydown:function(e){e=lo(e);var t=[o.LEFT,o.RIGHT].indexOf(e.keyCode);0<=t&&(0===t?Z.disabled||eo(e,-1):J.disabled||eo(e,1))}},Tt={click:function(e){if(yt){if(pt)return;Zn()}for(var t,n,o=co(e=lo(e));o!==oe&&!Do(o,"data-nav");)o=o.parentNode;Do(o,"data-nav")&&(t=se=Number(Io(o,"data-nav")),n=Te||Ne?t*z/ae:t*Me,Jn(Ht?t:Math.min(Math.ceil(n),z-1),e),le===t&&(he&&ao(),se=-1))},keydown:function(e){e=lo(e);var t,n=x.activeElement;Do(n,"data-nav")&&(t=[o.LEFT,o.RIGHT,o.ENTER,o.SPACE].indexOf(e.keyCode),n=Number(Io(n,"data-nav")),0<=t&&(0===t?0<n&&so(ne[n-1]):1===t?n<ae-1&&so(ne[n+1]):Jn(se=n,e)))}},jt={mouseover:function(){he&&(no(),pe=!0)},mouseout:function(){pe&&(to(),pe=!1)}},kt={visibilitychange:function(){x.hidden?he&&(no(),ge=!0):ge&&(to(),ge=!1)}},qt={keydown:function(e){e=lo(e);var t=[o.LEFT,o.RIGHT].indexOf(e.keyCode);0<=t&&eo(e,0===t?-1:1)}},Bt={touchstart:ho,touchmove:po,touchend:vo,touchcancel:vo},Mt={mousedown:ho,mousemove:po,mouseup:vo,mouseleave:vo},Dt=tn("controls"),It=tn("nav"),Ht=!!Ne||E.navAsThumbnails,Ot=tn("autoplay"),e=tn("touch"),Rt=tn("mouseDrag"),Pt="tns-slide-active",zt="tns-slide-cloned",Wt="tns-complete",Ft={load:function(e){Nn(co(e))},error:function(e){e=co(e);Bo(e,"failed"),Tn(e)}},Vt="force"===E.preventScrollOnTouch;Dt&&(K=E.controlsContainer,Q=E.controlsContainer?E.controlsContainer.outerHTML:"",Z=E.prevButton,J=E.nextButton,ee=E.prevButton?E.prevButton.outerHTML:"",te=E.nextButton?E.nextButton.outerHTML:""),It&&(oe=E.navContainer,ie=E.navContainer?E.navContainer.outerHTML:"",ae=Ne?z:yo(),re=0,se=-1,le=Qt(),ce=le,de="tns-nav-active",ue="Carousel Page ",me=" (Current Slide)"),Ot&&(ye="forward"===E.autoplayDirection?1:-1,Le=E.autoplayButton,be=E.autoplayButton?E.autoplayButton.outerHTML:"",we=["<span class='tns-visually-hidden'>"," animation</span>"]),(e||Rt)&&(xe={},Ce=!(Ae={}),_e=M?function(e,t){return e.x-t.x}:function(e,t){return e.y-t.y}),Ne||Yt(Et||Ct),a&&(st=a,lt="translate",ct=r?(lt+=M?"3d(":"3d(0px, ",M?", 0px, 0px)":", 0px)"):(lt+=M?"X(":"Y(",")")),k&&(H.className=H.className.replace("tns-vpfix","")),function(){if(tn("gutter"),D.className="tns-outer",I.className="tns-inner",D.id=St+"-ow",I.id=St+"-iw",""===H.id&&(H.id=St),wt+=y||Ne?" tns-subpixel":" tns-no-subpixel",wt+=g?" tns-calc":" tns-no-calc",Ne&&(wt+=" tns-autowidth"),wt+=" tns-"+E.axis,H.className+=wt,k?((q=x.createElement("div")).id=St+"-mw",q.className="tns-ovh",D.appendChild(q),q.appendChild(I)):D.appendChild(I),ze&&((q||I).className+=" tns-ah"),O.insertBefore(D,H),I.appendChild(H),ko(P,function(e,t){Bo(e,"tns-item"),e.id||(e.id=St+"-item"+t),!k&&N&&Bo(e,N),Ho(e,{"aria-hidden":"true",tabindex:"-1"})}),nt){for(var e=x.createDocumentFragment(),t=x.createDocumentFragment(),n=nt;n--;){var o=n%z,i=P[o].cloneNode(!0);Bo(i,zt),Oo(i,"id"),t.insertBefore(i,t.firstChild),k&&(o=P[z-1-o].cloneNode(!0),Bo(o,zt),Oo(o,"id"),e.appendChild(o))}H.insertBefore(e,H.firstChild),H.appendChild(t),P=H.children}}(),function(){if(!k)for(var e=ut,t=ut+Math.min(z,Me);e<t;e++){var n=P[e];n.style.left=100*(e-ut)/Me+"%",Bo(n,C),Mo(n,N)}if(M&&(y||Ne?(To(Ze,"#"+St+" > .tns-item","font-size:"+v.getComputedStyle(P[0]).fontSize+";",jo(Ze)),To(Ze,"#"+St,"font-size:0;",jo(Ze))):k&&ko(P,function(e,t){e.style.marginLeft=g?g+"("+100*t+"% / "+ot+")":100*t/ot+"%"})),A?(L&&(a=q&&E.autoHeight?cn(E.speed):"",To(Ze,"#"+St+"-mw",a,jo(Ze))),a=on(E.edgePadding,E.gutter,E.fixedWidth,E.speed,E.autoHeight),To(Ze,"#"+St+"-iw",a,jo(Ze)),k&&(a=M&&!Ne?"width:"+an(E.fixedWidth,E.gutter,E.items)+";":"",L&&(a+=cn(Oe)),To(Ze,"#"+St,a,jo(Ze))),a=M&&!Ne?rn(E.fixedWidth,E.gutter,E.items):"",E.gutter&&(a+=sn(E.gutter)),k||(L&&(a+=cn(Oe)),b&&(a+=dn(Oe)))):(k&&ze&&(q.style[L]=Oe/1e3+"s"),I.style.cssText=on(je,ke,Te,ze),k&&M&&!Ne&&(H.style.width=an(Te,ke,Me)),a=M&&!Ne?rn(Te,ke,Me):"",ke&&(a+=sn(ke))),a&&To(Ze,"#"+St+" > .tns-item",a,jo(Ze)),T&&A)for(var o in T){var o=parseInt(o),i=T[o],a="",r="",s="",l="",c="",d=Ne?null:nn("items",o),u=nn("fixedWidth",o),m=nn("speed",o),f=nn("edgePadding",o),h=nn("autoHeight",o),p=nn("gutter",o);L&&q&&nn("autoHeight",o)&&"speed"in i&&(r="#"+St+"-mw{"+cn(m)+"}"),("edgePadding"in i||"gutter"in i)&&(s="#"+St+"-iw{"+on(f,p,u,m,h)+"}"),k&&M&&!Ne&&("fixedWidth"in i||"items"in i||Te&&"gutter"in i)&&(l="width:"+an(u,p,d)+";"),L&&"speed"in i&&(l+=cn(m)),l=l&&"#"+St+"{"+l+"}",("fixedWidth"in i||Te&&"gutter"in i||!k&&"items"in i)&&(c+=rn(u,p,d)),"gutter"in i&&(c+=sn(p)),!k&&"speed"in i&&(L&&(c+=cn(m)),b&&(c+=dn(m))),(a=r+s+l+(c=c&&"#"+St+" > .tns-item{"+c+"}"))&&Ze.insertRule("@media (min-width: "+o/16+"em) {"+a+"}",Ze.cssRules.length)}}(),un();var Ut=Pe?k?function(){var e=ft,t=ht;e+=De,t-=De,je?(e+=1,--t):Te&&(qe+ke)%(Te+ke)&&--t,nt&&(t<ut?ut-=z:ut<e&&(ut+=z))}:function(){if(ht<ut)for(;ft+z<=ut;)ut-=z;else if(ut<ft)for(;ut<=ht-z;)ut+=z}:function(){ut=Math.max(ft,Math.min(ht,ut))},Xt=k?function(){var t,n,o,i,e,a,r,s,l,c,d;Fn(H,""),L||!Oe?($n(),Oe&&Wo(H)||Zn()):(t=H,n=st,o=lt,i=ct,e=Xn(),a=Oe,r=Zn,s=Math.min(a,10),l=0<=e.indexOf("%")?"%":"px",e=e.replace(l,""),c=Number(t.style[n].replace(o,"").replace(i,"").replace(l,"")),d=(e-c)/a*s,setTimeout(function e(){a-=s,c+=d,t.style[n]=o+c+l+i,0<a?setTimeout(e,s):r()},s)),M||go()}:function(){tt=[];var e={};e[c]=e[d]=Zn,Xo(P[mt],e),Uo(P[ut],e),Gn(mt,C,_,!0),Gn(ut,N,C),c&&d&&Oe&&Wo(H)||Zn()};return{version:"2.9.4",getInfo:bo,events:bt,goTo:Jn,play:function(){Ye&&!he&&(io(),ve=!1)},pause:function(){he&&(ao(),ve=!0)},isOn:F,updateSliderHeight:Dn,refresh:un,destroy:function(){var e;Ze.disabled=!0,Ze.ownerNode&&Ze.ownerNode.remove(),Xo(v,{resize:vn}),He&&Xo(x,qt),K&&Xo(K,Nt),oe&&Xo(oe,Tt),Xo(H,jt),Xo(H,kt),Le&&Xo(Le,{click:ro}),Ye&&clearInterval(fe),k&&c&&((e={})[c]=Zn,Xo(H,e)),Ue&&Xo(H,Bt),Xe&&Xo(H,Mt);var t,a=[R,Q,ee,te,ie,be];for(t in m.forEach(function(e,t){var n,o,i="container"===e?D:E[e];"object"==typeof i&&i&&(n=!!i.previousElementSibling&&i.previousElementSibling,o=i.parentNode,i.outerHTML=a[t],E[e]=n?n.nextElementSibling:o.firstElementChild)}),m=C=_=h=N=M=D=I=H=O=R=P=z=B=W=Ne=Te=je=ke=qe=Me=De=Ie=He=Oe=Re=Pe=ze=Ze=Je=V=tt=nt=ot=it=at=rt=st=lt=ct=dt=ut=mt=ft=ht=vt=gt=yt=Lt=bt=wt=St=Et=xt=At=Ct=_t=Nt=Tt=jt=kt=qt=Bt=Mt=Dt=It=Ht=Ot=Rt=Pt=Wt=Ft=U=We=Fe=K=Q=Z=J=$=G=Ve=oe=ie=ne=ae=re=se=le=ce=de=ue=me=Ye=$e=ye=Ge=Ke=Le=be=Qe=we=fe=he=pe=ve=ge=xe=Ae=Se=Ce=Ee=_e=Ue=Xe=null,this)"rebuild"!==t&&(this[t]=null);F=!1},rebuild:function(){return $o(Eo(E,f))}}}function Yt(e){e&&(We=Ve=Ue=Xe=He=Ye=Ke=Qe=!1)}function $t(){for(var e=k?ut-nt:ut;e<0;)e+=z;return e%z+1}function Gt(e){return e=e?Math.max(0,Math.min(Pe?z-1:z-Me,e)):0,k?e+nt:e}function Kt(e){for(null==e&&(e=ut),k&&(e-=nt);e<0;)e+=z;return Math.floor(e%z)}function Qt(){var e=Kt(),e=Ht?e:Te||Ne?Math.ceil((e+1)*ae/z-1):Math.floor(e/Me);return e=!Pe&&k&&ut===ht?ae-1:e}function Zt(){return v.innerWidth||x.documentElement.clientWidth||x.body.clientWidth}function Jt(e){return"top"===e?"afterbegin":"beforeend"}function en(){var e=je?2*je-ke:0;return function e(t){if(null!=t){var n,o=x.createElement("div");return t.appendChild(o),n=(n=o.getBoundingClientRect()).right-n.left,o.remove(),n||e(t.parentNode)}}(O)-e}function tn(e){if(E[e])return!0;if(T)for(var t in T)if(T[t][e])return!0;return!1}function nn(e,t){if(null==t&&(t=W),"items"===e&&Te)return Math.floor((qe+ke)/(Te+ke))||1;var n=E[e];if(T)for(var o in T)t>=parseInt(o)&&e in T[o]&&(n=T[o][e]);return"slideBy"===e&&"page"===n&&(n=nn("items")),n=!(k||"slideBy"!==e&&"items"!==e)?Math.floor(n):n}function on(e,t,n,o,i){var a,r="";return void 0!==e?(a=e,t&&(a-=t),r=M?"margin: 0 "+a+"px 0 "+e+"px;":"margin: "+e+"px 0 "+a+"px 0;"):t&&!n&&(t="-"+t+"px",r="margin: 0 "+(M?t+" 0 0":"0 "+t+" 0")+";"),!k&&i&&L&&o&&(r+=cn(o)),r}function an(e,t,n){return e?(e+t)*ot+"px":g?g+"("+100*ot+"% / "+n+")":100*ot/n+"%"}function rn(e,t,n){var o;return o="width:"+(o=e?e+t+"px":(k||(n=Math.floor(n)),o=k?ot:n,g?g+"(100% / "+o+")":100/o+"%")),"inner"!==j?o+";":o+" !important;"}function sn(e){return!1!==e?(M?"padding-":"margin-")+(M?"right":"bottom")+": "+e+"px;":""}function ln(e,t){t=e.substring(0,e.length-t).toLowerCase();return t=t&&"-"+t+"-"}function cn(e){return ln(L,18)+"transition-duration:"+e/1e3+"s;"}function dn(e){return ln(b,17)+"animation-duration:"+e/1e3+"s;"}function un(){var e;tn("autoHeight")||Ne||!M?(ko(e=H.querySelectorAll("img"),function(e){var t=e.src;Je||(t&&t.indexOf("data:image")<0?(e.src="",Uo(e,Ft),Bo(e,"loading"),e.src=t):Nn(e))}),wo(function(){qn(Ro(e),function(){U=!0})}),tn("autoHeight")&&(e=jn(ut,Math.min(ut+Me-1,ot-1))),Je?mn():wo(function(){qn(Ro(e),mn)})):(k&&Yn(),hn(),pn())}function mn(){var o;Ne&&1<z?(o=Pe?ut:z-1,function e(){var t=P[o].getBoundingClientRect().left,n=P[o-1].getBoundingClientRect().right;Math.abs(t-n)<=1?fn():setTimeout(function(){e()},16)}()):fn()}function fn(){M&&!Ne||(In(),Ne?(at=Un(),At&&(Ct=yn()),ht=dt(),Yt(Et||Ct)):go()),k&&Yn(),hn(),pn()}function hn(){var e,t;if(Hn(),D.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+An()+"</span>  of "+z+"</div>"),X=D.querySelector(".tns-liveregion .current"),Ot&&(t=Ye?"stop":"start",Le?Ho(Le,{"data-action":t}):E.autoplayButtonOutput&&(D.insertAdjacentHTML(Jt(E.autoplayPosition),'<button type="button" data-action="'+t+'">'+we[0]+t+we[1]+Ge[0]+"</button>"),Le=D.querySelector("[data-action]")),Le&&Uo(Le,{click:ro}),Ye&&(io(),Ke&&Uo(H,jt),Qe&&Uo(H,kt))),It){if(oe)Ho(oe,{"aria-label":"Carousel Pagination"}),ko(ne=oe.children,function(e,t){Ho(e,{"data-nav":t,tabindex:"-1","aria-label":ue+(t+1),"aria-controls":St})});else{for(var n="",o=Ht?"":'style="display:none"',i=0;i<z;i++)n+='<button type="button" data-nav="'+i+'" tabindex="-1" aria-controls="'+St+'" '+o+' aria-label="'+ue+(i+1)+'"></button>';D.insertAdjacentHTML(Jt(E.navPosition),n='<div class="tns-nav" aria-label="Carousel Pagination">'+n+"</div>"),oe=D.querySelector(".tns-nav"),ne=oe.children}Lo(),L&&(e=L.substring(0,L.length-18).toLowerCase(),t="transition: all "+Oe/1e3+"s",To(Ze,"[aria-controls^="+St+"-item]",t=e?"-"+e+"-"+t:t,jo(Ze))),Ho(ne[le],{"aria-label":ue+(le+1)+me}),Oo(ne[le],"tabindex"),Bo(ne[le],de),Uo(oe,Tt)}Dt&&(K||Z&&J||(D.insertAdjacentHTML(Jt(E.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+St+'">'+Fe[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+St+'">'+Fe[1]+"</button></div>"),K=D.querySelector(".tns-controls")),Z&&J||(Z=K.children[0],J=K.children[1]),E.controlsContainer&&Ho(K,{"aria-label":"Carousel Navigation",tabindex:"0"}),(E.controlsContainer||E.prevButton&&E.nextButton)&&Ho([Z,J],{"aria-controls":St,tabindex:"-1"}),(E.controlsContainer||E.prevButton&&E.nextButton)&&(Ho(Z,{"data-controls":"prev"}),Ho(J,{"data-controls":"next"})),$=Rn(Z),G=Rn(J),Wn(),K?Uo(K,Nt):(Uo(Z,Nt),Uo(J,Nt))),bn()}function pn(){var e;k&&c&&((e={})[c]=Zn,Uo(H,e)),Ue&&Uo(H,Bt,E.preventScrollOnTouch),Xe&&Uo(H,Mt),He&&Uo(x,qt),"inner"===j?bt.on("outerResized",function(){gn(),bt.emit("innerLoaded",bo())}):(T||Te||Ne||ze||!M)&&Uo(v,{resize:vn}),ze&&("outer"===j?bt.on("innerLoaded",kn):Et||kn()),_n(),Et?En():Ct&&Sn(),bt.on("indexChanged",Bn),"inner"===j&&bt.emit("innerLoaded",bo()),"function"==typeof Lt&&Lt(bo()),F=!0}function vn(e){wo(function(){gn(lo(e))})}function gn(e){var t,n,o,i,a,r,s,l,c,d,u,m,f,h,p,v,g,y,L,b,w,S;F&&("outer"===j&&bt.emit("outerResized",bo(e)),W=Zt(),h=B,n=!1,T&&(Ln(),(t=h!==B)&&bt.emit("newBreakpointStart",bo(e))),o=Me,i=Et,a=Ct,r=He,s=We,l=Ve,c=Ue,d=Xe,u=Ye,m=Ke,f=Qe,h=ut,t&&(p=Te,L=ze,b=Fe,y=Be,v=Ge,A||(S=ke,g=je)),He=nn("arrowKeys"),We=nn("controls"),Ve=nn("nav"),Ue=nn("touch"),Be=nn("center"),Xe=nn("mouseDrag"),Ye=nn("autoplay"),Ke=nn("autoplayHoverPause"),Qe=nn("autoplayResetOnVisibility"),t&&(Et=nn("disable"),Te=nn("fixedWidth"),Oe=nn("speed"),ze=nn("autoHeight"),Fe=nn("controlsText"),Ge=nn("autoplayText"),$e=nn("autoplayTimeout"),A||(je=nn("edgePadding"),ke=nn("gutter"))),Yt(Et),qe=en(),M&&!Ne||Et||(In(),M||(go(),n=!0)),(Te||Ne)&&(at=Un(),ht=dt()),(t||Te)&&(Me=nn("items"),De=nn("slideBy"),(w=Me!==o)&&(Te||Ne||(ht=dt()),Ut())),t&&Et!==i&&(Et?En:function(){if(xt){if(Ze.disabled=!1,H.className+=wt,Yn(),Pe)for(var e=nt;e--;)k&&zo(P[e]),zo(P[ot-e-1]);if(!k)for(var t=ut,n=ut+z;t<n;t++){var o=P[t],i=t<ut+Me?C:N;o.style.left=100*(t-ut)/Me+"%",Bo(o,i)}wn(),xt=!1}})(),At&&(t||Te||Ne)&&(Ct=yn())!==a&&(Ct?($n(Xn(Gt(0))),Sn()):(function(){if(_t){if(je&&A&&(I.style.margin=""),nt)for(var e="tns-transparent",t=nt;t--;)k&&Mo(P[t],e),Mo(P[ot-t-1],e);wn(),_t=!1}}(),n=!0)),Yt(Et||Ct),Ye||(Ke=Qe=!1),He!==r&&(He?Uo:Xo)(x,qt),We!==s&&(We?K?zo(K):(Z&&zo(Z),J&&zo(J)):K?Po(K):(Z&&Po(Z),J&&Po(J))),Ve!==l&&(Ve?(zo(oe),Lo()):Po(oe)),Ue!==c&&(Ue?Uo(H,Bt,E.preventScrollOnTouch):Xo(H,Bt)),Xe!==d&&(Xe?Uo:Xo)(H,Mt),Ye!==u&&(Ye?(Le&&zo(Le),he||ve||io()):(Le&&Po(Le),he&&ao())),Ke!==m&&(Ke?Uo:Xo)(H,jt),Qe!==f&&(Qe?Uo:Xo)(x,kt),t?(Te===p&&Be===y||(n=!0),ze!==L&&(ze||(I.style.height="")),We&&Fe!==b&&(Z.innerHTML=Fe[0],J.innerHTML=Fe[1]),Le&&Ge!==v&&(y=Ye?1:0,b=(L=Le.innerHTML).length-v[y].length,L.substring(b)===v[y]&&(Le.innerHTML=L.substring(0,b)+Ge[y]))):Be&&(Te||Ne)&&(n=!0),(w||Te&&!Ne)&&(ae=yo(),Lo()),(h=ut!==h)?(bt.emit("indexChanged",bo()),n=!0):w?h||Bn():(Te||Ne)&&(_n(),Hn(),xn()),w&&!k&&function(){for(var e=ut+Math.min(z,Me),t=ot;t--;){var n=P[t];ut<=t&&t<e?(Bo(n,"tns-moving"),n.style.left=100*(t-ut)/Me+"%",Bo(n,C),Mo(n,N)):n.style.left&&(n.style.left="",Bo(n,N),Mo(n,C)),Mo(n,_)}setTimeout(function(){ko(P,function(e){Mo(e,"tns-moving")})},300)}(),Et||Ct||(t&&!A&&(je===g&&ke===S||(I.style.cssText=on(je,ke,Te,Oe,ze)),M)&&(k&&(H.style.width=an(Te,ke,Me)),w=rn(Te,ke,Me)+sn(ke),S=jo(g=Ze)-1,"deleteRule"in g?g.deleteRule(S):g.removeRule(S),To(Ze,"#"+St+" > .tns-item",w,jo(Ze))),ze&&kn(),n&&(Yn(),mt=ut)),t&&bt.emit("newBreakpointEnd",bo(e)))}function yn(){if(!Te&&!Ne)return z<=(Be?Me-(Me-1)/2:Me);var e=Te?(Te+ke)*z:V[z],t=je?qe+2*je:qe+ke;return Be&&(t-=Te?(qe-Te)/2:(qe-(V[ut+1]-V[ut]-ke))/2),e<=t}function Ln(){for(var e in B=0,T)(e=parseInt(e))<=W&&(B=e)}function bn(){!Ye&&Le&&Po(Le),!Ve&&oe&&Po(oe),We||(K?Po(K):(Z&&Po(Z),J&&Po(J)))}function wn(){Ye&&Le&&zo(Le),Ve&&oe&&zo(oe),We&&(K?zo(K):(Z&&zo(Z),J&&zo(J)))}function Sn(){if(!_t){if(je&&(I.style.margin="0px"),nt)for(var e="tns-transparent",t=nt;t--;)k&&Bo(P[t],e),Bo(P[ot-t-1],e);bn(),_t=!0}}function En(){if(!xt){if(Ze.disabled=!0,H.className=H.className.replace(wt.substring(1),""),Oo(H,["style"]),Pe)for(var e=nt;e--;)k&&Po(P[e]),Po(P[ot-e-1]);if(M&&k||Oo(I,["style"]),!k)for(var t=ut,n=ut+z;t<n;t++){var o=P[t];Oo(o,["style"]),Mo(o,C),Mo(o,N)}bn(),xt=!0}}function xn(){var e=An();X.innerHTML!==e&&(X.innerHTML=e)}function An(){var e=Cn(),t=e[0]+1,e=e[1]+1;return t===e?t+"":t+" to "+e}function Cn(e){null==e&&(e=Xn());var n,o,i,t,a=ut;return Be||je?(Ne||Te)&&(n=-(parseFloat(e)+je),o=n+qe+2*je):Ne&&(n=V[ut],o=n+qe),Ne?V.forEach(function(e,t){t<ot&&((Be||je)&&e<=n+.5&&(a=t),.5<=o-e&&(i=t))}):(i=Te?(t=Te+ke,Be||je?(a=Math.floor(n/t),Math.ceil(o/t-1)):a+Math.ceil(qe/t)-1):Be||je?(t=Me-1,i=Be?(a-=t/2,ut+t/2):ut+t,je&&(a-=t=je*Me/qe,i+=t),a=Math.floor(a),Math.ceil(i)):a+Me-1,a=Math.max(a,0),i=Math.min(i,ot-1)),[a,i]}function _n(){var e;Je&&!Et&&((e=Cn()).push(et),jn.apply(null,e).forEach(function(e){var t;qo(e,Wt)||((t={})[c]=function(e){e.stopPropagation()},Uo(e,t),Uo(e,Ft),e.src=Io(e,"data-src"),(t=Io(e,"data-srcset"))&&(e.srcset=t),Bo(e,"loading"))}))}function Nn(e){Bo(e,"loaded"),Tn(e)}function Tn(e){Bo(e,Wt),Mo(e,"loading"),Xo(e,Ft)}function jn(e,t,n){var o=[];for(n=n||"img";e<=t;)ko(P[e].querySelectorAll(n),function(e){o.push(e)}),e++;return o}function kn(){var e=jn.apply(null,Cn());wo(function(){qn(e,Dn)})}function qn(n,e){return U?e():(n.forEach(function(e,t){!Je&&e.complete&&Tn(e),qo(e,Wt)&&n.splice(t,1)}),n.length?void wo(function(){qn(n,e)}):e())}function Bn(){var e,t;_n(),Hn(),xn(),Wn(),Ve&&(le=0<=se?se:Qt(),se=-1,le!==ce)&&(e=ne[ce],t=ne[le],Ho(e,{tabindex:"-1","aria-label":ue+(ce+1)}),Mo(e,de),Ho(t,{"aria-label":ue+(le+1)+me}),Oo(t,"tabindex"),Bo(t,de),ce=le)}function Mn(e,t){for(var n=[],o=e,i=Math.min(e+t,ot);o<i;o++)n.push(P[o].offsetHeight);return Math.max.apply(null,n)}function Dn(){var e=ze?Mn(ut,Me):Mn(nt,z),t=q||I;t.style.height!==e&&(t.style.height=e+"px")}function In(){V=[0];var n=M?"left":"top",o=M?"right":"bottom",i=P[0].getBoundingClientRect()[n];ko(P,function(e,t){t&&V.push(e.getBoundingClientRect()[n]-i),t===ot-1&&V.push(e.getBoundingClientRect()[o]-i)})}function Hn(){var e=Cn(),n=e[0],o=e[1];ko(P,function(e,t){n<=t&&t<=o?Do(e,"aria-hidden")&&(Oo(e,["aria-hidden","tabindex"]),Bo(e,Pt)):Do(e,"aria-hidden")||(Ho(e,{"aria-hidden":"true",tabindex:"-1"}),Mo(e,Pt))})}function On(e){return e.nodeName.toLowerCase()}function Rn(e){return"button"===On(e)}function Pn(e){return"true"===e.getAttribute("aria-disabled")}function zn(e,t,n){e?t.disabled=n:t.setAttribute("aria-disabled",n.toString())}function Wn(){var e,t,n,o;!We||Re||Pe||(e=$?Z.disabled:Pn(Z),t=G?J.disabled:Pn(J),o=!Re&&ht<=ut,(n=ut<=ft)&&!e&&zn($,Z,!0),!n&&e&&zn($,Z,!1),o&&!t&&zn(G,J,!0),!o&&t&&zn(G,J,!1))}function Fn(e,t){L&&(e.style[L]=t)}function Vn(e){return null==e&&(e=ut),Ne?(qe-(je?ke:0)-(V[e+1]-V[e]-ke))/2:Te?(qe-Te)/2:(Me-1)/2}function Un(){var e=qe+(je?ke:0)-(Te?(Te+ke)*ot:V[ot]);return e=0<(e=Be&&!Pe?Te?-(Te+ke)*(ot-1)-Vn():Vn(ot-1)-V[ot-1]:e)?0:e}function Xn(e){var t,n;return null==e&&(e=ut),M&&!Ne?Te?(t=-(Te+ke)*e,Be&&(t+=Vn())):(n=a?ot:Me,Be&&(e-=Vn()),t=100*-e/n):(t=-V[e],Be&&Ne&&(t+=Vn())),(t=it?Math.max(t,at):t)+(!M||Ne||Te?"px":"%")}function Yn(e){Fn(H,"0s"),$n(e)}function $n(e){null==e&&(e=Xn()),H.style[st]=lt+e+ct}function Gn(e,t,n,o){var i=e+Me;Pe||(i=Math.min(i,ot));for(var a=e;a<i;a++){var r=P[a];o||(r.style.left=100*(a-ut)/Me+"%"),h&&s&&(r.style[s]=r.style[l]=h*(a-e)/1e3+"s"),Mo(r,t),Bo(r,n),o&&tt.push(r)}}function Kn(e,t){rt&&Ut(),ut===mt&&!t||(bt.emit("indexChanged",bo()),bt.emit("transitionStart",bo()),ze&&kn(),he&&e&&0<=["click","keydown"].indexOf(e.type)&&ao(),yt=!0,Xt())}function Qn(e){return e.toLowerCase().replace(/-/g,"")}function Zn(e){if(k||yt){if(bt.emit("transitionEnd",bo(e)),!k&&0<tt.length)for(var t=0;t<tt.length;t++){var n=tt[t];n.style.left="",l&&s&&(n.style[l]="",n.style[s]=""),Mo(n,_),Bo(n,N)}(!e||!k&&e.target.parentNode===H||e.target===H&&Qn(e.propertyName)===Qn(st))&&(rt||(e=ut,Ut(),ut!==e&&(bt.emit("indexChanged",bo()),Yn())),"inner"===j&&bt.emit("innerLoaded",bo()),yt=!1,mt=ut)}}function Jn(e,t){if(!Ct)if("prev"===e)eo(t,-1);else if("next"===e)eo(t,1);else{if(yt){if(pt)return;Zn()}var n=Kt(),o=0;"first"===e?o=-n:"last"===e?o=k?z-Me-n:z-1-n:("number"!=typeof e&&(e=parseInt(e)),isNaN(e)||(o=(e=!t?Math.max(0,Math.min(z-1,e)):e)-n)),!k&&o&&Math.abs(o)<Me&&(n=0<o?1:-1,o+=ft<=ut+o-z?z*n:2*z*n*-1),ut+=o,k&&Pe&&(ut<ft&&(ut+=z),ht<ut&&(ut-=z)),Kt(ut)!==Kt(mt)&&Kn(t)}}function eo(e,t){if(yt){if(pt)return;Zn()}var n;if(!t){for(var o=co(e=lo(e));o!==K&&[Z,J].indexOf(o)<0;)o=o.parentNode;var i=[Z,J].indexOf(o);0<=i&&(n=!0,t=0===i?-1:1)}if(Re){if(ut===ft&&-1===t)return void Jn("last",e);if(ut===ht&&1===t)return void Jn("first",e)}t&&(ut+=De*t,Ne&&(ut=Math.floor(ut)),Kn(n||e&&"keydown"===e.type?e:null))}function to(){fe=setInterval(function(){eo(null,ye)},$e),he=!0}function no(){clearInterval(fe),he=!1}function oo(e,t){Ho(Le,{"data-action":e}),Le.innerHTML=we[0]+e+we[1]+t}function io(){to(),Le&&oo("stop",Ge[1])}function ao(){no(),Le&&oo("start",Ge[0])}function ro(){ve=he?(ao(),!0):(io(),!1)}function so(e){e.focus()}function lo(e){return uo(e=e||v.event)?e.changedTouches[0]:e}function co(e){return e.target||v.event.srcElement}function uo(e){return 0<=e.type.indexOf("touch")}function mo(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function fo(){return t=Ae.y-xe.y,n=Ae.x-xe.x,e=Math.atan2(t,n)*(180/Math.PI),t=!1,90-(n=vt)<=(e=Math.abs(90-Math.abs(e)))?t="horizontal":e<=n&&(t="vertical"),t===E.axis;var e,t,n}function ho(e){if(yt){if(pt)return;Zn()}Ye&&he&&no(),Ce=!0,Ee&&(So(Ee),Ee=null);var t=lo(e);bt.emit(uo(e)?"touchStart":"dragStart",bo(e)),!uo(e)&&0<=["img","a"].indexOf(On(co(e)))&&mo(e),Ae.x=xe.x=t.clientX,Ae.y=xe.y=t.clientY,k&&(Se=parseFloat(H.style[st].replace(lt,"")),Fn(H,"0s"))}function po(e){var t;Ce&&(t=lo(e),Ae.x=t.clientX,Ae.y=t.clientY,k?Ee=Ee||wo(function(){!function e(t){if(!gt)return Ce=!1;if(So(Ee),Ce&&(Ee=wo(function(){e(t)})),gt="?"===gt?fo():gt){!Vt&&uo(t)&&(Vt=!0);try{t.type&&bt.emit(uo(t)?"touchMove":"dragMove",bo(t))}catch(e){}var n=Se,o=_e(Ae,xe);!M||Te||Ne?(n+=o,n+="px"):(n+=a?o*Me*100/((qe+ke)*ot):100*o/(qe+ke),n+="%"),H.style[st]=lt+n+ct}}(e)}):(gt="?"===gt?fo():gt)&&(Vt=!0),("boolean"!=typeof e.cancelable||e.cancelable)&&Vt&&e.preventDefault())}function vo(o){var e,i,n;Ce&&(Ee&&(So(Ee),Ee=null),k&&Fn(H,""),Ce=!1,e=lo(o),Ae.x=e.clientX,Ae.y=e.clientY,i=_e(Ae,xe),Math.abs(i)&&(uo(o)||Uo(n=co(o),{click:function e(t){mo(t),Xo(n,{click:e})}}),k?Ee=wo(function(){if(M&&!Ne){var e=-i*Me/(qe+ke),e=0<i?Math.floor(e):Math.ceil(e);ut+=e}else{var t=-(Se+i);if(t<=0)ut=ft;else if(t>=V[ot-1])ut=ht;else for(var n=0;n<ot&&t>=V[n];)t>V[ut=n]&&i<0&&(ut+=1),n++}Kn(o,i),bt.emit(uo(o)?"touchEnd":"dragEnd",bo(o))}):gt&&eo(o,0<i?-1:1))),"auto"===E.preventScrollOnTouch&&(Vt=!1),vt&&(gt="?"),Ye&&!he&&to()}function go(){(q||I).style.height=V[ut+Me]-V[ut]+"px"}function yo(){var e=Te?(Te+ke)*z/qe:z/Me;return Math.min(Math.ceil(e),z)}function Lo(){if(Ve&&!Ht&&ae!==re){var e=re,t=ae,n=zo;for(ae<re&&(e=ae,t=re,n=Po);e<t;)n(ne[e]),e++;re=ae}}function bo(e){return{container:H,slideItems:P,navContainer:oe,navItems:ne,controlsContainer:K,hasControls:Dt,prevButton:Z,nextButton:J,items:Me,slideBy:De,cloneCount:nt,slideCount:z,slideCountNew:ot,index:ut,indexCached:mt,displayIndex:$t(),navCurrentIndex:le,navCurrentIndexCached:ce,pages:ae,pagesCached:re,sheet:Ze,isOn:F,event:e||{}}}u&&console.warn("No slides found in",E.container)}return $o}();