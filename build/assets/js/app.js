function docReady(e){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,1):document.addEventListener("DOMContentLoaded",e)}function findOffset(e){let t=0,n=0;for(;t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent;);return{top:t,left:n}}function objToQuery(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}function closeAllSelect(e){let t,n,i,o,a,r=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),o=t.length,a=n.length,i=0;i<a;i++)e==n[i]?r.push(i):n[i].classList.remove("select-arrow-active");for(i=0;i<o;i++)r.indexOf(i)&&t[i].classList.add("select-hide")}function ContactMap(d,u,m){function e(){var e,t,n=new google.maps.Map(d),a=(e={mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,panControl:!0,panControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_CENTER},mapTypeControl:!1,scaleControl:!1,streetViewControl:!0,overviewMapControl:!0,overviewMapControlOptions:{opened:!0}},n.setOptions(e),n);function i(){var e,t=function(e){let t=0;if(e.parentNode){t=Array.from(Array.prototype.slice.call(m.children)[2].children).indexOf(e);var n,e=Array.prototype.slice.call(Array.prototype.slice.call(m.children)[2].children);for(n of e)n.classList.remove("same-as-selected");e[t].classList.add("same-as-selected")}return t}(this),n=u[t].dataset;for(e of u)e.classList.remove("active");u[t].classList.add("active");var t=n.centerLat||n.markerLat,i=n.centerLng||n.markerLng,o=a,n=n.zoom;t=new google.maps.LatLng(t,i),o.panTo(t),o.setZoom(parseInt(n))}for(t of Array.prototype.slice.call(m.children)[2].children)t.addEventListener("click",i);i.apply(m[0]);var o,r=n,s={url:d.dataset.markerImage,size:new google.maps.Size(48,48),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(24,48)};for(o of u){o=o.dataset,o=new google.maps.LatLng(o.markerLat,o.markerLng);new google.maps.Marker({map:r,position:o,icon:s})}var l=n;for(c of u){var c=c.dataset;c.routePoints&&(c=c.routePoints.split("; ").map(e=>e.split(",").map(parseFloat)).map(e=>new google.maps.LatLng(e[0],e[1])),new google.maps.Polyline({map:l,path:c,geodesic:!0,strokeColor:"rgb(35, 168, 224)",strokeOpacity:1,strokeWeight:3}))}}var t;d&&(window.map_initialized=function(){e()},(t=document.createElement("script")).src=["https://maps.googleapis.com/maps/api/js",objToQuery({key:d.dataset.apiKey,language:d.dataset.language,callback:"map_initialized"})].join("?"),document.body.appendChild(t))}function ContactMapYandex(d,u,m){function e(){ymaps.ready(function(){var e,t=new ymaps.Map(d,{center:[59.99512,30.25057],zoom:10}),o=t;function n(){var e,t=function(e){let t=0;if(e.parentNode){t=Array.from(Array.prototype.slice.call(m.children)[2].children).indexOf(e);var n,e=Array.prototype.slice.call(Array.prototype.slice.call(m.children)[2].children);for(n of e)n.classList.remove("same-as-selected");e[t].classList.add("same-as-selected")}return t}(this),n=u[t].dataset;for(e of u)e.classList.remove("active");u[t].classList.add("active");var t=n.centerLat||n.markerLat,i=n.centerLng||n.markerLng;n=n.zoom,o.setCenter([t,i],n,{checkZoomRange:!0})}for(e of Array.prototype.slice.call(m.children)[2].children)e.addEventListener("click",n);n.apply(m[0]);var i,a=t;officePlacemark=new ymaps.Placemark(a.getCenter(),{},{iconLayout:"default#image",iconImageHref:d.dataset.markerImage,iconImageSize:[48,48],iconImageOffset:[-24,-48]}),a.geoObjects.add(officePlacemark);for(i of u){i=i.dataset;officePlacemark=new ymaps.Placemark([i.markerLat,i.markerLng],{},{iconLayout:"default#image",iconImageHref:d.dataset.markerImage,iconImageSize:[48,48],iconImageOffset:[-24,-48]}),a.geoObjects.add(officePlacemark)}var r=t;for(l of u){l=l.dataset;if(l.routePoints){var s,l=l.routePoints.split("; ").map(e=>e.split(",").map(parseFloat)),c=[];for(s of l)c.push(s);l=new ymaps.GeoObject({geometry:{type:"LineString",coordinates:c}},{strokeColor:"rgb(35, 168, 224)",strokeWidth:3});r.geoObjects.add(l)}}})}var t;d&&((t=document.createElement("script")).src=["https://api-maps.yandex.ru/2.1",objToQuery({apikey:d.dataset.apiKeyYandex,lang:d.dataset.lang})].join("?"),document.body.appendChild(t),t.onload=e)}function TextareaOnInput(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}function portfolioRefresh(t){var n=document.querySelectorAll(".js-cases-container-portfolio .container_portfolio-inner")[0],e=document.querySelectorAll(".js-cases-more")[0];let i=0;for(let e=0;e<n.children.length;e++)n.children[e].classList.add("not-shown");for(let e=0;e<n.children.length;e++)n.children[e].classList.contains("hide")||++i<=t&&n.children[e].classList.remove("not-shown");var o=n.querySelectorAll(".zero-case");0===i&&o?(o[0].style.visibility="visible",o[1].style.visibility="visible",o[0].style.display="block",o[1].style.display="block",randomizeCases()):o&&(o[0].style.visibility="hidden",o[1].style.visibility="hidden",o[0].style.display="none",o[1].style.display="none"),i<=t&&e.parentNode.classList.add("hide")}function randomizeCases(){var e=document.querySelector(".js-randomcases-container"),t=e.children[0].childElementCount;if(e.querySelector(".service__feature_inner-case__visual")&&4<t){var n=[];for(let e=1;e<t+1;e++){var i=document.querySelector(".js-randomcases-container > .service__feature_inner-case__visual > .service__feature_inner-case__visual_wrapper:nth-child("+e+")");i&&i.classList.add("display-none")}for(let e=0;e<4;e++){var o=getRandomNumber(n,t),a=document.querySelector(".js-randomcases-container > .service__feature_inner-case__visual > .service__feature_inner-case__visual_wrapper:nth-child("+o+")");a&&a.classList.remove("display-none"),n.push(o)}}}function getRandomNumber(e,t){var n=Math.floor(1+Math.random()*t);return~e.indexOf(n)?getRandomNumber(e,t):n}function vacanciesRefresh(t){var n=document.querySelectorAll(".js-vacancies-container .vacancies__container_inner")[0],e=document.querySelectorAll(".js-vacancies-more")[0];let i=0;for(let e=0;e<n.children.length;e++)n.children[e].classList.add("not-shown");for(let e=0;e<n.children.length;e++)n.children[e].classList.contains("hide")||++i<=t&&n.children[e].classList.remove("not-shown");i<=t&&e?e.parentNode.classList.add("hide"):e&&e.parentNode.classList.remove("hide")}function vacanciesTransition(e,t){var n=document.querySelectorAll(".js-vacancies-container .vacancies__container_inner")[0],i=document.querySelectorAll(".js-vacancies-container")[0].dataset.page;if(i&&i!==e){i=document.querySelectorAll(".js-vacancies-container")[0].dataset.page=e;for(let e=0;e<n.children.length;e++)n?.children[e]?.classList.add("not-shown");for(let e=i*t;e<i*t+t;e++)n?.children[e]?.classList.remove("not-shown")}}function checkFieldValid(e){if(!e.value||e.value<2)return addListenerInput(e),!1;if("email"===e.type)if(!e.value.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))return addListenerInput(e),!1;return!0}function addListenerInput(t){t.addEventListener("input",function e(){t.classList.remove("error"),t.removeEventListener("input",e,!1)})}function initVideo(){for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++)e[t].getAttribute("data-src")&&e[t].setAttribute("src",e[t].getAttribute("data-src"))}function containerRefresh(t,n,e){let i=0;for(let e=0;e<n.children.length;e++)n.children[e].classList.contains("hide")||++i<=t&&n.children[e].classList.remove("not-shown");i<=t&&e.parentNode.classList.add("hide")}function removeOverBlocks(i,e,o,t,a){if(e){let t=!1,n=+e;var r,s=i.children;for(let e=0;e<s.length;e++){var l=i?.children[e];n&&!~l.classList.value.indexOf("hide")?(n--,l.classList.remove("over-limit")):l.classList.add("over-limit"),o&&~i.classList.value.indexOf("news__grid_card-complex")&&!~l.classList.value.indexOf("hide")&&(setBackground(l,t),t=!0)}a&&!o&&(r=Array.prototype.slice.call(s).filter(e=>~e.classList.value.indexOf("hide")).length,s.length<=e||s.length-r<=e?a.classList.add("hide"):a.classList.remove("hide"))}}function setBackground(e,t){t?e.classList.remove("first"):e.classList.add("first")}function smoothScrollOnLinkHash(e){e=document.getElementById(e);e&&e.scrollIntoView({behavior:"smooth"})}function getParamsByUrl(e=null){e=(e||location.search).substring(1),e=new URLSearchParams(e);let n={};return e.forEach((e,t)=>{""===(e="undefined"===(e="null"===e?null:e)?null:e)&&(e=null),n[t]=e}),n}function generateEditorialTOC(a){let o="";var r=a.querySelectorAll("h2");if(r.length){r.forEach(function(e,t){var n=e.innerHTML;e.innerHTML='<a name="head'+t+'" id="#head'+t+'"></a>'+n,o+='<h3><a href="#head'+t+'" class="js-scrollto">'+n+"</a></h3>"});let e=a.innerHTML.replace(/(([\s\S]*?)<h2>([\s\S]*?)<\/h2>)+?/gm,"<section>$2</section><h2>$3</h2>");e=e.replace(/<h2>([\s\S]*)<\/h2>([\s\S]+)/gm,"<h2>$1</h2><section>$2</section>"),a.innerHTML=e}o=""!=o?'<aside class="editorial-container__toc js-toc"><a href="#" class="sidetoc-menu js-sidetoc"></a><div class="editorial-container__toc-inner hide">'+o+'<a href="javascript:;" onclick="document.location.hash=\'top\';" class="back js-top"></a></div><a href="javascript:;" onclick="document.location.hash=\'top\';" class="back back-mobile js-top"></a></aside>':'<aside class="editorial-container__toc"></aside>';r=document.createElement("div");r.className="container editorial-container",""!=a&&(r.innerHTML=o+'<div class="custom-format editorial-container__body js-editorial">'+a.innerHTML+"</div>"),a.before(r),document.querySelectorAll(".js-editorial")[1].remove();const n=Array.from(document.getElementsByClassName("js-scrollto")),s=(n.length&&n.forEach(function(e,t){n[t].addEventListener("click",function(e){e.preventDefault();e=document.getElementById(e.target.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset;window.scrollTo({behavior:"smooth",top:e})})}),document.getElementsByClassName("js-toc")[0]);if(null!=s){a=document.getElementsByClassName("js-editorial")[0];let t=document.getElementsByClassName("header")[0].getBoundingClientRect().height+document.getElementsByClassName("top_news")[0].getBoundingClientRect().height;document.getElementsByClassName("editorial-container")[0].getBoundingClientRect().height;document.documentElement.scrollTop||document.body.scrollTop;let o;r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;const l=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;1024<r&&null!=document.getElementsByClassName("editorial-container__toc-inner")[0]&&document.getElementsByClassName("editorial-container__toc-inner")[0].classList.remove("hide");const c=a.getElementsByTagName("h2"),d=s.getElementsByTagName("h3");let n=new Array;function e(){o=document.documentElement.scrollTop||document.body.scrollTop;var e=document.getElementsByClassName("editorial-container__toc-inner")[0].getBoundingClientRect().height;if(s.style.height=e+68+"px",o>t+67?(document.getElementsByClassName("editorial-container__toc-inner")[0].classList.add("fixed"),s.classList.add("fixed")):(document.getElementsByClassName("editorial-container__toc-inner")[0].classList.remove("fixed"),s.classList.remove("fixed")),c.length){let n=-1;for(i=0;i<c.length;i++)o>c[i].getBoundingClientRect().top+window.scrollY-l&&(n=i);Array.prototype.slice.call(c).forEach(function(e,t){t==n?d[t].classList.add("active"):d[t].classList.remove("active")})}else Array.prototype.slice.call(c).forEach(function(e,t){d[t].classList.remove("active")})}c.length&&Array.prototype.slice.call(c).forEach(function(e,t){n[t]=c[t].offsetTop}),e(),window.addEventListener("touch",e,!0),window.addEventListener("scroll",e,!0),window.addEventListener("resize",e,!0)}}docReady(function(){var n=getParamsByUrl()?.scrollinto;n&&smoothScrollOnLinkHash(n);const t=document.getElementsByClassName("header")[0];let O=0;const i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;let l,c;const o=document.querySelector(".js-top"),I=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;i<=650?window.onscroll=function(){var e=document.documentElement.scrollTop||document.body.scrollTop;50<e?t.classList.add("header_scrolled"):t.classList.remove("header_scrolled"),e>I?e>O?t.classList.remove("header_shift"):(t.classList.add("header_sticky"),t.classList.add("header_transparent"),t.classList.add("header_shift")):(t.classList.remove("header_shift"),setTimeout(()=>{t.classList.remove("header_transparent"),t.classList.remove("header_sticky")},500)),O=e<=0?0:e,e<500?o.classList.add("hide"):o.classList.remove("hide")}:window.onscroll=function(){(document.documentElement.scrollTop||document.body.scrollTop)<500?o.classList.add("hide"):o.classList.remove("hide")};n=document.querySelectorAll(".cases-slider");n.length&&n.forEach((e,n)=>{{var i=n;let t=document.querySelectorAll(i?".project-with-slider .active":".cases__case .active");e.addEventListener("touchstart",e=>{touchstartX=e.changedTouches[0].screenX},!1),e.addEventListener("touchend",e=>{touchendX=e.changedTouches[0].screenX,touchstartX>touchendX?t.forEach(e=>{var t=e.nextElementSibling;t&&(e.classList.remove("active"),t.classList.add("active"))}):t.forEach(e=>{var t=e.previousElementSibling;t&&(e.classList.remove("active"),t.classList.add("active"))}),t=document.querySelectorAll(i?".project-with-slider .active":".cases__case .active")},!1)}});var P=document.querySelectorAll(".js-cases-dots");for(l=0;l<P.length;l++)P[l].addEventListener("click",function(e){e.preventDefault();var t=this.previousElementSibling;if("A"==e.target.tagName){var n=Array.prototype.slice.call(e.target.parentNode.parentNode.children),e=n.indexOf(e.target.parentNode);for(l=0;l<t.children.length;l++)t.children[l].classList.remove("active"),n[l].classList.remove("active");t.children[e].classList.add("active"),n[e].classList.add("active")}},!1);var R=document.querySelectorAll(".js-cases-info-dots");for(l=0;l<R.length;l++)R[l].addEventListener("click",function(e){e.preventDefault();var t=this.parentNode.previousElementSibling;if("A"==e.target.tagName){var n=Array.prototype.slice.call(e.target.parentNode.parentNode.children),e=n.indexOf(e.target.parentNode);for(l=0;l<t.children[0].children.length;l++)t.children[0].children[l].classList.remove("active"),n[l].classList.remove("active");t.children[0].children[e].classList.add("active"),n[e].classList.add("active")}},!1);var e=document.querySelectorAll(".js-problems-slider-groups"),z=document.querySelectorAll(".js-problems-groups-dots"),W=new Array;if(0<e.length)for(l=0;l<e.length;l++)W[l]=tns({container:e[l],items:1,controls:!1,navPosition:"bottom",navContainer:z[l],mouseDrag:!0,slideBy:"page"});var a=document.querySelectorAll(".js-cases-slider-groups"),V=document.querySelectorAll(".js-cases-groups-arrows-left"),F=document.querySelectorAll(".js-cases-groups-arrows-right"),U=new Array;if(0<a.length)for(l=0;l<a.length;l++)U[l]=tns({container:a[l],items:1,nav:!1,prevButton:V[l],nextButton:F[l],mouseDrag:!0,slideBy:"page"});if(0<document.querySelectorAll(".js-project-article").length&&tns({container:".js-project-article",items:1,controls:!1,navPosition:"bottom",navContainer:".js-project-article-dots",mouseDrag:!0,slideBy:"page"}),0<document.querySelectorAll(".js-featured-news").length&&tns({container:".js-featured-news .news__list",items:1.3,gutter:32,edgePadding:32,responsive:{768:{items:1.7},1100:{items:2.8},1440:{edgePadding:0,items:3,nav:!1}},nav:!0,navPosition:"bottom",controls:!1,mouseDrag:!0,slideBy:"page"}),0<document.querySelectorAll(".js-more-news").length&&tns({container:".js-more-news .news__items",items:1.3,gutter:32,edgePadding:20,responsive:{550:{edgePadding:0,items:2},1e3:{items:3},1440:{items:4,nav:!1}},nav:!0,navPosition:"bottom",controls:!1,mouseDrag:!0,slideBy:"page"}),0<document.querySelectorAll(".js-we-did").length&&(document.querySelector(".js-we-did"),650<i?tns({container:".js-we-did",items:4,gutter:15,responsive:{320:{items:2},992:{items:4}},axis:"horizontal",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"}):tns({container:".js-we-did",items:4,gutter:15,responsive:{320:{items:2},992:{items:4}},axis:"vertical",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"})),0<document.querySelectorAll(".js-cases-container").length){var n=document.querySelector(".js-cases-container"),r=Array.prototype.slice.call(n.children),s=new Array;let e=0,t=1;var d=document.createElement("div");for(d.className="cases-container__inner js-cases-container-inner",n.appendChild(d),l=0;l<r.length;l++)r[l].classList.contains("cases__case")&&(1==t&&(s[++e]=document.createElement("div"),s[e].className="cases__block",d.appendChild(s[e])),r[l].classList.contains("cases__case_double")&&t<=3?(s[e].insertAdjacentElement("beforeEnd",r[l]),t++):!r[l].classList.contains("cases__case_double")&&t<=4&&s[e].insertAdjacentElement("beforeEnd",r[l]),4<++t)&&(t=1);i<=650?tns({container:".js-cases-container-inner",items:1,gutter:15,axis:"horizontal",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"}):tns({container:".js-cases-container-inner",items:2,gutter:15,axis:"vertical",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"})}let u=document.querySelectorAll(".js-cases-container-portfolio .container_portfolio-inner"),m=document.querySelectorAll(".js-cases-types"),f=document.querySelectorAll(".js-cases-tags");if(0<u.length){let o=+document.querySelectorAll(".js-cases-container-portfolio")[0].dataset.limit;for(document.querySelectorAll(".js-cases-more")[0].addEventListener("click",function(e){e.preventDefault(),portfolioRefresh(o+=4)}),portfolioRefresh(o),l=0;l<m.length;l++){let i=new Array;for(c=0;c<u[0].children.length;c++){var X=u[0].children[c].dataset.types.slice(1,u[0].children[c].dataset.types.length-1);i[c]=X.split(",")}m[l].addEventListener("click",function(e){var t=e.target.parentNode.parentNode.childNodes[1],n=(e.preventDefault(),t?.selectedOptions[0]?.value);for(c=0;c<i.length;c++)i[c].includes("'"+n+"'")?u[0].children[c].classList.remove("hide"):u[0].children[c].classList.add("hide");for(c=0;c<f[0].children.length;c++)f[0].children[c].classList.remove("active");f[0].children[0].classList.add("active"),portfolioRefresh(o)})}for(l=0;l<f.length;l++){let i=new Array;for(c=0;c<u[0].children.length;c++){var Y=u[0].children[c].dataset.tags.slice(1,u[0].children[c].dataset.tags.length-1);i[c]=Y.split(",")}f[l].addEventListener("click",function(e){var t;if(e.preventDefault(),null!=e.target.getAttribute("href")){for(t=e.target.getAttribute("href").slice(1),c=0;c<f[0].children.length;c++)f[0].children[c].classList.remove("active");for(e.target.classList.add("active"),c=0;c<i.length;c++)i[c].includes("'"+t+"'")?u[0].children[c].classList.remove("hide"):u[0].children[c].classList.add("hide");var n=m[0].parentNode.childNodes[1].querySelector(".select-items");if(n){for(let e=0;e<n.childNodes.length;e++)n.childNodes[e].classList.remove("same-as-selected");n.childNodes[0].classList.add("same-as-selected")}portfolioRefresh(o)}})}}n=document.querySelectorAll(".js-editorial");0<n.length&&generateEditorialTOC(n[0]);let h=document.querySelectorAll(".js-vacancies-container .vacancies__container_inner");var p=document.querySelectorAll(".js-vacancies-types");if(0<h.length){let o=+document.querySelectorAll(".js-vacancies-container")[0].dataset.limit;n=document.querySelectorAll(".js-vacancies-more")[0];const D=document.querySelectorAll(".js-vacancies-page");if(n&&n.addEventListener("click",function(e){e.preventDefault(),vacanciesRefresh(o+=4)}),480<i)vacanciesRefresh(o);else{vacanciesRefresh(o=3);for(let e=0;e<D.length;e++)D[e].addEventListener("click",function(e){e.preventDefault(),vacanciesTransition(this.dataset.page,o);for(let e=0;e<D.length;e++)D[e].parentNode.classList.remove("active");this.parentNode.classList.add("active")})}for(l=0;l<p.length;l++){let i=new Array,t=new Array,n=new Array;for(emptyVacancyData="",c=0;c<h[0].children.length;c++){var G=h[0].children[c].dataset.types.slice(1,h[0].children[c].dataset.types.length-1);i[c]=G.split(",")}for(c=0;c<p[0].children[0].children.length;c++)t.push(p[0].children[0].children[c].value);for(n=t,c=0;c<t.length;c++){let e=!1;for(k=0;k<i.length;k++)i[k].includes("'"+t[c]+"'")&&(e=!0);e&&(n.splice(c,1),c--)}for(c=0;c<n.length;c++)emptyVacancyData+=",'"+n[c]+"'";for(emptyVacancyData="["+emptyVacancyData.substring(1)+"]",document.getElementById("vac_send").dataset.types=emptyVacancyData,c=0;c<h[0].children.length;c++){var K=h[0].children[c].dataset.types.slice(1,h[0].children[c].dataset.types.length-1);i[c]=K.split(",")}p[l].addEventListener("click",function(e){var t=e.target.parentNode.parentNode.childNodes[0],n=(e.preventDefault(),t.selectedOptions[0].value);for(c=0;c<i.length;c++)i[c].includes("'"+n+"'")?h[0].children[c].classList.remove("hide"):h[0].children[c].classList.add("hide");vacanciesRefresh(o)})}}let v=document.querySelectorAll(".js-news-grid-container");var Q=document.querySelectorAll(".js-news-types");if(0<v.length)for(let s=0;s<v.length;s++)try{let a=+v[s].dataset.limit,r=document.querySelectorAll(".js-more")[0];const H=v[s].dataset;for(H.limitStable||r?.addEventListener("click",function(e){a+=+H.perpage,removeOverBlocks(v[s],a,H.limitStable,H,r)}),l=0;l<Q.length;l++){let o=new Array;for(c=0;c<v[s].children.length;c++){var $=v[s].children[c].dataset.tags.slice(1,v[s].children[c].dataset.tags.length-1);o[c]=$.split(",")}removeOverBlocks(v[s],H.limit,H.limitStable,H,r),Q[l].addEventListener("click",function(e){a=+v[s].dataset.limit;var t=e.target.parentNode.parentNode.childNodes[1],n=(e.preventDefault(),t?.selectedOptions[0]?.value);let i=0;for(c=0;c<o.length;c++)o[c].includes("'"+n+"'")||o[c].includes("'every'")?v[s]?.children[c]?.classList.remove("hide"):(v[s]?.children[c]?.classList.add("hide"),i++),removeOverBlocks(v[s],H.limit,H.limitStable,H,r);v[s]?.children?.length===i?v[s].classList.add("hide"):v[s].classList.remove("hide")})}}catch(e){console.error({err:e})}var g=document.querySelectorAll(".vacancy");if(g.length)if(480<i)for(l=0;l<g.length;l++)g[l].addEventListener("mouseover",function(e){e.preventDefault();var e=this.children[0],t=e.getBoundingClientRect().height,e=e.getElementsByClassName("vacancy__title_name")[0],n=e.getBoundingClientRect().height+100,e=e.parentNode,i=e.nextElementSibling;let o=0;this.classList.contains("vacancy_send")&&(o=120),getup=-55,e.style.top=getup-o+n-t+"px",i.style.top=getup-o+n-t+"px",i.style.height=-getup+o+t-n+92+"px"},!1),g[l].addEventListener("mouseout",function(e){e.preventDefault();var e=this.children[0].getElementsByClassName("vacancy__title_name")[0].parentNode,t=e.nextElementSibling;e.style.top="0px",t.style.top="0px",t.style.height="100%"},!1);else for(l=0;l<g.length;l++)g[l].addEventListener("click",function(e){var t;"vacancy__body_link"!==e.target.className&&(e.preventDefault(),t=(e=this.children[0]).getElementsByClassName("vacancy__title_name")[0].parentNode.children[0],"336px"===this.style.height?(this.style.height="188px",e.style.height="100%",this.style.maxHeight="188px",e.style.maxHeight="100%",t.style.transform="rotate(0deg)","vac_send"===this.id&&(this.style["padding-bottom"]="128px")):(this.style.height="336px",e.style.height="100%",this.style.maxHeight="336px",e.style.maxHeight="100%",t.style.transform="rotate(135deg)","vac_send"===this.id&&(this.style["padding-bottom"]="336px")))},!1);let y=document.querySelector(".js-top-menu");n=document.querySelector(".js-top-menu-inner");let L=document.querySelector(".pmenu"),b=(y.addEventListener("click",function(e){e.preventDefault(),L.classList.contains("active")?(L.classList.remove("active"),y.parentNode.classList.remove("active"),document.querySelector("body").classList.remove("popup-open")):(L.classList.add("active"),y.parentNode.classList.add("active"),document.querySelector("body").classList.add("popup-open"))},!1),n.addEventListener("click",function(e){e.preventDefault(),L.classList.contains("active")&&(L.classList.remove("active"),y.parentNode.classList.remove("active"),document.querySelector("body").classList.remove("popup-open"))},!1),document.querySelector(".js-sidetoc")),S=document.querySelector(".editorial-container__toc-inner");document.querySelector(".js-toc"),null!=b&&b.addEventListener("click",function(n){n.preventDefault();if(S.classList.contains("hide")){S.classList.remove("hide");n=document.getElementsByClassName("editorial-container__toc-inner")[0].getBoundingClientRect().height;document.getElementsByClassName("js-toc")[0].style.height=n+68+"px";let e=1,t=setInterval(function(){3<e?clearInterval(t):(b.style.backgroundImage="url(/assets/css/img/icon-editorial"+e+".svg)",e++)},60)}else{S.classList.add("hide"),S.classList.remove("fixed"),document.getElementsByClassName("js-toc")[0].style.height="68px";let e=3,t=setInterval(function(){e<1?clearInterval(t):(b.style.backgroundImage="url(/assets/css/img/icon-editorial"+e+".svg)",e--)},60)}},!1);var w=document.querySelectorAll(['iframe[src*="youtube.com"]','iframe[src*="vimeo.com"]'].join(","));if(w.length)for(l=0;l<w.length;l++){var E=w[l],Z=E.getAttribute("width"),Z=E.getAttribute("height")/Z,J=E.parentNode,x=document.createElement("div");x.className="popup-video__frame",x.style.paddingBottom=100*Z+"%",J.insertBefore(x,E),E.remove(),x.appendChild(E),E.removeAttribute("height"),E.removeAttribute("width")}var A=document.getElementsByTagName("textarea");if(A.length)for(let e=0;e<A.length;e++)A[e].setAttribute("style","height:"+A[e].scrollHeight+"px;overflow-y:hidden;"),A[e].addEventListener("input",TextareaOnInput,!1),i<500&&"project_desc"==A[e].id&&(A[e].placeholder="Краткая информация");n=document.querySelector(".range");if(null!=n){document.querySelector(".range").classList.add("js");let a=document.createElement("input");function C(e){let t;var e=(t=null==e?document.querySelectorAll('.range input[type="range"]')[0]:t=e.target).parentNode,n=+t.value,i=+e.querySelector(`option[value='${n}']`).label,o=0<window.innerWidth?window.innerWidth:screen.width,o=1330<o?e.clientWidth:650<o?o:o-60,n=(t.setAttribute("aria-valuetext",i),e.style.setProperty("--"+t.id,n),e.style.setProperty("--lbl-"+t.id,i+""),e.style.setProperty("--wd",o),document.getElementById("l").children[document.getElementById("a").value].getAttribute("label")),i=document.getElementById("l").children[document.getElementById("b").value].getAttribute("label");a.setAttribute("value",n+"-"+i+" млн")}a.setAttribute("id","range"),a.setAttribute("name","range"),a.setAttribute("type","hidden"),n.appendChild(a),document.querySelectorAll('.range input[type="range"]')[0].addEventListener("input",C,!1),document.querySelectorAll('.range input[type="range"]')[1].addEventListener("input",C,!1),C()}var n=document.querySelector(".js-popup-video-open"),T=document.querySelector(".js-popup-video-close");let ee=document.querySelector(".popup-video");null!=n&&(n.addEventListener("click",function(e){e.preventDefault(),ee.classList.add("active"),document.querySelector("body").classList.add("popup-open")},!1),T.addEventListener("click",function(e){e.preventDefault(),ee.classList.remove("active"),document.querySelector("body").classList.remove("popup-open")},!1));var j=document.querySelectorAll(".js-popup-feedback-open"),te=document.querySelector(".js-popup-feedback-close");for(l=0;l<j.length;l++){let t=document.querySelector(".popup-feedback");document.querySelector(".popup-feedback__content");null!=j[l]&&(j[l].addEventListener("click",function(e){e.preventDefault(),"function"==typeof ym&&ym(23767978,"reachGoal","CLICKrequest"),i<481&&e.target.className.startsWith("vacanc")&&"vacancy__body_link"!==e.target.className||(t.classList.add("active"),document.querySelector("body").classList.add("popup-open"),null!=(bodyOpened=document.querySelector(".popup-open"))&&bodyOpened.addEventListener("click",function(e){(e.target.classList.contains("popup-feedback")||e.target.parentNode.classList.contains("popup-feedback"))&&(t.classList.remove("active"),document.querySelector("body").classList.remove("popup-open"))},!1))},!1),null!=te&&te.addEventListener("click",function(e){e.preventDefault(),null!=t&&t.classList.remove("active"),document.querySelector("body").classList.remove("popup-open")},!1),document.addEventListener("ajaxFormResponse",e=>{!0!==e.detail&&!1!==e.details||(null!=t&&t.classList.remove("active"),document.querySelector("body").classList.remove("popup-open"))},!1))}let N=document.querySelector(".circle-text");n=document.querySelector(".circle-pic");let _=document.querySelector(".circle-about")||document.querySelector(".about__animation_items");if(null!=n){n.classList.add("rotating");let e=3;setInterval(function(){for(l=0;l<N.children.length;l++)N.children[l%N.children.length].style.opacity="0";for(l=0;l<_.children.length;l++)_.children[l%_.children.length].style.opacity="0";setTimeout(()=>{for(l=0;l<N.children.length;l++)N.children[l%N.children.length].style.display="none";for(l=0;l<_.children.length;l++)_.children[l%_.children.length].style.display="none"},1e3),setTimeout(()=>{N.children[e%N.children.length].style.opacity="0",N.children[e%N.children.length].style.display="block",_.children[e%_.children.length].style.opacity="0",_.children[e%_.children.length].style.display="block",setTimeout(()=>{N.children[e%N.children.length].style.opacity="1",_.children[e%_.children.length].style.opacity="1"},250)},1e3),e++},5e3)}if(document.querySelector(".js-map-container")&&new ContactMapYandex(document.querySelector(".js-map-container"),document.querySelectorAll(".js-map-address"),document.querySelector(".js-map-select")),document.querySelector(".select")){let e,t,n,i,o,a,r,s,l;for(i=(e=document.getElementsByClassName("select")).length,t=0;t<i;t++){for(o=(a=e[t].getElementsByTagName("select")[0]).length,(r=document.createElement("DIV")).setAttribute("class","select-selected"),r.innerHTML=a?.options[a.selectedIndex]?.innerHTML,e[t].appendChild(r),(s=document.createElement("DIV")).setAttribute("class","select-items select-hide"),n=0;n<o;n++)(l=document.createElement("DIV")).innerHTML=a.options[n].innerHTML,0==n&&l.setAttribute("class","same-as-selected"),"ios"!=a.options[n].value&&"android"!=a.options[n].value&&"web"!=a.options[n].value&&"other"!=a.options[n].value||(newClass="iconed_"+a.options[n].value,l.classList.add("iconed"),l.classList.add(newClass)),l.addEventListener("click",function(e){let t,n,i,o,a,r,s,l;var c,d=(o=this.parentNode.parentNode.getElementsByTagName("select")[0]).id.startsWith("multiple");for(r=o.length,a=this.parentNode.previousSibling,n=0;n<r;n++)if((l=o.options[n].innerHTML)==this.innerHTML){d||(o.selectedIndex=n),d||(a.innerHTML=this.innerHTML),s=(t=this.parentNode.getElementsByClassName("same-as-selected")).length;let e=!1;if(o.options[n].setAttribute("selected",""),d)for(i=0;i<s;i++)t[i]?.innerHTML==this.innerHTML&&(e=t[i]?.innerHTML,t[i]?.classList.remove("same-as-selected"),o.options[n].removeAttribute("selected"));else{for(i=0;i<s;i++)t[i].classList.remove("same-as-selected");this.classList.add("same-as-selected")}d&&(e||this.classList.add("same-as-selected"),c=e||this.innerHTML,function(t,n,i,e){var o=(selectSelected=document.getElementsByClassName("select-selected")).length,a=e||"Выберите";for(let e=0;e<o;e++)i==selectSelected[e].innerHTML&&(t?(selectSelected[e].innerHTML=selectSelected[e].innerHTML.split(", ").filter(function(e){return e!==t}).join(", "),selectSelected[e].innerHTML||(selectSelected[e].innerHTML=a)):selectSelected[e].innerHTML!=a?selectSelected[e].innerHTML=selectSelected[e].innerHTML.concat(", "+n):selectSelected[e].innerHTML=n)}(e,c,a.innerHTML,l));break}d||a.click()}),s.appendChild(l);e[t].appendChild(s),r.addEventListener("click",function(e){e.stopPropagation(),closeAllSelect(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}document.addEventListener("click",closeAllSelect)}if(0<u.length){var q=new URL(window.location.href).searchParams?.get("casesTypes");if(q){var T=+document.querySelectorAll(".js-cases-container-portfolio")[0].dataset.limit,M=["all","start","scale","consult"],n=M.indexOf(q);if(~n){var ne=m[0].parentNode.childNodes[1].childNodes[1],B=document.querySelectorAll(".same-as-selected")[0];for(B.classList.remove("same-as-selected"),B.parentNode.childNodes[n].classList.add("same-as-selected"),ne.value=q,ne.selectedOptions[0].value=q,c=0;c<M.length;c++)M[c].includes("'"+q+"'")?u[0].children[c].classList.remove("hide"):u[0].children[c].classList.add("hide");portfolioRefresh(T)}}}if(0<document.querySelectorAll(".js-team-container").length&&(document.querySelector(".js-team-container"),tns({container:".js-team-container .team__list",items:4,gutter:15,responsive:{320:{items:1},640:{items:2},992:{items:4}},axis:"horizontal",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"})),0<document.querySelectorAll(".js-randomcases-container").length&&document.querySelector(".some-projects__list")){var ie=document.querySelector(".js-randomcases-container");for(let e=0;e<4;e++){var oe=Math.floor(1+Math.random()*ie.children[0].childElementCount),oe=document.querySelector(".js-randomcases-container > .some-projects__list > .cases__case:nth-child("+oe+")");oe&&oe.remove()}Array.prototype.slice.call(ie.children[0].children),tns({container:".js-randomcases-container .some-projects__list",items:4,gutter:15,responsive:{320:{items:2,nav:!0},640:{items:2,nav:!0},992:{items:4,nav:!1}},controls:!1,nav:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"})}if(0<document.querySelectorAll(".js-aurora-cases").length&&document.querySelector(".some-projects__list")&&(B=document.querySelector(".js-aurora-cases"),console.log({container:B}),n=Array.prototype.slice.call(B.children[0].children),console.log({cases:n}),tns({container:".js-aurora-cases .some-projects__list",items:1,gutter:15,responsive:{768:{items:2,nav:!1}},controls:!1,nav:!0,navPosition:"bottom",mouseDrag:!0,slideBy:"page"})),0<document.querySelectorAll(".js-accordion").length){var ne=document.querySelector(".js-accordion"),ae=Array.prototype.slice.call(ne.children);for(l=0;l<ae.length;l++)ae[l].addEventListener("click",function(e){e.target.className.startsWith("project")||e.target.className.startsWith("cases")||(e.preventDefault(),e.target.parentNode.classList.toggle("active"))},!1)}if(0<document.querySelectorAll(".js-years").length){T=document.querySelector(".js-years");Array.prototype.slice.call(T.children[0].children);let o=tns({container:".js-years",items:1,controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page",autoplay:!0,autoplayTimeout:3e3,autoplayButton:!1,autoplayButtonOutput:!1});B=()=>{var e=o.getInfo(),t=e.displayIndex-1,n=document.querySelector(".js-year-circle"),i=document.querySelector(".js-year-number");n.style.left=100*t/(e.slideCount-1)+"%",i.innerHTML=e.slideItems[e.displayIndex].dataset.year};B(),o.events.on("transitionEnd",B)}if(0<document.querySelectorAll(".js-request-button").length){n=document.querySelectorAll(".js-request-button")[0];let i=document.getElementById("request__form");n.onclick=function(){var e=i.getElementsByTagName("input");let t,n=!1;for(t=0;t<e.length;t++)checkFieldValid(e[t])||(n||(n=!0,i.scrollIntoView({behavior:"smooth"})),e[t].classList.add("error"));"function"==typeof ym&&ym(23767978,"reachGoal","CLICKsend")}}var re=document.querySelectorAll(".js-scrollto-applicants-form");if(0<re.length)for(l=0;l<re.length;l++)re[l].addEventListener("click",function(e){var t=document.getElementsByClassName("feedback_applicants");t.length&&t[0].scrollIntoView({behavior:"smooth"})},!1);if(0<document.querySelectorAll(".js-switch-category").length){var se=document.querySelectorAll(".js-switch-category a, .js-switch-category span");const ce=document.querySelectorAll(".js-show-business"),de=document.querySelectorAll(".js-show-applicants");for(l=0;l<se.length;l++)se[l].addEventListener("click",function(e){for(e.preventDefault(),c=0;c<ce.length;c++)ce[c].classList.toggle("hide");for(c=0;c<de.length;c++)de[c].classList.toggle("hide")},!1)}if(0<document.querySelectorAll(".yaDiskUploader").length){var le=document.querySelectorAll(".yaDiskUploader");let t;for(l=0;l<le.length;l++)(t=le[l]).addEventListener("click",function(e){e.preventDefault(),t.classList.contains("js-upload-started")||t.classList.add("js-upload-started")},!1)}0<document.querySelectorAll("iframe").length&&initVideo()});var tns=function(){var e=window,Ui=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,16)},t=window,Xi=t.cancelAnimationFrame||t.mozCancelAnimationFrame||function(e){clearTimeout(e)};function Yi(e){for(var t,n,i,o=e||{},a=1,r=arguments.length;a<r;a++)if(null!==(t=arguments[a]))for(n in t)o!==(i=t[n])&&void 0!==i&&(o[n]=i);return o}function Gi(e){return 0<=["true","false"].indexOf(e)?JSON.parse(e):e}function Ki(e,t,n,i){if(i)try{e.setItem(t,n)}catch(e){}return n}function Qi(){var e=document,t=e.body;return t||((t=e.createElement("body")).fake=!0),t}var n=document.documentElement;function $i(e){var t="";return e.fake&&(t=n.style.overflow,e.style.background="",e.style.overflow=n.style.overflow="hidden",n.appendChild(e)),t}function Zi(e,t){e.fake&&(e.remove(),n.style.overflow=t,n.offsetHeight)}function Ji(e,t,n,i){"insertRule"in e?e.insertRule(t+"{"+n+"}",i):e.addRule(t,n,i)}function eo(e){return("insertRule"in e?e.cssRules:e.rules).length}function to(e,t,n){for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i)}var t="classList"in document.createElement("_"),no=t?function(e,t){return e.classList.contains(t)}:function(e,t){return 0<=e.className.indexOf(t)},io=t?function(e,t){no(e,t)||e.classList.add(t)}:function(e,t){no(e,t)||(e.className+=" "+t)},oo=t?function(e,t){no(e,t)&&e.classList.remove(t)}:function(e,t){no(e,t)&&(e.className=e.className.replace(t,""))};function ao(e,t){return e.hasAttribute(t)}function ro(e,t){return e.getAttribute(t)}function a(e){return void 0!==e.item}function so(e,t){if(e=a(e)||e instanceof Array?e:[e],"[object Object]"===Object.prototype.toString.call(t))for(var n=e.length;n--;)for(var i in t)e[n].setAttribute(i,t[i])}function lo(e,t){e=a(e)||e instanceof Array?e:[e];for(var n=(t=t instanceof Array?t:[t]).length,i=e.length;i--;)for(var o=n;o--;)e[i].removeAttribute(t[o])}function co(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t}function uo(e,t){"none"!==e.style.display&&(e.style.display="none")}function mo(e,t){"none"===e.style.display&&(e.style.display="")}function fo(e){return"none"!==window.getComputedStyle(e).display}function ho(t){var n,i;"string"==typeof t&&(n=[t],i=t.charAt(0).toUpperCase()+t.substr(1),["Webkit","Moz","ms","O"].forEach(function(e){"ms"===e&&"transform"!==t||n.push(e+i)}),t=n);for(var e=document.createElement("fakeelement"),o=(t.length,0);o<t.length;o++){var a=t[o];if(void 0!==e.style[a])return a}return!1}function po(e,t){var n=!1;return/^Webkit/.test(e)?n="webkit"+t+"End":/^O/.test(e)?n="o"+t+"End":e&&(n=t.toLowerCase()+"end"),n}var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,o)}catch(e){}var r=!!i&&{passive:!0};function vo(e,t,n){for(var i in t){var o=0<=["touchstart","touchmove"].indexOf(i)&&!n&&r;e.addEventListener(i,t[i],o)}}function go(e,t){for(var n in t){var i=0<=["touchstart","touchmove"].indexOf(n)&&r;e.removeEventListener(n,t[n],i)}}function yo(){return{topics:{},on:function(e,t){this.topics[e]=this.topics[e]||[],this.topics[e].push(t)},off:function(e,t){if(this.topics[e])for(var n=0;n<this.topics[e].length;n++)if(this.topics[e][n]===t){this.topics[e].splice(n,1);break}},emit:function(t,n){n.type=t,this.topics[t]&&this.topics[t].forEach(function(e){e(n,t)})}}}Object.keys||(Object.keys=function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});function Lo(j){j=Yi({container:".slider",mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:1,center:!1,controls:!0,controlsPosition:"top",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!1,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},j||{});var N=document,i=window,o={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},t={},e=j.useLocalStorage;if(e){var a=navigator.userAgent,l=new Date;try{(t=i.localStorage)?(t.setItem(l,l),e=t.getItem(l)==l,t.removeItem(l)):e=!1,e||(t={})}catch(a){e=!1}e&&(t.tnsApp&&t.tnsApp!==a&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach(function(e){t.removeItem(e)}),localStorage.tnsApp=a)}var c,d,m,f,h,p=t.tC?Gi(t.tC):Ki(t,"tC",function(){var e=document,t=Qi(),n=$i(t),i=e.createElement("div"),o=!1;t.appendChild(i);try{for(var a,r="(10px * 10)",s=["calc"+r,"-moz-calc"+r,"-webkit-calc"+r],l=0;l<3;l++)if(a=s[l],i.style.width=a,100===i.offsetWidth){o=a.replace(r,"");break}}catch(e){}return t.fake?Zi(t,n):i.remove(),o}(),e),l=t.tPL?Gi(t.tPL):Ki(t,"tPL",function(){var e=document,t=Qi(),n=$i(t),i=e.createElement("div"),e=e.createElement("div"),o="";i.className="tns-t-subp2",e.className="tns-t-ct";for(var a=0;a<70;a++)o+="<div></div>";return e.innerHTML=o,i.appendChild(e),t.appendChild(i),e=Math.abs(i.getBoundingClientRect().left-e.children[67].getBoundingClientRect().left)<2,t.fake?Zi(t,n):i.remove(),e}(),e),oe=t.tMQ?Gi(t.tMQ):Ki(t,"tMQ",!(!window.matchMedia&&!window.msMatchMedia)||(c=document,m=$i(d=Qi()),f=c.createElement("div"),h="@media all and (min-width:1px){.tns-mq-test{position:absolute}}",(g=c.createElement("style")).type="text/css",f.className="tns-mq-test",d.appendChild(g),d.appendChild(f),g.styleSheet?g.styleSheet.cssText=h:g.appendChild(c.createTextNode(h)),g=(window.getComputedStyle?window.getComputedStyle(f):f.currentStyle).position,d.fake?Zi(d,m):f.remove(),"absolute"===g),e),v=t.tTf?Gi(t.tTf):Ki(t,"tTf",ho("transform"),e),g=t.t3D?Gi(t.t3D):Ki(t,"t3D",!!(c=v)&&!!window.getComputedStyle&&(h=document,m=$i(d=Qi()),h=h.createElement("p"),f=9<c.length?"-"+c.slice(0,-9).toLowerCase()+"-":"",f+="transform",d.insertBefore(h,null),h.style[c]="translate3d(1px,1px,1px)",c=window.getComputedStyle(h).getPropertyValue(f),d.fake?Zi(d,m):h.remove(),void 0!==c)&&0<c.length&&"none"!==c,e),u=t.tTDu?Gi(t.tTDu):Ki(t,"tTDu",ho("transitionDuration"),e),y=t.tTDe?Gi(t.tTDe):Ki(t,"tTDe",ho("transitionDelay"),e),L=t.tADu?Gi(t.tADu):Ki(t,"tADu",ho("animationDuration"),e),b=t.tADe?Gi(t.tADe):Ki(t,"tADe",ho("animationDelay"),e),S=t.tTE?Gi(t.tTE):Ki(t,"tTE",po(u,"Transition"),e),w=t.tAE?Gi(t.tAE):Ki(t,"tAE",po(L,"Animation"),e),E=i.console&&"function"==typeof i.console.warn,x=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],A={};if(x.forEach(function(e){var t,n;"string"==typeof j[e]&&(t=j[e],n=N.querySelector(t),A[e]=t,n&&n.nodeName?j[e]=n:E&&console.warn("Can't find",j[e]))}),!(j.container.children.length<1)){var ae,re,C,se,_=j.responsive,le=j.nested,k="carousel"===j.mode;if(_){0 in _&&(j=Yi(j,_[0]),delete _[0]);var T,ce={};for(T in _){var de=_[T];ce[T]="number"==typeof de?{items:de}:de}_=ce,ce=null}k||function e(t){for(var n in t)k||("slideBy"===n&&(t[n]="page"),"edgePadding"===n&&(t[n]=!1),"autoHeight"===n&&(t[n]=!1)),"responsive"===n&&e(t[n])}(j),k||(j.axis="horizontal",j.slideBy="page",j.edgePadding=!1,ae=j.animateIn,re=j.animateOut,C=j.animateDelay,se=j.animateNormal);var ue,me,q="horizontal"===j.axis,r=N.createElement("div"),fe=N.createElement("div"),M=j.container,he=M.parentNode,pe=M.outerHTML,B=M.children,D=B.length,ve=Cn(),ge=!1;_&&Un(),k&&(M.className+=" tns-vpfix");var s,ye,Le,be,Se,H,we,O,I,Ee,xe,Ae,P,Ce,Te,je,Ne,_e,ke,qe,Me,Be,De,He,Oe,Ie,Pe,Re,R,ze,We,Ve,Fe,Ue,Xe,Ye,Ge,z=j.autoWidth,W=ne("fixedWidth"),V=ne("edgePadding"),F=ne("gutter"),U=jn(),X=ne("center"),Y=z?1:Math.floor(ne("items")),Ke=ne("slideBy"),Qe=j.viewportMax||j.fixedWidthViewportWidth,$e=ne("arrowKeys"),Ze=ne("speed"),Je=j.rewind,G=!Je&&j.loop,et=ne("autoHeight"),tt=ne("controls"),nt=ne("controlsText"),it=ne("nav"),ot=ne("touch"),at=ne("mouseDrag"),K=ne("autoplay"),rt=ne("autoplayTimeout"),st=ne("autoplayText"),lt=ne("autoplayHoverPause"),ct=ne("autoplayResetOnVisibility"),Q=(e=ne("nonce"),Ut=document.createElement("style"),e&&Ut.setAttribute("nonce",e),document.querySelector("head").appendChild(Ut),Ut.sheet||Ut.styleSheet),dt=j.lazyload,ut=j.lazyloadSelector,mt=[],$=G?(e=function(){if(z||W&&!Qe)return D-1;var e=W?"fixedWidth":"items",t=[];if((W||j[e]<D)&&t.push(j[e]),_)for(var n in _){n=_[n][e];n&&(W||n<D)&&t.push(n)}return t.length||t.push(0),Math.ceil(W?Qe/Math.min.apply(null,t):Math.max.apply(null,t))}(),Ut=k?Math.ceil((5*e-D)/2):4*e-D,Ut=Math.max(e,Ut),Nn("edgePadding")?Ut+1:Ut):0,Z=k?D+2*$:D+$,ft=!(!W&&!z||G),ht=W?gi():null,pt=!k||!G,vt=q?"left":"top",gt="",yt="",Lt=W?function(){return X&&!G?D-1:Math.ceil(-ht/(W+F))}:z?function(){for(var e=0;e<Z;e++)if(s[e]>=-ht)return e}:function(){return X&&k&&!G?D-1:G||k?Math.max(0,Z-Math.ceil(Y)):Z-1},J=En(ne("startIndex")),bt=J,St=(wn(),0),wt=z?null:Lt(),Et=j.preventActionWhenRunning,xt=j.swipeAngle,At=!xt||"?",Ct=!1,Tt=j.onInit,ee=new yo,jt=" tns-slider tns-"+j.mode,te=M.id||(e=window.tnsId,window.tnsId=e?e+1:1,"tns"+window.tnsId),Nt=ne("disable"),_t=!1,kt=j.freezable,qt=!(!kt||z)&&Fn(),Mt=!1,Bt={click:Ci,keydown:function(e){e=Bi(e);var t=[o.LEFT,o.RIGHT].indexOf(e.keyCode);0<=t&&(0===t?O.disabled||Ci(e,-1):I.disabled||Ci(e,1))}},Dt={click:function(e){if(Ct){if(Et)return;xi()}for(var t,n,i=Di(e=Bi(e));i!==P&&!ao(i,"data-nav");)i=i.parentNode;ao(i,"data-nav")&&(t=Ne=Number(ro(i,"data-nav")),n=W||z?t*D/Te:t*Y,Ai(Vt?t:Math.min(Math.ceil(n),D-1),e),_e===t)&&(He&&ki(),Ne=-1)},keydown:function(e){e=Bi(e);var t,n=N.activeElement;ao(n,"data-nav")&&(t=[o.LEFT,o.RIGHT,o.ENTER,o.SPACE].indexOf(e.keyCode),n=Number(ro(n,"data-nav")),0<=t)&&(0===t?0<n&&Mi(Ae[n-1]):1===t?n<Te-1&&Mi(Ae[n+1]):Ai(Ne=n,e))}},Ht={mouseover:function(){He&&(ji(),Oe=!0)},mouseout:function(){Oe&&(Ti(),Oe=!1)}},Ot={visibilitychange:function(){N.hidden?He&&(ji(),Pe=!0):Pe&&(Ti(),Pe=!1)}},It={keydown:function(e){e=Bi(e);var t=[o.LEFT,o.RIGHT].indexOf(e.keyCode);0<=t&&Ci(e,0===t?-1:1)}},Pt={touchstart:Pi,touchmove:Ri,touchend:zi,touchcancel:zi},Rt={mousedown:Pi,mousemove:Ri,mouseup:zi,mouseleave:zi},zt=Nn("controls"),Wt=Nn("nav"),Vt=!!z||j.navAsThumbnails,Ft=Nn("autoplay"),Ut=Nn("touch"),Xt=Nn("mouseDrag"),Yt="tns-slide-active",Gt="tns-slide-cloned",Kt="tns-complete",Qt={load:function(e){ei(Di(e))},error:function(e){e=Di(e);io(e,"failed"),ti(e)}},$t="force"===j.preventScrollOnTouch;if(zt&&(H=j.controlsContainer,we=j.controlsContainer?j.controlsContainer.outerHTML:"",O=j.prevButton,I=j.nextButton,Ee=j.prevButton?j.prevButton.outerHTML:"",xe=j.nextButton?j.nextButton.outerHTML:""),Wt&&(P=j.navContainer,Ce=j.navContainer?j.navContainer.outerHTML:"",Te=z?D:Vi(),je=0,Ne=-1,_e=An(),ke=_e,qe="tns-nav-active",Me="Carousel Page ",Be=" (Current Slide)"),Ft&&(Re="forward"===j.autoplayDirection?1:-1,R=j.autoplayButton,ze=j.autoplayButton?j.autoplayButton.outerHTML:"",We=["<span class='tns-visually-hidden'>"," animation</span>"]),(Ut||Xt)&&(Ue={},Ye=!(Xe={}),Ge=q?function(e,t){return e.x-t.x}:function(e,t){return e.y-t.y}),z||Sn(Nt||qt),v&&(vt=v,gt="translate",yt=g?(gt+=q?"3d(":"3d(0px, ",q?", 0px, 0px)":", 0px)"):(gt+=q?"X(":"Y(",")")),k&&(M.className=M.className.replace("tns-vpfix","")),Nn("gutter"),r.className="tns-outer",fe.className="tns-inner",r.id=te+"-ow",fe.id=te+"-iw",""===M.id&&(M.id=te),jt=jt+(l||z?" tns-subpixel":" tns-no-subpixel")+(p?" tns-calc":" tns-no-calc"),z&&(jt+=" tns-autowidth"),jt+=" tns-"+j.axis,M.className+=jt,(k?((ue=N.createElement("div")).id=te+"-mw",ue.className="tns-ovh",r.appendChild(ue),ue):r).appendChild(fe),et&&((ue||fe).className+=" tns-ah"),he.insertBefore(r,M),fe.appendChild(M),to(B,function(e,t){io(e,"tns-item"),e.id||(e.id=te+"-item"+t),!k&&se&&io(e,se),so(e,{"aria-hidden":"true",tabindex:"-1"})}),$){for(var Zt=N.createDocumentFragment(),Jt=N.createDocumentFragment(),en=$;en--;){var tn=en%D,nn=B[tn].cloneNode(!0);io(nn,Gt),lo(nn,"id"),Jt.insertBefore(nn,Jt.firstChild),k&&(nn=B[D-1-tn].cloneNode(!0),io(nn,Gt),lo(nn,"id"),Zt.appendChild(nn))}M.insertBefore(Zt,M.firstChild),M.appendChild(Jt),B=M.children}if(!k)for(var on=J,an=J+Math.min(D,Y);on<an;on++){var rn=B[on];rn.style.left=100*(on-J)/Y+"%",io(rn,ae),oo(rn,se)}if(q&&(l||z?(Ji(Q,"#"+te+" > .tns-item","font-size:"+i.getComputedStyle(B[0]).fontSize+";",eo(Q)),Ji(Q,"#"+te,"font-size:0;",eo(Q))):k&&to(B,function(e,t){e.style.marginLeft=p?p+"("+100*t+"% / "+Z+")":100*t/Z+"%"})),oe?(u&&(n=ue&&j.autoHeight?Dn(j.speed):"",Ji(Q,"#"+te+"-mw",n,eo(Q))),n=_n(j.edgePadding,j.gutter,j.fixedWidth,j.speed,j.autoHeight),Ji(Q,"#"+te+"-iw",n,eo(Q)),k&&(n=q&&!z?"width:"+kn(j.fixedWidth,j.gutter,j.items)+";":"",u&&(n+=Dn(Ze)),Ji(Q,"#"+te,n,eo(Q))),n=q&&!z?qn(j.fixedWidth,j.gutter,j.items):"",j.gutter&&(n+=Mn(j.gutter)),k||(u&&(n+=Dn(Ze)),L&&(n+=Hn(Ze)))):(k&&et&&(ue.style[u]=Ze/1e3+"s"),fe.style.cssText=_n(V,F,W,et),k&&q&&!z&&(M.style.width=kn(W,F,Y)),n=q&&!z?qn(W,F,Y):"",F&&(n+=Mn(F))),n&&Ji(Q,"#"+te+" > .tns-item",n,eo(Q)),_&&oe)for(var sn in _){var sn=parseInt(sn),ln=_[sn],n="",cn="",dn="",un="",mn="",fn=z?null:ne("items",sn),hn=ne("fixedWidth",sn),pn=ne("speed",sn),vn=ne("edgePadding",sn),gn=ne("autoHeight",sn),yn=ne("gutter",sn);u&&ue&&ne("autoHeight",sn)&&"speed"in ln&&(cn="#"+te+"-mw{"+Dn(pn)+"}"),("edgePadding"in ln||"gutter"in ln)&&(dn="#"+te+"-iw{"+_n(vn,yn,hn,pn,gn)+"}"),k&&q&&!z&&("fixedWidth"in ln||"items"in ln||W&&"gutter"in ln)&&(un="width:"+kn(hn,yn,fn)+";"),u&&"speed"in ln&&(un+=Dn(pn)),un=un&&"#"+te+"{"+un+"}",("fixedWidth"in ln||W&&"gutter"in ln||!k&&"items"in ln)&&(mn+=qn(hn,yn,fn)),"gutter"in ln&&(mn+=Mn(yn)),!k&&"speed"in ln&&(u&&(mn+=Dn(pn)),L)&&(mn+=Hn(pn)),(n=cn+dn+un+(mn=mn&&"#"+te+" > .tns-item{"+mn+"}"))&&Q.insertRule("@media (min-width: "+sn/16+"em) {"+n+"}",Q.cssRules.length)}On();var Ln=G?k?function(){var e=St,t=wt;e+=Ke,t-=Ke,V?(e+=1,--t):W&&(U+F)%(W+F)&&--t,$&&(t<J?J-=D:J<e&&(J+=D))}:function(){if(wt<J)for(;St+D<=J;)J-=D;else if(J<St)for(;J<=wt-D;)J+=D}:function(){J=Math.max(St,Math.min(wt,J))},bn=k?function(){var t,n,i,o,e,a,r,s,l,c,d;pi(M,""),u||!Ze?(bi(),Ze&&fo(M)||xi()):(t=M,n=vt,i=gt,o=yt,e=yi(),a=Ze,r=xi,s=Math.min(a,10),l=0<=e.indexOf("%")?"%":"px",e=e.replace(l,""),c=Number(t.style[n].replace(i,"").replace(o,"").replace(l,"")),d=(e-c)/a*s,setTimeout(function e(){a-=s,c+=d,t.style[n]=i+c+l+o,0<a?setTimeout(e,s):r()},s)),q||Wi()}:function(){mt=[];var e={};e[S]=e[w]=xi,go(B[bt],e),vo(B[J],e),Si(bt,ae,re,!0),Si(J,se,ae),S&&w&&Ze&&fo(M)||xi()};return{version:"2.9.4",getInfo:ie,events:ee,goTo:Ai,play:function(){K&&!He&&(_i(),Ie=!1)},pause:function(){He&&(ki(),Ie=!0)},isOn:ge,updateSliderHeight:si,refresh:On,destroy:function(){Q.disabled=!0,Q.ownerNode&&Q.ownerNode.remove(),go(i,{resize:Wn}),$e&&go(N,It),H&&go(H,Bt),P&&go(P,Dt),go(M,Ht),go(M,Ot),R&&go(R,{click:qi}),K&&clearInterval(De),k&&S&&((e={})[S]=xi,go(M,e)),ot&&go(M,Pt),at&&go(M,Rt);var e,t,a=[pe,we,Ee,xe,Ce,ze];for(t in x.forEach(function(e,t){var n,i,o="container"===e?r:j[e];"object"==typeof o&&o&&(n=!!o.previousElementSibling&&o.previousElementSibling,i=o.parentNode,o.outerHTML=a[t],j[e]=n?n.nextElementSibling:i.firstElementChild)}),x=ae=re=C=se=q=r=fe=M=he=pe=B=D=me=ve=z=W=V=F=U=Y=Ke=Qe=$e=Ze=Je=G=et=Q=dt=s=mt=$=Z=ft=ht=pt=vt=gt=yt=Lt=J=bt=St=wt=xt=At=Ct=Tt=ee=jt=te=Nt=_t=kt=qt=Mt=Bt=Dt=Ht=Ot=It=Pt=Rt=zt=Wt=Vt=Ft=Xt=Yt=Kt=Qt=ye=tt=nt=H=we=O=I=be=Se=it=P=Ce=Ae=Te=je=Ne=_e=ke=qe=Me=Be=K=rt=Re=st=lt=R=ze=ct=We=De=He=Oe=Ie=Pe=Ue=Xe=Ve=Ye=Fe=Ge=ot=at=null,this)"rebuild"!==t&&(this[t]=null);ge=!1},rebuild:function(){return Lo(Yi(j,A))}}}function Sn(e){e&&(tt=it=ot=at=$e=K=lt=ct=!1)}function wn(){for(var e=k?J-$:J;e<0;)e+=D;return e%D+1}function En(e){return e=e?Math.max(0,Math.min(G?D-1:D-Y,e)):0,k?e+$:e}function xn(e){for(null==e&&(e=J),k&&(e-=$);e<0;)e+=D;return Math.floor(e%D)}function An(){var e=xn(),e=Vt?e:W||z?Math.ceil((e+1)*Te/D-1):Math.floor(e/Y);return e=!G&&k&&J===wt?Te-1:e}function Cn(){return i.innerWidth||N.documentElement.clientWidth||N.body.clientWidth}function Tn(e){return"top"===e?"afterbegin":"beforeend"}function jn(){var e=V?2*V-F:0;return function e(t){var n,i;if(null!=t)return i=N.createElement("div"),t.appendChild(i),n=(n=i.getBoundingClientRect()).right-n.left,i.remove(),n||e(t.parentNode)}(he)-e}function Nn(e){if(j[e])return!0;if(_)for(var t in _)if(_[t][e])return!0;return!1}function ne(e,t){if(null==t&&(t=ve),"items"===e&&W)return Math.floor((U+F)/(W+F))||1;var n=j[e];if(_)for(var i in _)t>=parseInt(i)&&e in _[i]&&(n=_[i][e]);return"slideBy"===e&&"page"===n&&(n=ne("items")),n=k||"slideBy"!==e&&"items"!==e?n:Math.floor(n)}function _n(e,t,n,i,o){var a,r="";return void 0!==e?(a=e,t&&(a-=t),r=q?"margin: 0 "+a+"px 0 "+e+"px;":"margin: "+e+"px 0 "+a+"px 0;"):t&&!n&&(e="-"+t+"px",r="margin: 0 "+(q?e+" 0 0":"0 "+e+" 0")+";"),!k&&o&&u&&i&&(r+=Dn(i)),r}function kn(e,t,n){return e?(e+t)*Z+"px":p?p+"("+100*Z+"% / "+n+")":100*Z/n+"%"}function qn(e,t,n){return t="width:"+(t=e?e+t+"px":(k||(n=Math.floor(n)),e=k?Z:n,p?p+"(100% / "+e+")":100/e+"%")),"inner"!==le?t+";":t+" !important;"}function Mn(e){return!1!==e?(q?"padding-":"margin-")+(q?"right":"bottom")+": "+e+"px;":""}function Bn(e,t){e=e.substring(0,e.length-t).toLowerCase();return e=e&&"-"+e+"-"}function Dn(e){return Bn(u,18)+"transition-duration:"+e/1e3+"s;"}function Hn(e){return Bn(L,17)+"animation-duration:"+e/1e3+"s;"}function On(){var e;Nn("autoHeight")||z||!q?(to(e=M.querySelectorAll("img"),function(e){var t=e.src;dt||(t&&t.indexOf("data:image")<0?(e.src="",vo(e,Qt),io(e,"loading"),e.src=t):ei(e))}),Ui(function(){oi(co(e),function(){ye=!0})}),Nn("autoHeight")&&(e=ni(J,Math.min(J+Y-1,Z-1))),dt?In():Ui(function(){oi(co(e),In)})):(k&&Li(),Rn(),zn())}function In(){var i;(z&&1<D?(i=G?J:D-1,function e(){var t=B[i].getBoundingClientRect().left,n=B[i-1].getBoundingClientRect().right;Math.abs(t-n)<=1?Pn():setTimeout(function(){e()},16)}):Pn)()}function Pn(){q&&!z||(li(),z?(ht=gi(),kt&&(qt=Fn()),wt=Lt(),Sn(Nt||qt)):Wi()),k&&Li(),Rn(),zn()}function Rn(){var e,t;if(ci(),r.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+$n()+"</span>  of "+D+"</div>"),Le=r.querySelector(".tns-liveregion .current"),Ft&&(e=K?"stop":"start",R?so(R,{"data-action":e}):j.autoplayButtonOutput&&(r.insertAdjacentHTML(Tn(j.autoplayPosition),'<button type="button" data-action="'+e+'">'+We[0]+e+We[1]+st[0]+"</button>"),R=r.querySelector("[data-action]")),R&&vo(R,{click:qi}),K)&&(_i(),lt&&vo(M,Ht),ct)&&vo(M,Ot),Wt){if(P)so(P,{"aria-label":"Carousel Pagination"}),to(Ae=P.children,function(e,t){so(e,{"data-nav":t,tabindex:"-1","aria-label":Me+(t+1),"aria-controls":te})});else{for(var n="",i=Vt?"":'style="display:none"',o=0;o<D;o++)n+='<button type="button" data-nav="'+o+'" tabindex="-1" aria-controls="'+te+'" '+i+' aria-label="'+Me+(o+1)+'"></button>';r.insertAdjacentHTML(Tn(j.navPosition),n='<div class="tns-nav" aria-label="Carousel Pagination">'+n+"</div>"),P=r.querySelector(".tns-nav"),Ae=P.children}Fi(),u&&(e=u.substring(0,u.length-18).toLowerCase(),t="transition: all "+Ze/1e3+"s",Ji(Q,"[aria-controls^="+te+"-item]",t=e?"-"+e+"-"+t:t,eo(Q))),so(Ae[_e],{"aria-label":Me+(_e+1)+Be}),lo(Ae[_e],"tabindex"),io(Ae[_e],qe),vo(P,Dt)}zt&&(H||O&&I||(r.insertAdjacentHTML(Tn(j.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+te+'">'+nt[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+te+'">'+nt[1]+"</button></div>"),H=r.querySelector(".tns-controls")),O&&I||(O=H.children[0],I=H.children[1]),j.controlsContainer&&so(H,{"aria-label":"Carousel Navigation",tabindex:"0"}),(j.controlsContainer||j.prevButton&&j.nextButton)&&so([O,I],{"aria-controls":te,tabindex:"-1"}),(j.controlsContainer||j.prevButton&&j.nextButton)&&(so(O,{"data-controls":"prev"}),so(I,{"data-controls":"next"})),be=ui(O),Se=ui(I),hi(),H?vo(H,Bt):(vo(O,Bt),vo(I,Bt))),Xn()}function zn(){var e;k&&S&&((e={})[S]=xi,vo(M,e)),ot&&vo(M,Pt,j.preventScrollOnTouch),at&&vo(M,Rt),$e&&vo(N,It),"inner"===le?ee.on("outerResized",function(){Vn(),ee.emit("innerLoaded",ie())}):(_||W||z||et||!q)&&vo(i,{resize:Wn}),et&&("outer"===le?ee.on("innerLoaded",ii):Nt||ii()),Jn(),Nt?Kn():qt&&Gn(),ee.on("indexChanged",ai),"inner"===le&&ee.emit("innerLoaded",ie()),"function"==typeof Tt&&Tt(ie()),ge=!0}function Wn(e){Ui(function(){Vn(Bi(e))})}function Vn(e){if(ge){"outer"===le&&ee.emit("outerResized",ie(e)),ve=Cn();var t,n=me,i=!1;_&&(Un(),t=n!==me)&&ee.emit("newBreakpointStart",ie(e));var o,a,r,s,l,c,d,u,n=Y,m=Nt,f=qt,h=$e,p=tt,v=it,g=ot,y=at,L=K,b=lt,S=ct,w=J;if(t&&(a=W,r=et,s=nt,l=X,c=st,oe||(d=F,u=V)),$e=ne("arrowKeys"),tt=ne("controls"),it=ne("nav"),ot=ne("touch"),X=ne("center"),at=ne("mouseDrag"),K=ne("autoplay"),lt=ne("autoplayHoverPause"),ct=ne("autoplayResetOnVisibility"),t&&(Nt=ne("disable"),W=ne("fixedWidth"),Ze=ne("speed"),et=ne("autoHeight"),nt=ne("controlsText"),st=ne("autoplayText"),rt=ne("autoplayTimeout"),oe||(V=ne("edgePadding"),F=ne("gutter"))),Sn(Nt),U=jn(),q&&!z||Nt||(li(),q)||(Wi(),i=!0),(W||z)&&(ht=gi(),wt=Lt()),(t||W)&&(Y=ne("items"),Ke=ne("slideBy"),o=Y!==n)&&(W||z||(wt=Lt()),Ln()),t&&Nt!==m&&(Nt?Kn:function(){if(_t){if(Q.disabled=!1,M.className+=jt,Li(),G)for(var e=$;e--;)k&&mo(B[e]),mo(B[Z-e-1]);if(!k)for(var t=J,n=J+D;t<n;t++){var i=B[t],o=t<J+Y?ae:se;i.style.left=100*(t-J)/Y+"%",io(i,o)}Yn(),_t=!1}})(),kt&&(t||W||z)&&(qt=Fn())!==f)if(qt)bi(yi(En(0))),Gn();else{if(Mt){if(V&&oe&&(fe.style.margin=""),$)for(var E="tns-transparent",x=$;x--;)k&&oo(B[x],E),oo(B[Z-x-1],E);Yn(),Mt=!1}i=!0}if(Sn(Nt||qt),K||(lt=ct=!1),$e!==h&&($e?vo:go)(N,It),tt!==p&&(tt?H?mo(H):(O&&mo(O),I&&mo(I)):H?uo(H):(O&&uo(O),I&&uo(I))),it!==v&&(it?(mo(P),Fi()):uo(P)),ot!==g&&(ot?vo(M,Pt,j.preventScrollOnTouch):go(M,Pt)),at!==y&&(at?vo:go)(M,Rt),K!==L&&(K?(R&&mo(R),He||Ie||_i()):(R&&uo(R),He&&ki())),lt!==b&&(lt?vo:go)(M,Ht),ct!==S&&(ct?vo:go)(N,Ot),t?(W===a&&X===l||(i=!0),et===r||et||(fe.style.height=""),tt&&nt!==s&&(O.innerHTML=nt[0],I.innerHTML=nt[1]),R&&st!==c&&(n=K?1:0,f=(m=R.innerHTML).length-c[n].length,m.substring(f)===c[n])&&(R.innerHTML=m.substring(0,f)+st[n])):X&&(W||z)&&(i=!0),(o||W&&!z)&&(Te=Vi(),Fi()),(h=J!==w)?(ee.emit("indexChanged",ie()),i=!0):o?h||ai():(W||z)&&(Jn(),ci(),Qn()),o&&!k){for(var A=J+Math.min(D,Y),C=Z;C--;){var T=B[C];J<=C&&C<A?(io(T,"tns-moving"),T.style.left=100*(C-J)/Y+"%",io(T,ae),oo(T,se)):T.style.left&&(T.style.left="",io(T,se),oo(T,ae)),oo(T,re)}setTimeout(function(){to(B,function(e){oo(e,"tns-moving")})},300)}Nt||qt||(t&&!oe&&(V===u&&F===d||(fe.style.cssText=_n(V,F,W,Ze,et)),q)&&(k&&(M.style.width=kn(W,F,Y)),p=qn(W,F,Y)+Mn(F),g=eo(v=Q)-1,"deleteRule"in v?v.deleteRule(g):v.removeRule(g),Ji(Q,"#"+te+" > .tns-item",p,eo(Q))),et&&ii(),i&&(Li(),bt=J)),t&&ee.emit("newBreakpointEnd",ie(e))}}function Fn(){var e,t;return W||z?(e=W?(W+F)*D:s[D],t=V?U+2*V:U+F,X&&(t-=W?(U-W)/2:(U-(s[J+1]-s[J]-F))/2),e<=t):D<=(X?Y-(Y-1)/2:Y)}function Un(){for(var e in me=0,_)(e=parseInt(e))<=ve&&(me=e)}function Xn(){!K&&R&&uo(R),!it&&P&&uo(P),tt||(H?uo(H):(O&&uo(O),I&&uo(I)))}function Yn(){K&&R&&mo(R),it&&P&&mo(P),tt&&(H?mo(H):(O&&mo(O),I&&mo(I)))}function Gn(){if(!Mt){if(V&&(fe.style.margin="0px"),$)for(var e="tns-transparent",t=$;t--;)k&&io(B[t],e),io(B[Z-t-1],e);Xn(),Mt=!0}}function Kn(){if(!_t){if(Q.disabled=!0,M.className=M.className.replace(jt.substring(1),""),lo(M,["style"]),G)for(var e=$;e--;)k&&uo(B[e]),uo(B[Z-e-1]);if(q&&k||lo(fe,["style"]),!k)for(var t=J,n=J+D;t<n;t++){var i=B[t];lo(i,["style"]),oo(i,ae),oo(i,se)}Xn(),_t=!0}}function Qn(){var e=$n();Le.innerHTML!==e&&(Le.innerHTML=e)}function $n(){var e=Zn(),t=e[0]+1,e=e[1]+1;return t===e?t+"":t+" to "+e}function Zn(e){null==e&&(e=yi());var n,i,o,a=J;return X||V?(z||W)&&(n=-(parseFloat(e)+V),i=n+U+2*V):z&&(n=s[J],i=n+U),z?s.forEach(function(e,t){t<Z&&((X||V)&&e<=n+.5&&(a=t),.5<=i-e)&&(o=t)}):(o=W?(e=W+F,X||V?(a=Math.floor(n/e),Math.ceil(i/e-1)):a+Math.ceil(U/e)-1):X||V?(e=Y-1,o=X?(a-=e/2,J+e/2):J+e,V&&(a-=e=V*Y/U,o+=e),a=Math.floor(a),Math.ceil(o)):a+Y-1,a=Math.max(a,0),o=Math.min(o,Z-1)),[a,o]}function Jn(){var e;dt&&!Nt&&((e=Zn()).push(ut),ni.apply(null,e).forEach(function(e){var t;no(e,Kt)||((t={})[S]=function(e){e.stopPropagation()},vo(e,t),vo(e,Qt),e.src=ro(e,"data-src"),(t=ro(e,"data-srcset"))&&(e.srcset=t),io(e,"loading"))}))}function ei(e){io(e,"loaded"),ti(e)}function ti(e){io(e,Kt),oo(e,"loading"),go(e,Qt)}function ni(e,t,n){var i=[];for(n=n||"img";e<=t;)to(B[e].querySelectorAll(n),function(e){i.push(e)}),e++;return i}function ii(){var e=ni.apply(null,Zn());Ui(function(){oi(e,si)})}function oi(n,e){!ye&&(n.forEach(function(e,t){!dt&&e.complete&&ti(e),no(e,Kt)&&n.splice(t,1)}),n.length)?Ui(function(){oi(n,e)}):e()}function ai(){var e,t;Jn(),ci(),Qn(),hi(),it&&(_e=0<=Ne?Ne:An(),Ne=-1,_e!==ke)&&(e=Ae[ke],t=Ae[_e],so(e,{tabindex:"-1","aria-label":Me+(ke+1)}),oo(e,qe),so(t,{"aria-label":Me+(_e+1)+Be}),lo(t,"tabindex"),io(t,qe),ke=_e)}function ri(e,t){for(var n=[],i=e,o=Math.min(e+t,Z);i<o;i++)n.push(B[i].offsetHeight);return Math.max.apply(null,n)}function si(){var e=et?ri(J,Y):ri($,D),t=ue||fe;t.style.height!==e&&(t.style.height=e+"px")}function li(){s=[0];var n=q?"left":"top",i=q?"right":"bottom",o=B[0].getBoundingClientRect()[n];to(B,function(e,t){t&&s.push(e.getBoundingClientRect()[n]-o),t===Z-1&&s.push(e.getBoundingClientRect()[i]-o)})}function ci(){var e=Zn(),n=e[0],i=e[1];to(B,function(e,t){n<=t&&t<=i?ao(e,"aria-hidden")&&(lo(e,["aria-hidden","tabindex"]),io(e,Yt)):ao(e,"aria-hidden")||(so(e,{"aria-hidden":"true",tabindex:"-1"}),oo(e,Yt))})}function di(e){return e.nodeName.toLowerCase()}function ui(e){return"button"===di(e)}function mi(e){return"true"===e.getAttribute("aria-disabled")}function fi(e,t,n){e?t.disabled=n:t.setAttribute("aria-disabled",n.toString())}function hi(){var e,t,n,i;!tt||Je||G||(e=be?O.disabled:mi(O),t=Se?I.disabled:mi(I),i=!Je&&wt<=J,(n=J<=St)&&!e&&fi(be,O,!0),!n&&e&&fi(be,O,!1),i&&!t&&fi(Se,I,!0),!i&&t&&fi(Se,I,!1))}function pi(e,t){u&&(e.style[u]=t)}function vi(e){return null==e&&(e=J),z?(U-(V?F:0)-(s[e+1]-s[e]-F))/2:W?(U-W)/2:(Y-1)/2}function gi(){var e=U+(V?F:0)-(W?(W+F)*Z:s[Z]);return e=0<(e=X&&!G?W?-(W+F)*(Z-1)-vi():vi(Z-1)-s[Z-1]:e)?0:e}function yi(e){var t,n;return null==e&&(e=J),q&&!z?W?(t=-(W+F)*e,X&&(t+=vi())):(n=v?Z:Y,X&&(e-=vi()),t=100*-e/n):(t=-s[e],X&&z&&(t+=vi())),(t=ft?Math.max(t,ht):t)+(!q||z||W?"px":"%")}function Li(e){pi(M,"0s"),bi(e)}function bi(e){null==e&&(e=yi()),M.style[vt]=gt+e+yt}function Si(e,t,n,i){var o=e+Y;G||(o=Math.min(o,Z));for(var a=e;a<o;a++){var r=B[a];i||(r.style.left=100*(a-J)/Y+"%"),C&&y&&(r.style[y]=r.style[b]=C*(a-e)/1e3+"s"),oo(r,t),io(r,n),i&&mt.push(r)}}function wi(e,t){pt&&Ln(),J===bt&&!t||(ee.emit("indexChanged",ie()),ee.emit("transitionStart",ie()),et&&ii(),He&&e&&0<=["click","keydown"].indexOf(e.type)&&ki(),Ct=!0,bn())}function Ei(e){return e.toLowerCase().replace(/-/g,"")}function xi(e){if(k||Ct){if(ee.emit("transitionEnd",ie(e)),!k&&0<mt.length)for(var t=0;t<mt.length;t++){var n=mt[t];n.style.left="",b&&y&&(n.style[b]="",n.style[y]=""),oo(n,re),io(n,se)}(!e||!k&&e.target.parentNode===M||e.target===M&&Ei(e.propertyName)===Ei(vt))&&(pt||(e=J,Ln(),J!==e&&(ee.emit("indexChanged",ie()),Li())),"inner"===le&&ee.emit("innerLoaded",ie()),Ct=!1,bt=J)}}function Ai(e,t){if(!qt)if("prev"===e)Ci(t,-1);else if("next"===e)Ci(t,1);else{if(Ct){if(Et)return;xi()}var n=xn(),i=0;"first"===e?i=-n:"last"===e?i=k?D-Y-n:D-1-n:("number"!=typeof e&&(e=parseInt(e)),isNaN(e)||(i=(e=t?e:Math.max(0,Math.min(D-1,e)))-n)),!k&&i&&Math.abs(i)<Y&&(e=0<i?1:-1,i+=St<=J+i-D?D*e:2*D*e*-1),J+=i,k&&G&&(J<St&&(J+=D),wt<J)&&(J-=D),xn(J)!==xn(bt)&&wi(t)}}function Ci(e,t){if(Ct){if(Et)return;xi()}var n;if(!t){for(var i=Di(e=Bi(e));i!==H&&[O,I].indexOf(i)<0;)i=i.parentNode;var o=[O,I].indexOf(i);0<=o&&(n=!0,t=0===o?-1:1)}if(Je){if(J===St&&-1===t)return void Ai("last",e);if(J===wt&&1===t)return void Ai("first",e)}t&&(J+=Ke*t,z&&(J=Math.floor(J)),wi(n||e&&"keydown"===e.type?e:null))}function Ti(){De=setInterval(function(){Ci(null,Re)},rt),He=!0}function ji(){clearInterval(De),He=!1}function Ni(e,t){so(R,{"data-action":e}),R.innerHTML=We[0]+e+We[1]+t}function _i(){Ti(),R&&Ni("stop",st[1])}function ki(){ji(),R&&Ni("start",st[0])}function qi(){Ie=He?(ki(),!0):(_i(),!1)}function Mi(e){e.focus()}function Bi(e){return Hi(e=e||i.event)?e.changedTouches[0]:e}function Di(e){return e.target||i.event.srcElement}function Hi(e){return 0<=e.type.indexOf("touch")}function Oi(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ii(){return t=Xe.y-Ue.y,n=Xe.x-Ue.x,t=Math.atan2(t,n)*(180/Math.PI),n=!1,90-(e=xt)<=(t=Math.abs(90-Math.abs(t)))?n="horizontal":t<=e&&(n="vertical"),n===j.axis;var e,t,n}function Pi(e){if(Ct){if(Et)return;xi()}K&&He&&ji(),Ye=!0,Fe&&(Xi(Fe),Fe=null);var t=Bi(e);ee.emit(Hi(e)?"touchStart":"dragStart",ie(e)),!Hi(e)&&0<=["img","a"].indexOf(di(Di(e)))&&Oi(e),Xe.x=Ue.x=t.clientX,Xe.y=Ue.y=t.clientY,k&&(Ve=parseFloat(M.style[vt].replace(gt,"")),pi(M,"0s"))}function Ri(e){var t;Ye&&(t=Bi(e),Xe.x=t.clientX,Xe.y=t.clientY,k?Fe=Fe||Ui(function(){!function e(t){if(!At)return Ye=!1;if(Xi(Fe),Ye&&(Fe=Ui(function(){e(t)})),At="?"===At?Ii():At){!$t&&Hi(t)&&($t=!0);try{t.type&&ee.emit(Hi(t)?"touchMove":"dragMove",ie(t))}catch(e){}var n=Ve,i=Ge(Xe,Ue);n=!q||W||z?n+i+"px":n+(v?i*Y*100/((U+F)*Z):100*i/(U+F))+"%",M.style[vt]=gt+n+yt}}(e)}):(At="?"===At?Ii():At)&&($t=!0),"boolean"!=typeof e.cancelable||e.cancelable)&&$t&&e.preventDefault()}function zi(i){var e,o,n;Ye&&(Fe&&(Xi(Fe),Fe=null),k&&pi(M,""),Ye=!1,e=Bi(i),Xe.x=e.clientX,Xe.y=e.clientY,o=Ge(Xe,Ue),Math.abs(o))&&(Hi(i)||vo(n=Di(i),{click:function e(t){Oi(t),go(n,{click:e})}}),k?Fe=Ui(function(){if(q&&!z){var e=-o*Y/(U+F),e=0<o?Math.floor(e):Math.ceil(e);J+=e}else{var t=-(Ve+o);if(t<=0)J=St;else if(t>=s[Z-1])J=wt;else for(var n=0;n<Z&&t>=s[n];)t>s[J=n]&&o<0&&(J+=1),n++}wi(i,o),ee.emit(Hi(i)?"touchEnd":"dragEnd",ie(i))}):At&&Ci(i,0<o?-1:1)),"auto"===j.preventScrollOnTouch&&($t=!1),xt&&(At="?"),K&&!He&&Ti()}function Wi(){(ue||fe).style.height=s[J+Y]-s[J]+"px"}function Vi(){var e=W?(W+F)*D/U:D/Y;return Math.min(Math.ceil(e),D)}function Fi(){if(it&&!Vt&&Te!==je){var e=je,t=Te,n=mo;for(Te<je&&(e=Te,t=je,n=uo);e<t;)n(Ae[e]),e++;je=Te}}function ie(e){return{container:M,slideItems:B,navContainer:P,navItems:Ae,controlsContainer:H,hasControls:zt,prevButton:O,nextButton:I,items:Y,slideBy:Ke,cloneCount:$,slideCount:D,slideCountNew:Z,index:J,indexCached:bt,displayIndex:wn(),navCurrentIndex:_e,navCurrentIndexCached:ke,pages:Te,pagesCached:je,sheet:Q,isOn:ge,event:e||{}}}E&&console.warn("No slides found in",j.container)}return Lo}();