function docReady(e){"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,1):document.addEventListener("DOMContentLoaded",e)}function debounce(e,t){let n=!1;return function(){n||(e.apply(this,arguments),n=!0,setTimeout(()=>n=!1,t))}}function hasCommonElements(e,t){return t=new Set(t),e.some(e=>t.has(e))}function findOffset(e){let t=0,n=0;for(;t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent;);return{top:t,left:n}}function objToQuery(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}function closeAllSelect(e){let t,n,a,i,o,r=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),i=t.length,o=n.length,a=0;a<o;a++)e==n[a]?r.push(a):n[a].classList.remove("select-arrow-active");for(a=0;a<i;a++)r.indexOf(a)&&t[a].classList.add("select-hide")}function toggleClass(e,t,n=null){null===n?e.classList.contains(t)?e.classList.remove(t):e.classList.add(t):n?e.classList.add(t):e.classList.remove(t)}function ContactMap(d,u,m){function e(){var e,t,n=new google.maps.Map(d),o=(e={mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,panControl:!0,panControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_CENTER},mapTypeControl:!1,scaleControl:!1,streetViewControl:!0,overviewMapControl:!0,overviewMapControlOptions:{opened:!0}},n.setOptions(e),n);function a(){var e,t=function(e){let t=0;if(e.parentNode){t=Array.from(Array.prototype.slice.call(m.children)[2].children).indexOf(e);var n,e=Array.prototype.slice.call(Array.prototype.slice.call(m.children)[2].children);for(n of e)n.classList.remove("same-as-selected");e[t].classList.add("same-as-selected")}return t}(this),n=u[t].dataset;for(e of u)e.classList.remove("active");u[t].classList.add("active");var t=n.centerLat||n.markerLat,a=n.centerLng||n.markerLng,i=o,n=n.zoom;t=new google.maps.LatLng(t,a),i.panTo(t),i.setZoom(parseInt(n))}for(t of Array.prototype.slice.call(m.children)[2].children)t.addEventListener("click",a);a.apply(m[0]);var i,r=n,s={url:d.dataset.markerImage,size:new google.maps.Size(48,48),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(24,48)};for(i of u){i=i.dataset,i=new google.maps.LatLng(i.markerLat,i.markerLng);new google.maps.Marker({map:r,position:i,icon:s})}var l=n;for(c of u){var c=c.dataset;c.routePoints&&(c=c.routePoints.split("; ").map(e=>e.split(",").map(parseFloat)).map(e=>new google.maps.LatLng(e[0],e[1])),new google.maps.Polyline({map:l,path:c,geodesic:!0,strokeColor:"rgb(35, 168, 224)",strokeOpacity:1,strokeWeight:3}))}}var t;d&&(window.map_initialized=function(){e()},(t=document.createElement("script")).src=["https://maps.googleapis.com/maps/api/js",objToQuery({key:d.dataset.apiKey,language:d.dataset.language,callback:"map_initialized"})].join("?"),document.body.appendChild(t))}function ContactMapYandex(d,u,m){function e(){ymaps.ready(function(){var e,t=new ymaps.Map(d,{center:[59.99512,30.25057],zoom:10}),i=t;function n(){var e,t=function(e){let t=0;if(e.parentNode){t=Array.from(Array.prototype.slice.call(m.children)[2].children).indexOf(e);var n,e=Array.prototype.slice.call(Array.prototype.slice.call(m.children)[2].children);for(n of e)n.classList.remove("same-as-selected");e[t].classList.add("same-as-selected")}return t}(this),n=u[t].dataset;for(e of u)e.classList.remove("active");u[t].classList.add("active");var t=n.centerLat||n.markerLat,a=n.centerLng||n.markerLng;n=n.zoom,i.setCenter([t,a],n,{checkZoomRange:!0})}for(e of Array.prototype.slice.call(m.children)[2].children)e.addEventListener("click",n);n.apply(m[0]);var a,o=t;officePlacemark=new ymaps.Placemark(o.getCenter(),{},{iconLayout:"default#image",iconImageHref:d.dataset.markerImage,iconImageSize:[48,48],iconImageOffset:[-24,-48]}),o.geoObjects.add(officePlacemark);for(a of u){a=a.dataset;officePlacemark=new ymaps.Placemark([a.markerLat,a.markerLng],{},{iconLayout:"default#image",iconImageHref:d.dataset.markerImage,iconImageSize:[48,48],iconImageOffset:[-24,-48]}),o.geoObjects.add(officePlacemark)}var r=t;for(l of u){l=l.dataset;if(l.routePoints){var s,l=l.routePoints.split("; ").map(e=>e.split(",").map(parseFloat)),c=[];for(s of l)c.push(s);l=new ymaps.GeoObject({geometry:{type:"LineString",coordinates:c}},{strokeColor:"rgb(35, 168, 224)",strokeWidth:3});r.geoObjects.add(l)}}})}var t;d&&((t=document.createElement("script")).src=["https://api-maps.yandex.ru/2.1",objToQuery({apikey:d.dataset.apiKeyYandex,lang:d.dataset.lang})].join("?"),document.body.appendChild(t),t.onload=e)}function TextareaOnInput(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}function portfolioRefresh(t){var n=document.querySelectorAll(".js-cases-container-portfolio .container_portfolio-inner")[0],e=document.querySelectorAll(".js-cases-more")[0];let a=0;for(let e=0;e<n.children.length;e++)n.children[e].classList.add("not-shown");for(let e=0;e<n.children.length;e++)n.children[e].classList.contains("hide")||++a<=t&&n.children[e].classList.remove("not-shown");var i=n.querySelectorAll(".zero-case");0===a&&i?(i[0].style.visibility="visible",i[1].style.visibility="visible",i[0].style.display="block",i[1].style.display="block",randomizeCases()):i&&(i[0].style.visibility="hidden",i[1].style.visibility="hidden",i[0].style.display="none",i[1].style.display="none"),a<=t&&e.parentNode.classList.add("hide")}function randomizeCases(){var e=document.querySelector(".js-randomcases-container"),t=e.children[0].childElementCount;if(e.querySelector(".service__feature_inner-case__visual")&&4<t){var n=[];for(let e=1;e<t+1;e++){var a=document.querySelector(".js-randomcases-container > .service__feature_inner-case__visual > .service__feature_inner-case__visual_wrapper:nth-child("+e+")");a&&a.classList.add("display-none")}for(let e=0;e<4;e++){var i=getRandomNumber(n,t),o=document.querySelector(".js-randomcases-container > .service__feature_inner-case__visual > .service__feature_inner-case__visual_wrapper:nth-child("+i+")");o&&o.classList.remove("display-none"),n.push(i)}}}function getRandomNumber(e,t){var n=Math.floor(1+Math.random()*t);return~e.indexOf(n)?getRandomNumber(e,t):n}function vacanciesRefresh(t){var n=document.querySelectorAll(".js-vacancies-container .vacancies__container_inner")[0],e=document.querySelectorAll(".js-vacancies-more")[0];let a=0;for(let e=0;e<n.children.length;e++)n.children[e].classList.add("not-shown");for(let e=0;e<n.children.length;e++)n.children[e].classList.contains("hide")||++a<=t&&n.children[e].classList.remove("not-shown");a<=t&&e?e.parentNode.classList.add("hide"):e&&e.parentNode.classList.remove("hide")}function vacanciesTransition(e,t){var n=document.querySelectorAll(".js-vacancies-container .vacancies__container_inner")[0],a=document.querySelectorAll(".js-vacancies-container")[0].dataset.page;if(a&&a!==e){a=document.querySelectorAll(".js-vacancies-container")[0].dataset.page=e;for(let e=0;e<n.children.length;e++)n?.children[e]?.classList.add("not-shown");for(let e=a*t;e<a*t+t;e++)n?.children[e]?.classList.remove("not-shown")}}function checkFieldValid(e){if(!e.value||e.value<2)return addListenerInput(e),!1;if("email"===e.type)if(!e.value.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))return addListenerInput(e),!1;return!0}function addListenerInput(t){t.addEventListener("input",function e(){t.classList.remove("error"),t.removeEventListener("input",e,!1)})}function initVideo(){for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++)e[t].getAttribute("data-src")&&e[t].setAttribute("src",e[t].getAttribute("data-src"))}function containerRefresh(t,n,e){let a=0;for(let e=0;e<n.children.length;e++)n.children[e].classList.contains("hide")||++a<=t&&n.children[e].classList.remove("not-shown");a<=t&&e.parentNode.classList.add("hide")}function removeOverBlocks(a,e,i,t,o){if(e){let t=!1,n=+e;var r,s=a.children;for(let e=0;e<s.length;e++){var l=a?.children[e];n&&!~l.classList.value.indexOf("hide")?(n--,l.classList.remove("over-limit")):l.classList.add("over-limit"),i&&~a.classList.value.indexOf("news__grid_card-complex")&&!~l.classList.value.indexOf("hide")&&(setBackground(l,t),t=!0)}o&&!i&&(r=Array.prototype.slice.call(s).filter(e=>~e.classList.value.indexOf("hide")).length,s.length<=e||s.length-r<=e?o.classList.add("hide"):o.classList.remove("hide"))}}function setBackground(e,t){t?e.classList.remove("first"):e.classList.add("first")}function smoothScrollOnLinkHash(e){e=document.getElementById(e);e&&e.scrollIntoView({behavior:"smooth"})}function getParamsByUrl(e=null){e=(e||location.search).substring(1),e=new URLSearchParams(e);let n={};return e.forEach((e,t)=>{""===(e="undefined"===(e="null"===e?null:e)?null:e)&&(e=null),n[t]=e}),n}function copyURI(e){e.preventDefault(),navigator.clipboard.writeText(e.target.getAttribute("href")).then(()=>{})}function telegramForwardButton(e,t=""){return"https://t.me/share/url?url="+encodeURIComponent(e)+"&text="+encodeURIComponent(t)}function vkForwardButton(e){return encodeURIComponent(e)}function generateEditorialTOC(t){let a="";var o=t.querySelectorAll("h2");if(o.length){o.forEach(function(e,t){var n=e.innerHTML;e.innerHTML='<a name="head'+t+'" id="#head'+t+'"></a>'+n,a+='<h3><a href="#head'+t+'" class="js-scrollto">'+n+"</a></h3>"});let e=t.innerHTML.replace(/(([\s\S]*?)<h2>([\s\S]*?)<\/h2>)+?/gm,"<section>$2</section><h2>$3</h2>");e=e.replace(/<h2>([\s\S]*)<\/h2>([\s\S]+)/gm,"<h2>$1</h2><section>$2</section>"),t.innerHTML=e}a=""!=a?'<aside class="editorial-container__toc js-toc"><a href="#" class="sidetoc-menu js-sidetoc"></a><div class="editorial-container__toc-inner hide">'+a+'<a href="javascript:;" onclick="document.location.hash=\'top\';" class="back js-top"></a></div><a href="javascript:;" onclick="document.location.hash=\'top\';" class="back back-mobile js-top"></a></aside>':'<aside class="editorial-container__toc"></aside>';var o='<div class="social social-editorial">',e=(o=(o=(o+='<a href="https://vk.com/share.php?url='+vkForwardButton(window.location.href)+'" class="button button_grey button_small social_vk" target="_blank"></a>')+('<a href="'+telegramForwardButton(window.location.href)+'" class="button button_grey button_small social_t" target="_blank"></a>'))+('<a href="'+window.location.href+'" onclick="copyURI(event)" class="button button_grey button_small social_text">Скопировать ссылку</a>')+"</div>",document.createElement("div"));e.className="container editorial-container",""!=t&&(e.innerHTML=a+'<article class="custom-format editorial-container__body js-editorial" itemprop="articleBody">'+t.innerHTML+o+"</article>"),t.before(e),document.querySelectorAll(".js-editorial")[1].remove();const n=Array.from(document.getElementsByClassName("js-scrollto")),r=(n.length&&n.forEach(function(e,t){n[t].addEventListener("click",function(e){e.preventDefault();e=document.getElementById(e.target.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset;window.scrollTo({behavior:"smooth",top:e})})}),document.getElementsByClassName("js-toc")[0]);if(null!=r){o=document.getElementsByClassName("js-editorial")[0];let t=document.getElementsByClassName("header")[0].getBoundingClientRect().height+document.getElementsByClassName("top_news")[0].getBoundingClientRect().height;document.getElementsByClassName("editorial-container")[0].getBoundingClientRect().height;document.documentElement.scrollTop||document.body.scrollTop;let a;const l=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;l,1024<l&&null!=document.getElementsByClassName("editorial-container__toc-inner")[0]&&document.getElementsByClassName("editorial-container__toc-inner")[0].classList.remove("hide");const d=o.getElementsByTagName("h2"),u=r.getElementsByTagName("h3");let n=new Array;function s(){a=document.documentElement.scrollTop||document.body.scrollTop;var e=document.getElementsByClassName("editorial-container__toc-inner")[0].getBoundingClientRect().height;if(r.style.height=e+68+"px",a>t+67?(document.getElementsByClassName("editorial-container__toc-inner")[0].classList.add("fixed"),r.classList.add("fixed"),1024<l&&null!=document.getElementsByClassName("editorial-container")[0]&&(a>t+document.getElementsByClassName("editorial-container")[0].getBoundingClientRect().height-document.getElementsByClassName("editorial-container__toc-inner")[0].getBoundingClientRect().height-79?document.getElementsByClassName("editorial-container")[0].classList.add("floored"):document.getElementsByClassName("editorial-container")[0].classList.remove("floored"))):(document.getElementsByClassName("editorial-container__toc-inner")[0].classList.remove("fixed"),r.classList.remove("fixed")),d.length){let n=-1;for(i=0;i<d.length;i++)a>d[i].getBoundingClientRect().top+window.scrollY-c&&(n=i);Array.prototype.slice.call(d).forEach(function(e,t){t==n?u[t].classList.add("active"):u[t].classList.remove("active")})}else Array.prototype.slice.call(d).forEach(function(e,t){u[t].classList.remove("active")})}d.length&&Array.prototype.slice.call(d).forEach(function(e,t){n[t]=d[t].offsetTop}),s(),window.addEventListener("touch",s,!0),window.addEventListener("scroll",s,!0),window.addEventListener("resize",s,!0)}}function generateCaseTOC(e){e.innerHTML=e.innerHTML.replace(/<h6 class="js-case-accordion-begin"><\/h6>([\s\S]+)<h6 class="js-case-accordion-end"><\/h6>/gm,'<div class="js-case">$1</div>');let t;if(null!=document.querySelectorAll(".js-case")[0]){let e=(t=document.querySelectorAll(".js-case")[0]).innerHTML.replace(/(([\s\S]*?)<h6>([\s\S]*?)<\/h6>)+?/gm,'<section>$2<a href="" class="close">закрыть/свернуть</a></section><h6 class="container h3">$3</h6>');e=e.replace(/<h6 class="container h3">([\s\S]*)<\/h6>([\s\S]+)/gm,'<h6 class="container h3">$1</h6><section>$2<a href="" class="close">закрыть/свернуть</a></section>'),t.innerHTML=e}let a="";var n=e.querySelectorAll("h3, h6");n.length&&(n.forEach(function(e,t){var n=e.innerHTML;e.innerHTML='<a name="head'+t+'" id="#head'+t+'"></a>'+n,"H3"==e.tagName?a+='<div class="case-container__toc-lev1"><a href="#head'+t+'" class="js-scrollto">'+n+"</a></div>":a+='<div class="case-container__toc-lev2"><a href="#head'+t+'" class="js-scrollto">'+n+"</a></div>"}),a='<div class="case-container__toc-lev1"><a href="#project" class="js-scrollto">Проект</a></div>'+a),a=""!=a?'<aside class="case-container__toc js-toc"><a href="#" class="sidetoc-menu js-sidetoc"></a><div class="case-container__toc-inner hide">'+a+"</div></aside>":'<aside class="case-container__toc"></aside>',null!=document.querySelectorAll(".js-case")[0]&&((n=document.createElement("div")).className="case-accordion js-case-accordion",null!=t&&(n.innerHTML=t.innerHTML),t.before(n),document.querySelectorAll(".js-case")[0].remove()),document.addEventListener("click",function(e){e.target.classList.contains("js-sidetoc")&&(e.preventDefault(),e.target.classList.contains("closed")?e.target.classList.remove("closed"):e.target.classList.add("closed"))},!0),document.addEventListener("click",function(e){e.target.parentElement.classList.contains("js-case-accordion")&&(e.target.classList.contains("active")?e.target.classList.remove("active"):e.target.classList.add("active"))},!0),document.addEventListener("click",function(e){e.target.parentElement.parentElement.classList.contains("js-case-accordion")&&e.target.classList.contains("close")&&(e.preventDefault(),e.target.parentElement.previousElementSibling.classList.remove("active"),window.scrollTo({behavior:"smooth",top:e.target.parentElement.previousElementSibling.getBoundingClientRect().top+window.pageYOffset}))},!0),(div=document.createElement("div")).className="js-case-outer",div.innerHTML=a+'<article class="case-container__body" itemprop="articleBody">'+e.innerHTML+"</article>",e.before(div),document.querySelectorAll(".js-case-outer")[1].remove();const o=Array.from(document.getElementsByClassName("js-scrollto")),r=(o.length&&o.forEach(function(e,t){o[t].addEventListener("click",function(e){e.preventDefault();e=document.getElementById(e.target.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset;window.scrollTo({behavior:"smooth",top:e})})}),document.getElementsByClassName("js-toc")[0]);if(null!=r){n=document.getElementsByClassName("js-case-outer")[0];let t=document.getElementsByClassName("case-column")[0].getBoundingClientRect().top+window.pageYOffset-document.getElementsByClassName("header")[0].getBoundingClientRect().height+40;r.style.top=110+t+"px";document.getElementsByClassName("js-case-outer")[0].getBoundingClientRect().height;document.documentElement.scrollTop||document.body.scrollTop;let a;const m=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,h=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;m,1024<m&&null!=document.getElementsByClassName("case-container__toc-inner")[0]&&document.getElementsByClassName("case-container__toc-inner")[0].classList.remove("hide");const f=n.querySelectorAll("h3, h6"),p=r.getElementsByTagName("div");let o=new Array;function s(){a=document.documentElement.scrollTop||document.body.scrollTop;var e=document.getElementsByClassName("case-container__toc-inner")[0].getBoundingClientRect().height;if(r.style.height=e+68+"px",a>67+t?(document.getElementsByClassName("case-container__toc-inner")[0].classList.add("fixed"),r.classList.add("fixed"),1024<m&&null!=document.getElementsByClassName("case-container")[0]&&(a>t+document.getElementsByClassName("js-case-outer")[0].getBoundingClientRect().height-document.getElementsByClassName("case-container__toc-inner")[0].getBoundingClientRect().height-79?document.getElementsByClassName("js-case-outer")[0].classList.add("floored"):document.getElementsByClassName("js-case-outer")[0].classList.remove("floored"))):(document.getElementsByClassName("case-container__toc-inner")[0].classList.remove("fixed"),r.classList.remove("fixed")),f.length){let n=-1;for(i=0;i<o.length;i++)a>o[i]-h&&(n=i);Array.prototype.slice.call(o).forEach(function(e,t){t==n?p[t+1].classList.add("active"):p[t+1].classList.remove("active")})}else Array.prototype.slice.call(f).forEach(function(e,t){p[t].classList.remove("active")})}f.length&&Array.prototype.slice.call(f).forEach(function(e,t){o[t]=f[t].offsetTop}),o.splice(0,0,n.getBoundingClientRect().top+window.pageYOffset+60),s();var l=document.querySelectorAll(".js-cases-slider-groups"),c=document.querySelectorAll(".js-cases-groups-arrows-left"),d=document.querySelectorAll(".js-cases-groups-arrows-right"),u=new Array;if(0<l.length)for(i=0;i<l.length;i++)u[i]=tns({container:l[i],items:1,nav:!1,prevButton:c[i],nextButton:d[i],mouseDrag:!0,slideBy:"page"});window.addEventListener("touch",s,!0),window.addEventListener("scroll",s,!0),window.addEventListener("resize",s,!0)}}docReady(function(){let I=!1;var u=getParamsByUrl()?.scrollinto;u&&smoothScrollOnLinkHash(u);const t=document.getElementsByClassName("header")[0];let R=0;const r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;let m,l;const O=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;r<=650&&(window.onscroll=function(){var e=document.documentElement.scrollTop||document.body.scrollTop;50<e?t.classList.add("header_scrolled"):t.classList.remove("header_scrolled"),e>O?e>R?t.classList.remove("header_shift"):(t.classList.add("header_sticky"),t.classList.add("header_transparent"),t.classList.add("header_shift")):(t.classList.remove("header_shift"),setTimeout(()=>{t.classList.remove("header_transparent"),t.classList.remove("header_sticky")},500)),R=e<=0?0:e});u=document.querySelectorAll(".cases-slider");u.length&&u.forEach((e,n)=>{{var a=n;let t=document.querySelectorAll(a?".project-with-slider .active":".cases__case .active");e.addEventListener("touchstart",e=>{touchstartX=e.changedTouches[0].screenX},!1),e.addEventListener("touchend",e=>{touchendX=e.changedTouches[0].screenX,touchstartX>touchendX?t.forEach(e=>{var t=e.nextElementSibling;t&&(e.classList.remove("active"),t.classList.add("active"))}):t.forEach(e=>{var t=e.previousElementSibling;t&&(e.classList.remove("active"),t.classList.add("active"))}),t=document.querySelectorAll(a?".project-with-slider .active":".cases__case .active")},!1)}});var P=document.querySelectorAll(".js-cases-dots");for(m=0;m<P.length;m++)P[m].addEventListener("click",function(e){e.preventDefault();var t=this.previousElementSibling;if("A"==e.target.tagName){var n=Array.prototype.slice.call(e.target.parentNode.parentNode.children),e=n.indexOf(e.target.parentNode);for(m=0;m<t.children.length;m++)t.children[m].classList.remove("active"),n[m].classList.remove("active");t.children[e].classList.add("active"),n[e].classList.add("active")}},!1);var z=document.querySelectorAll(".js-cases-info-dots");for(m=0;m<z.length;m++)z[m].addEventListener("click",function(e){e.preventDefault();var t=this.parentNode.previousElementSibling;if("A"==e.target.tagName){var n=Array.prototype.slice.call(e.target.parentNode.parentNode.children),e=n.indexOf(e.target.parentNode);for(m=0;m<t.children[0].children.length;m++)t.children[0].children[m].classList.remove("active"),n[m].classList.remove("active");t.children[0].children[e].classList.add("active"),n[e].classList.add("active")}},!1);var W=document.querySelectorAll(".js-problems-slider-groups"),F=document.querySelectorAll(".js-problems-groups-dots"),V=new Array;if(0<W.length)for(m=0;m<W.length;m++)V[m]=tns({container:W[m],items:1,controls:!1,navPosition:"bottom",navContainer:F[m],mouseDrag:!0,slideBy:"page"});var Y=document.querySelectorAll(".js-cases-slider-groups"),U=document.querySelectorAll(".js-cases-groups-arrows-left"),X=document.querySelectorAll(".js-cases-groups-arrows-right"),$=new Array;if(0<Y.length)for(m=0;m<Y.length;m++)$[m]=tns({container:Y[m],items:1,nav:!1,prevButton:U[m],nextButton:X[m],mouseDrag:!0,slideBy:"page"});if(0<document.querySelectorAll(".js-project-article").length&&tns({container:".js-project-article",items:1,controls:!1,navPosition:"bottom",navContainer:".js-project-article-dots",mouseDrag:!0,slideBy:"page"}),0<document.querySelectorAll(".js-featured-news").length&&tns({container:".js-featured-news .news__list",items:1.3,gutter:32,edgePadding:32,responsive:{768:{items:1.7},1100:{items:2.8},1440:{edgePadding:0,items:3,nav:!1}},nav:!0,navPosition:"bottom",controls:!1,mouseDrag:!0,slideBy:"page"}),0<document.querySelectorAll(".js-more-news").length&&tns({container:".js-more-news .news__items",items:1.3,gutter:32,edgePadding:20,responsive:{550:{edgePadding:0,items:2},1e3:{items:3},1440:{items:4,nav:!1}},nav:!0,navPosition:"bottom",controls:!1,mouseDrag:!0,slideBy:"page"}),0<document.querySelectorAll(".js-we-did").length&&(document.querySelector(".js-we-did"),650<r?tns({container:".js-we-did",items:4,gutter:15,responsive:{320:{items:2},992:{items:4}},axis:"horizontal",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"}):tns({container:".js-we-did",items:4,gutter:15,responsive:{320:{items:2},992:{items:4}},axis:"vertical",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"})),0<document.querySelectorAll(".js-cases-container").length){var u=document.querySelector(".js-cases-container"),n=Array.prototype.slice.call(u.children),a=new Array;let e=0,t=1;var G=document.createElement("div");for(G.className="cases-container__inner js-cases-container-inner",u.appendChild(G),m=0;m<n.length;m++)n[m].classList.contains("cases__case")&&(1==t&&(a[++e]=document.createElement("div"),a[e].className="cases__block",G.appendChild(a[e])),n[m].classList.contains("cases__case_double")&&t<=3?(a[e].insertAdjacentElement("beforeEnd",n[m]),t++):!n[m].classList.contains("cases__case_double")&&t<=4&&a[e].insertAdjacentElement("beforeEnd",n[m]),4<++t)&&(t=1);r<=650?tns({container:".js-cases-container-inner",items:1,gutter:15,axis:"horizontal",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"}):tns({container:".js-cases-container-inner",items:2,gutter:15,axis:"vertical",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"})}let o=document.querySelectorAll(".js-cases-container-portfolio .container_portfolio-inner"),K=document.querySelectorAll(".js-cases-types"),s=document.querySelectorAll(".js-cases-tags");if(0<o.length){let i=+document.querySelectorAll(".js-cases-container-portfolio")[0].dataset.limit;for(document.querySelectorAll(".js-cases-more")[0].addEventListener("click",function(e){e.preventDefault(),portfolioRefresh(i+=4)}),portfolioRefresh(i),m=0;m<K.length;m++){let a=new Array;for(l=0;l<o[0].children.length;l++){var Q=o[0].children[l].dataset.types.slice(1,o[0].children[l].dataset.types.length-1);a[l]=Q.split(",")}K[m].addEventListener("click",function(e){var t=e.target.parentNode.parentNode.childNodes[1],n=(e.preventDefault(),t?.selectedOptions[0]?.value);for(l=0;l<a.length;l++)a[l].includes("'"+n+"'")?o[0].children[l].classList.remove("hide"):o[0].children[l].classList.add("hide");for(l=0;l<s[0].children.length;l++)s[0].children[l].classList.remove("active");s[0].children[0].classList.add("active"),portfolioRefresh(i)})}for(m=0;m<s.length;m++){let a=new Array;for(l=0;l<o[0].children.length;l++){var Z=o[0].children[l].dataset.cats.slice(1,o[0].children[l].dataset.cats.length-1);a[l]=Z.split(",")}s[m].addEventListener("click",function(e){var t;if(e.preventDefault(),null!=e.target.getAttribute("href")){for(t=e.target.getAttribute("href").slice(1),l=0;l<s[0].children.length;l++)s[0].children[l].classList.remove("active");for(e.target.classList.add("active"),l=0;l<a.length;l++)a[l].includes("'"+t+"'")?o[0].children[l].classList.remove("hide"):o[0].children[l].classList.add("hide");var n=K[0].parentNode.childNodes[1].querySelector(".select-items");if(n){for(let e=0;e<n.childNodes.length;e++)n.childNodes[e].classList.remove("same-as-selected");n.childNodes[0].classList.add("same-as-selected")}portfolioRefresh(i)}})}}u=document.querySelectorAll(".js-editorial"),0<u.length&&generateEditorialTOC(u[0]),u=document.querySelector(".js-case-outer");null!=u&&generateCaseTOC(u);let c=document.querySelectorAll(".js-vacancies-container .vacancies__container_inner");var J=document.querySelectorAll(".js-vacancies-types");if(0<c.length){let i=+document.querySelectorAll(".js-vacancies-container")[0].dataset.limit;u=document.querySelectorAll(".js-vacancies-more")[0];const Ne=document.querySelectorAll(".js-vacancies-page");if(u&&u.addEventListener("click",function(e){e.preventDefault(),vacanciesRefresh(i+=4)}),480<r)vacanciesRefresh(i);else{vacanciesRefresh(i=3);for(let e=0;e<Ne.length;e++)Ne[e].addEventListener("click",function(e){e.preventDefault(),vacanciesTransition(this.dataset.page,i);for(let e=0;e<Ne.length;e++)Ne[e].parentNode.classList.remove("active");this.parentNode.classList.add("active")})}for(m=0;m<J.length;m++){let a=new Array,t=new Array,n=new Array;for(emptyVacancyData="",l=0;l<c[0].children.length;l++){var ee=c[0].children[l].dataset.types.slice(1,c[0].children[l].dataset.types.length-1);a[l]=ee.split(",")}for(l=0;l<J[0].children[0].children.length;l++)t.push(J[0].children[0].children[l].value);for(n=t,l=0;l<t.length;l++){let e=!1;for(k=0;k<a.length;k++)a[k].includes("'"+t[l]+"'")&&(e=!0);e&&(n.splice(l,1),l--)}for(l=0;l<n.length;l++)emptyVacancyData+=",'"+n[l]+"'";for(emptyVacancyData="["+emptyVacancyData.substring(1)+"]",document.getElementById("vac_send").dataset.types=emptyVacancyData,l=0;l<c[0].children.length;l++){var te=c[0].children[l].dataset.types.slice(1,c[0].children[l].dataset.types.length-1);a[l]=te.split(",")}J[m].addEventListener("click",function(e){var t=e.target.parentNode.parentNode.childNodes[0],n=(e.preventDefault(),t.selectedOptions[0].value);for(l=0;l<a.length;l++)a[l].includes("'"+n+"'")?c[0].children[l].classList.remove("hide"):c[0].children[l].classList.add("hide");vacanciesRefresh(i)})}}let d=document.querySelectorAll(".js-news-grid-container");var ne=document.querySelectorAll(".js-news-types");if(0<d.length)for(let s=0;s<d.length;s++)try{let o=+d[s].dataset.limit,r=document.querySelectorAll(".js-more")[0];const N=d[s].dataset;for(N.limitStable||r?.addEventListener("click",function(e){o+=+N.perpage,removeOverBlocks(d[s],o,N.limitStable,N,r)}),m=0;m<ne.length;m++){let i=new Array;for(l=0;l<d[s].children.length;l++){var ae=d[s].children[l].dataset.tags.slice(1,d[s].children[l].dataset.tags.length-1);i[l]=ae.split(",")}removeOverBlocks(d[s],N.limit,N.limitStable,N,r),ne[m].addEventListener("click",function(e){o=+d[s].dataset.limit;var t=e.target.parentNode.parentNode.childNodes[1],n=(e.preventDefault(),t?.selectedOptions[0]?.value);let a=0;for(l=0;l<i.length;l++)i[l].includes("'"+n+"'")||i[l].includes("'every'")?d[s]?.children[l]?.classList.remove("hide"):(d[s]?.children[l]?.classList.add("hide"),a++),removeOverBlocks(d[s],N.limit,N.limitStable,N,r);d[s]?.children?.length===a?d[s].classList.add("hide"):d[s].classList.remove("hide")})}}catch(e){console.error({err:e})}var e=document.querySelectorAll(".vacancy");if(e.length)if(480<r)for(m=0;m<e.length;m++)e[m].addEventListener("mouseover",function(e){e.preventDefault();var e=this.children[0],t=e.getBoundingClientRect().height,e=e.getElementsByClassName("vacancy__title_name")[0],n=e.getBoundingClientRect().height+100,e=e.parentNode,a=e.nextElementSibling;let i=0;this.classList.contains("vacancy_send")&&(i=120),getup=-55,e.style.top=getup-i+n-t+"px",a.style.top=getup-i+n-t+"px",a.style.height=-getup+i+t-n+92+"px"},!1),e[m].addEventListener("mouseout",function(e){e.preventDefault();var e=this.children[0].getElementsByClassName("vacancy__title_name")[0].parentNode,t=e.nextElementSibling;e.style.top="0px",t.style.top="0px",t.style.height="100%"},!1);else for(m=0;m<e.length;m++)e[m].addEventListener("click",function(e){var t;"vacancy__body_link"!==e.target.className&&(e.preventDefault(),t=(e=this.children[0]).getElementsByClassName("vacancy__title_name")[0].parentNode.children[0],"336px"===this.style.height?(this.style.height="188px",e.style.height="100%",this.style.maxHeight="188px",e.style.maxHeight="100%",t.style.transform="rotate(0deg)","vac_send"===this.id&&(this.style["padding-bottom"]="128px")):(this.style.height="336px",e.style.height="100%",this.style.maxHeight="336px",e.style.maxHeight="100%",t.style.transform="rotate(135deg)","vac_send"===this.id&&(this.style["padding-bottom"]="336px")))},!1);let ie=document.querySelector(".js-top-menu");u=document.querySelector(".js-top-menu-inner");let i=document.querySelector(".pmenu"),oe=(ie.addEventListener("click",function(e){e.preventDefault(),i.classList.contains("active")?(i.classList.remove("active"),ie.parentNode.classList.remove("active"),document.querySelector("body").classList.remove("popup-open")):(i.classList.add("active"),ie.parentNode.classList.add("active"),document.querySelector("body").classList.add("popup-open"))},!1),u.addEventListener("click",function(e){e.preventDefault(),i.classList.contains("active")&&(i.classList.remove("active"),ie.parentNode.classList.remove("active"),document.querySelector("body").classList.remove("popup-open"))},!1),document.querySelector(".js-sidetoc")),h=document.querySelector(".editorial-container__toc-inner");document.querySelector(".js-toc"),null!=oe&&null!=h&&oe.addEventListener("click",function(e){e.preventDefault();if(h.classList.contains("hide")){h.classList.remove("hide");let e=0,t=(null!=document.getElementsByClassName("editorial-container__toc-inner")[0]&&(e=document.getElementsByClassName("editorial-container__toc-inner")[0].getBoundingClientRect().height),document.getElementsByClassName("js-toc")[0].style.height=e+68+"px",1),n=setInterval(function(){3<t?clearInterval(n):(oe.style.backgroundImage="url(/assets/css/img/icon-editorial"+t+".svg)",t++)},60)}else{h.classList.add("hide"),h.classList.remove("fixed"),document.getElementsByClassName("js-toc")[0].style.height="68px";let e=3,t=setInterval(function(){e<1?clearInterval(t):(oe.style.backgroundImage="url(/assets/css/img/icon-editorial"+e+".svg)",e--)},60)}},!1);var re=document.querySelectorAll(['iframe[src*="youtube.com"]','iframe[src*="vimeo.com"]'].join(","));if(re.length)for(m=0;m<re.length;m++){var f=re[m],se=f.getAttribute("width"),se=f.getAttribute("height")/se,le=f.parentNode,ce=document.createElement("div");ce.className="popup-video__frame",ce.style.paddingBottom=100*se+"%",le.insertBefore(ce,f),f.remove(),ce.appendChild(f),f.removeAttribute("height"),f.removeAttribute("width")}var p=document.getElementsByTagName("textarea");if(p.length)for(let e=0;e<p.length;e++)p[e].setAttribute("style","height:"+p[e].scrollHeight+"px;overflow-y:hidden;"),p[e].addEventListener("input",TextareaOnInput,!1),r<500&&"project_desc"==p[e].id&&(p[e].placeholder="Краткая информация");u=document.querySelector(".range");if(null!=u){document.querySelector(".range").classList.add("js");let o=document.createElement("input");function de(e){let t;var e=(t=null==e?document.querySelectorAll('.range input[type="range"]')[0]:t=e.target).parentNode,n=+t.value,a=+e.querySelector(`option[value='${n}']`).label,i=0<window.innerWidth?window.innerWidth:screen.width,i=1330<i?e.clientWidth:650<i?i:i-60,n=(t.setAttribute("aria-valuetext",a),e.style.setProperty("--"+t.id,n),e.style.setProperty("--lbl-"+t.id,a+""),e.style.setProperty("--wd",i),document.getElementById("l").children[document.getElementById("a").value].getAttribute("label")),a=document.getElementById("l").children[document.getElementById("b").value].getAttribute("label");o.setAttribute("value",n+"-"+a+" млн")}o.setAttribute("id","range"),o.setAttribute("name","range"),o.setAttribute("type","hidden"),u.appendChild(o),document.querySelectorAll('.range input[type="range"]')[0].addEventListener("input",de,!1),document.querySelectorAll('.range input[type="range"]')[1].addEventListener("input",de,!1),de()}var u=document.querySelector(".js-popup-video-open"),v=document.querySelector(".js-popup-video-close");let ue=document.querySelector(".popup-video");null!=u&&(u.addEventListener("click",function(e){e.preventDefault(),ue.classList.add("active"),document.querySelector("body").classList.add("popup-open")},!1),v.addEventListener("click",function(e){e.preventDefault(),ue.classList.remove("active"),document.querySelector("body").classList.remove("popup-open")},!1));var me=document.querySelectorAll(".js-popup-feedback-open"),he=document.querySelector(".js-popup-feedback-close");for(m=0;m<me.length;m++){let t=document.querySelector(".popup-feedback");document.querySelector(".popup-feedback__content");null!=me[m]&&(me[m].addEventListener("click",function(e){e.preventDefault(),"function"==typeof ym&&ym(23767978,"reachGoal","CLICKrequest"),r<481&&e.target.className.startsWith("vacanc")&&"vacancy__body_link"!==e.target.className||(t.classList.add("active"),document.querySelector("body").classList.add("popup-open"),null!=(bodyOpened=document.querySelector(".popup-open"))&&bodyOpened.addEventListener("click",function(e){(e.target.classList.contains("popup-feedback")||e.target.parentNode.classList.contains("popup-feedback"))&&(t.classList.remove("active"),document.querySelector("body").classList.remove("popup-open"))},!1))},!1),null!=he&&he.addEventListener("click",function(e){e.preventDefault(),null!=t&&t.classList.remove("active"),document.querySelector("body").classList.remove("popup-open")},!1),document.addEventListener("ajaxFormResponse",e=>{!0!==e.detail&&!1!==e.details||(null!=t&&t.classList.remove("active"),document.querySelector("body").classList.remove("popup-open"))},!1))}var fe=document.querySelectorAll(".circle");for(l=0;l<fe.length;l++){let t=fe[l].querySelector(".circle-text");var pe=fe[l].querySelector(".circle-pic");let n=fe[l].querySelector(".circle-about")||document.querySelector(".about__animation_items");if(null!=pe){pe.classList.add("rotating");let e=3;setInterval(function(){for(m=0;m<t.children.length;m++)t.children[m%t.children.length].style.opacity="0";for(m=0;m<n.children.length;m++)n.children[m%n.children.length].style.opacity="0";setTimeout(()=>{for(m=0;m<t.children.length;m++)t.children[m%t.children.length].style.display="none";for(m=0;m<n.children.length;m++)n.children[m%n.children.length].style.display="none"},1e3),setTimeout(()=>{t.children[e%t.children.length].style.opacity="0",t.children[e%t.children.length].style.display="block",n.children[e%n.children.length].style.opacity="0",n.children[e%n.children.length].style.display="block",setTimeout(()=>{t.children[e%t.children.length].style.opacity="1",n.children[e%n.children.length].style.opacity="1"},250)},1e3),e++},5e3)}}if(document.querySelector(".js-map-container")&&new ContactMapYandex(document.querySelector(".js-map-container"),document.querySelectorAll(".js-map-address"),document.querySelector(".js-map-select")),document.querySelector(".select")){let e,t,n,a,i,o,r,s,l;for(a=(e=document.getElementsByClassName("select")).length,t=0;t<a;t++){for(i=(o=e[t].getElementsByTagName("select")[0]).length,(r=document.createElement("DIV")).setAttribute("class","select-selected"),r.innerHTML=o?.options[o.selectedIndex]?.innerHTML,e[t].appendChild(r),(s=document.createElement("DIV")).setAttribute("class","select-items select-hide"),n=0;n<i;n++)(l=document.createElement("DIV")).innerHTML=o.options[n].innerHTML,0==n&&l.setAttribute("class","same-as-selected"),"ios"!=o.options[n].value&&"android"!=o.options[n].value&&"web"!=o.options[n].value&&"other"!=o.options[n].value||(newClass="iconed_"+o.options[n].value,l.classList.add("iconed"),l.classList.add(newClass)),l.addEventListener("click",function(e){let t,n,a,i,o,r,s,l;var c,d=(i=this.parentNode.parentNode.getElementsByTagName("select")[0]).id.startsWith("multiple");for(r=i.length,o=this.parentNode.previousSibling,n=0;n<r;n++)if((l=i.options[n].innerHTML)==this.innerHTML){d||(i.selectedIndex=n),d||(o.innerHTML=this.innerHTML),s=(t=this.parentNode.getElementsByClassName("same-as-selected")).length;let e=!1;if(i.options[n].setAttribute("selected",""),d)for(a=0;a<s;a++)t[a]?.innerHTML==this.innerHTML&&(e=t[a]?.innerHTML,t[a]?.classList.remove("same-as-selected"),i.options[n].removeAttribute("selected"));else{for(a=0;a<s;a++)t[a].classList.remove("same-as-selected");this.classList.add("same-as-selected")}d&&(e||this.classList.add("same-as-selected"),c=e||this.innerHTML,function(t,n,a,e){var i=(selectSelected=document.getElementsByClassName("select-selected")).length,o=e||"Выберите";for(let e=0;e<i;e++)a==selectSelected[e].innerHTML&&(t?(selectSelected[e].innerHTML=selectSelected[e].innerHTML.split(", ").filter(function(e){return e!==t}).join(", "),selectSelected[e].innerHTML||(selectSelected[e].innerHTML=o)):selectSelected[e].innerHTML!=o?selectSelected[e].innerHTML=selectSelected[e].innerHTML.concat(", "+n):selectSelected[e].innerHTML=n)}(e,c,o.innerHTML,l));break}d||o.click()}),s.appendChild(l);e[t].appendChild(s),r.addEventListener("click",function(e){e.stopPropagation(),closeAllSelect(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}document.addEventListener("click",closeAllSelect)}if(0<o.length){var g=new URL(window.location.href).searchParams?.get("casesTypes");if(g){var u=+document.querySelectorAll(".js-cases-container-portfolio")[0].dataset.limit,ve=["all","start","scale","consult"],v=ve.indexOf(g);if(~v){var y=K[0].parentNode.childNodes[1].childNodes[1],L=document.querySelectorAll(".same-as-selected")[0];for(L.classList.remove("same-as-selected"),L.parentNode.childNodes[v].classList.add("same-as-selected"),y.value=g,y.selectedOptions[0].value=g,l=0;l<ve.length;l++)ve[l].includes("'"+g+"'")?o[0].children[l].classList.remove("hide"):o[0].children[l].classList.add("hide");portfolioRefresh(u)}}}if(0<document.querySelectorAll(".js-team-container").length&&tns({container:".js-team-container .team__list",items:4,gutter:15,responsive:{320:{items:1},640:{items:2},992:{items:4}},axis:"horizontal",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"}),0<document.querySelectorAll(".js-astra-team-container").length&&tns({container:".js-astra-team-container .team__list",items:4.5,gutter:15,responsive:{320:{items:1.4},640:{items:2.4},992:{items:3.5},1315:{items:4},1420:{items:4.5}},axis:"horizontal",controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"}),0<document.querySelectorAll(".js-randomcases-container").length&&document.querySelector(".some-projects__list")){var ge=document.querySelector(".js-randomcases-container");for(let e=0;e<4;e++){var ye=Math.floor(1+Math.random()*ge.children[0].childElementCount),ye=document.querySelector(".js-randomcases-container > .some-projects__list > .cases__case:nth-child("+ye+")");ye&&ye.remove()}tns({container:".js-randomcases-container .some-projects__list",items:4,gutter:15,responsive:{320:{items:2,nav:!0},640:{items:2,nav:!0},992:{items:4,nav:!1}},controls:!1,nav:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page"})}if(0<document.querySelectorAll(".js-aurora-cases").length&&document.querySelector(".some-projects__list")&&tns({container:".js-aurora-cases .some-projects__list",items:1,gutter:15,responsive:{768:{items:2,nav:!1}},controls:!1,nav:!0,navPosition:"bottom",mouseDrag:!0,slideBy:"page"}),0<document.querySelectorAll(".js-accordion").length){var L=document.querySelector(".js-accordion"),Le=Array.prototype.slice.call(L.children);for(m=0;m<Le.length;m++)Le[m].addEventListener("click",function(e){e.target.className.startsWith("project")||e.target.className.startsWith("cases")||(e.preventDefault(),e.target.parentNode.classList.toggle("active"))},!1)}if(0<document.querySelectorAll(".js-years").length&&(tns({container:".js-years",items:1,controls:!1,navPosition:"bottom",mouseDrag:!0,slideBy:"page",autoplay:!0,autoplayTimeout:3e3,autoplayButton:!1,autoplayButtonOutput:!1}),(v=()=>{var e=sliderYears.getInfo(),t=e.displayIndex-1,n=document.querySelector(".js-year-circle"),a=document.querySelector(".js-year-number");n.style.left=100*t/(e.slideCount-1)+"%",a.innerHTML=e.slideItems[e.displayIndex].dataset.year})(),sliderYears.events.on("transitionEnd",v)),0<document.querySelectorAll(".js-request-button").length){y=document.querySelectorAll(".js-request-button")[0];let a=document.getElementById("request__form");y.onclick=function(){var e=a.getElementsByTagName("input");let t,n=!1;for(t=0;t<e.length;t++)checkFieldValid(e[t])||(n||(n=!0,a.scrollIntoView({behavior:"smooth"})),e[t].classList.add("error"));"function"==typeof ym&&ym(23767978,"reachGoal","CLICKsend")}}var be=document.querySelectorAll(".js-scrollto-applicants-form");if(0<be.length)for(m=0;m<be.length;m++)be[m].addEventListener("click",function(e){var t=document.getElementsByClassName("feedback_applicants");t.length&&t[0].scrollIntoView({behavior:"smooth"})},!1);if(0<document.querySelectorAll(".js-switch-category").length){var Ee=document.querySelectorAll(".js-switch-category a, .js-switch-category span");const Be=document.querySelectorAll(".js-show-business"),ke=document.querySelectorAll(".js-show-applicants");for(m=0;m<Ee.length;m++)Ee[m].addEventListener("click",function(e){for(e.preventDefault(),l=0;l<Be.length;l++)Be[l].classList.toggle("hide");for(l=0;l<ke.length;l++)ke[l].classList.toggle("hide")},!1)}if(r<1025){var we=document.querySelectorAll(".astralinux-container-interactive .content-container .content-card");if(0<we.length)for(m=0;m<we.length;m++){const Me=we[m];Me.addEventListener("click",function(){Me.classList.contains("content-card-active")?Me.classList.remove("content-card-active"):Me.classList.add("content-card-active")},!1)}}const b=document.querySelectorAll(".js-active-contents-by-scroll");if(b?.length){const B=b[0].querySelectorAll(".content-card"),He=[];var Se=[];for(let e=0;e<B.length;e++)He.push(B[e].offsetTop),Se.push(B[e].clientHeight);if(0<b.length){let a,e=!1,i=!0;document.addEventListener("scroll",debounce(()=>{if((a=window.scrollY+window.innerHeight/2-150)>b[0].offsetTop&&a<b[0].nextElementSibling.offsetTop){const n=He.reduce(function(e,t){return Math.abs(t-a)<Math.abs(e-a)?t:e});e||(window.requestAnimationFrame(()=>{e=!1;var t=He.findIndex(e=>e===n);for(let e=0;e<B.length;e++)e!==t?B[e].classList.contains("content-card-closest-active")&&B[e].classList.remove("content-card-closest-active"):B[t].classList.contains("content-card-closest-active")||B[t].classList.add("content-card-closest-active");i=!1}),e=!0)}else if(!i){for(let e=0;e<B.length;e++)B[e].classList.contains("content-card-closest-active")&&B[e].classList.remove("content-card-closest-active");i=!0}},100))}}if(0<document.querySelectorAll(".js-tag-categories-container").length){const De=document.querySelectorAll(".tags-filters .tags-filters__container .filters-wrapper .filter-tag");let a="all";const Ie={consulting:["edtech","retail","real_estate","sports","clear"],development:["social_networks","retail","fintech","medtech","wearable","telecom","landing","IT","real_estate","clear"]},Re=["tags-category","tags__categories","tags-filters","filter-tag","filters-wrapper"],M=new Map;const Oe=document.getElementById("tags-filters"),Pe="opacity-0",ze=document.querySelectorAll(".js-tag-categories-container")[0],We=document.querySelectorAll(".tags__selected .tag-active"),H=document.querySelectorAll(".js-tag-publications .card");Array.from(ze.children).forEach((e,n)=>e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),toggleClass(Oe,Pe,!1),I||document.addEventListener("click",function(e){I=!0,hasCommonElements([...Array.from(e.target.classList),...Array.from(e.target.parentNode.classList)],Re)||toggleClass(Oe,Pe,!0)}),a!==t.target?.dataset?.cats&&(Array.from(H).forEach(e=>"all"===t.target.dataset.cats||e.dataset.cat===t.target.dataset.cats?e.classList.remove("hidden"):e.classList.add("hidden")),Array.from(We).forEach(e=>e.classList.add("hidden")),Array.from(De).forEach(e=>e.classList.remove("active")),e.classList.add("active"),Array.from(ze.children).forEach((e,t)=>n!==t?e.classList.remove("active"):""),t?.target?.dataset?.cats)&&(a=t.target.dataset.cats,Array.from(De).forEach(e=>{e.classList.remove("active"),e.classList.remove("hidden"),"all"===a||Ie[a].includes(e.dataset.filterTag)||e.classList.add("hidden")}))})),Array.from(De).forEach((n,a)=>{n.addEventListener("click",e=>{if(e.preventDefault(),"clear"===n.dataset.filterTag)Array.from(We).forEach(e=>e.classList.add("hidden")),Array.from(H).forEach(e=>e.classList.remove("hidden")),Array.from(De).forEach(e=>e.classList.remove("active"));else{const t=Array.from(We).find(e=>e.dataset.filterTag===n.dataset.filterTag);t&&(t.classList.contains("hidden")?(t.classList.remove("hidden"),t.addEventListener("click",()=>{n.classList.remove("active"),t.classList.add("hidden"),M.delete(a),M.size?Array.from(H).forEach(e=>{e.classList.remove("hidden"),hasCommonElements(Array.from(M.values()),[e.dataset.tag])||e.classList.add("hidden")}):Array.from(H).forEach(e=>{e.classList.remove("hidden")})})):t.classList.add("hidden")),n.classList.contains("active")?(n.classList.remove("active"),M.delete(a)):(n.classList.add("active"),M.set(a,n.dataset.filterTag)),M.size?Array.from(H).forEach(e=>{e.classList.remove("hidden"),hasCommonElements(Array.from(M.values()),[e.dataset.tag])||e.classList.add("hidden")}):Array.from(H).forEach(e=>{e.classList.remove("hidden")})}})})}var E=document.querySelector(".js-portfolio-archive");if(E){var w=E.querySelectorAll(".card");if(console.log(w),4<w.length){var Ae=Math.ceil(w.length/4);for(E.innerHTML="",m=1;m<Ae+1;m++){var S=document.createElement("div");for(S.className="projects__list js-archive-projects-page",1<m&&(S.className+=" hidden"),S.dataset.filterPage=m,l=4*(m-1);l<4*m;l++)l<w.length&&(S.innerHTML+=w[l].outerHTML);E.innerHTML+=S.outerHTML}var _e=document.createElement("div");for(_e.className="redesign-archive__pagination",m=1;m<Ae+1;m++){var A=document.createElement("div");A.className="page-wrapper js-page-switcher",1==m&&(A.className+=" active"),A.dataset.pageSwitch=m,A.innerHTML='<div class="page" data-page-switch="'+m+'">'+m+"</div>",_e.innerHTML+=A.outerHTML}E.innerHTML+=_e.outerHTML}}if(0<document.querySelectorAll(".js-page-switcher").length){const Fe=document.querySelectorAll(".js-page-switcher"),Ve=document.querySelectorAll(".js-archive-projects-page"),Ye=document.getElementById("redesign-archive__header");Array.from(Fe).forEach(n=>n.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation();const t=e?.target?.dataset?.pageSwitch;Array.from(Fe).forEach(e=>e.classList.remove("active")),n.classList.add("active"),(t||0===t)&&(Array.from(Ve).forEach(e=>{e.dataset.filterPage===t?e.classList.remove("hidden"):e.classList.add("hidden")}),Ye)&&Ye.scrollIntoView({behavior:"smooth"})}))}if(0<document.querySelectorAll(".yaDiskUploader").length){var Ce=document.querySelectorAll(".yaDiskUploader");let t;for(m=0;m<Ce.length;m++)(t=Ce[m]).addEventListener("click",function(e){e.preventDefault(),t.classList.contains("js-upload-started")||t.classList.add("js-upload-started")},!1)}if(0<document.querySelectorAll(".js-expert-slider").length&&document.querySelector(".slider-container")){const Ue=tns({container:".js-expert-slider .slider-container",gutter:0,controls:!1,nav:!0,navPosition:"bottom",navContainer:".js-expert-slider .js-expert-dots",mouseDrag:!0,slideBy:"page",mode:"gallery"});if(0<document.querySelectorAll(".js-switch").length){const D=document.querySelectorAll(".js-switch")[0];if(D.children?.length){for(let e=0;e<D.children.length;e++){const Xe=D.children[e];Xe.addEventListener("click",function(){Ue.goTo(e);for(let e=0;e<D.children.length;e++)D.children[e].classList.remove("active");Xe.classList.add("active")})}Ue.events.on("indexChanged",function(e){for(let e=0;e<D.children.length;e++)D.children[e].classList.remove("active");D.children[e.displayIndex-1].classList.add("active")})}}}0<document.querySelectorAll(".js-children-click-set-active").length&&document.querySelectorAll(".js-children-click-set-active").forEach(o=>{Array.from(o.children).forEach(i=>{i.addEventListener("click",e=>{if(!i.classList.contains("active")){Array.from(o.children).forEach(e=>{e.classList.remove("active")}),i.classList.add("active");const a=i.dataset.clickSync;var t,n;a&&(n=(t=[...document.querySelectorAll(".js-click-sync")])?.find(e=>e.dataset?.clickSync===a))&&(t.forEach(e=>{e?.classList.add("hide")}),n.classList.remove("hide")),r<=480?o.scrollTo({behavior:"smooth",left:i.offsetLeft-20}):r<=650&&o.scrollTo({behavior:"smooth",left:i.offsetLeft-30})}})})}),0<document.querySelectorAll(".js-archive-slider").length&&Array.from(document.querySelectorAll(".js-archive-slider")).forEach(e=>{tns({container:e.querySelector(".slider-container"),navContainer:e.querySelector(".js-archive-dots"),items:1,gutter:10,controls:!1,nav:!0,navPosition:"bottom",mouseDrag:!0,slideBy:"page"})}),0<document.querySelectorAll(".js-window-location").length&&Array.from(document.querySelectorAll(".js-window-location")).forEach(e=>{e.addEventListener("click",()=>{e.dataset.href&&(window.location=e.dataset.href)})}),0<document.querySelectorAll("iframe").length&&initVideo();u=document.querySelector(".js-timeline"),L=document.querySelector(".js-timeline-grid"),v=document.querySelector(".js-timeline-events");if(null!=u&&null!=L&&null!=v){var _=v.querySelectorAll("div");let e="";y=document.createElement("div"),v=(y.className="timeline_outer",document.createElement("div"));for(v.className="timeline loading",m=0;m<_.length;m++){var C=document.createElement("a");C.classList.add("timeline_event"),C.classList.add("js-timeline_event"),C.setAttribute("data-fullname",_[m].dataset.fullname),C.setAttribute("data-start",_[m].dataset.start),C.setAttribute("data-text",_[m].dataset.text),C.innerHTML=_[m].dataset.name+"<i></i>",e+=C.outerHTML}v.innerHTML='<div class="timeline_container">'+e+"</div>",u.before(y),y.append(v);var x=v.querySelectorAll(".js-timeline_event");let i;for(m=0;m<x.length;m++)x[m].setAttribute("data-width",x[m].getBoundingClientRect().width),x[m].addEventListener("click",function(e){if(e.preventDefault(),this.classList.contains("open"))this.classList.remove("open"),this.parentElement.classList.remove("open");else{this.parentElement.classList.add("open"),this.classList.add("open");var t=this;for(i=document.querySelectorAll(".timeline_event-open"),m=0;m<i.length;m++)i[m].remove();var n=document.querySelectorAll(".js-timeline_event");for(m=0;m<n.length;m++)n[m].classList.contains("open")&&n[m]!=t&&n[m].classList.remove("open");var a=document.createElement("div"),e=(a.classList.add("timeline_event"),a.classList.add("timeline_event-open"),parseInt(document.querySelector(".timeline").style.width));for(parseInt(t.style.left)+300>e?a.style.right=e-(parseInt(t.style.left)+parseInt(t.dataset.width))+"px":a.style.left=t.style.left,m=1;m<9;m++)if(t.classList.contains("level"+m)){a.classList.add("level"+m);break}a.innerHTML='<h4 class="timeline_event-fullname"><i></i>'+t.dataset.fullname+'</h4><p class="timeline_event-fulltext">'+t.dataset.text+"</p>",document.querySelector(".timeline_container").appendChild(a),document.querySelector(".timeline_event-fullname i").addEventListener("click",function(e){for(e.stopPropagation(),e.target.parentNode.parentNode.remove(),document.querySelector(".timeline_container").classList.remove("open"),i=document.querySelectorAll(".timeline_event"),m=0;m<i.length;m++)i[m].classList.remove("open")})}},!1);u.remove();var j=parseInt(getComputedStyle(document.querySelector(".timeline_container")).paddingLeft);let t=document.querySelector(".timeline_container").getBoundingClientRect().width-2*j,n=t;for(m=0;m<x.length;m++)0<x[m].dataset.start&&(t-+x[m].dataset.width)/x[m].dataset.start<n&&(n=(t-+x[m].dataset.width)/x[m].dataset.start);t=n*u.dataset.width;var xe=new Array(8);let a;for(xe.fill(0),m=0;m<x.length;m++)if(0==m)x[0].setAttribute("data-level",1),x[0].style.left=j+"px",x[0].classList.add("level1"),xe[1]=j+ +x[0].dataset.width+12,a=1;else{var je=j+x[m].dataset.start*t;for(x[m].style.left=je+"px",lev=1;lev<xe.length+1;lev++)if(+xe[lev]<je){x[m].setAttribute("data-level",lev),xe[lev]=je+ +x[m].dataset.width+12,x[m].classList.add("level"+lev),lev>a&&(a=lev);break}}var y=120+62*a+"px",T=(document.querySelector(".timeline_container").style.height=y,document.querySelector(".timeline_outer").style.height=y,document.querySelector(".timeline").style.width=document.querySelector(".timeline_container").getBoundingClientRect().width*u.dataset.width+"px",L.querySelectorAll("div"));let o="";for(m=0;m<T.length;m++){var q=document.createElement("div"),Te=(q.classList.add("timeline_milestone"),j+T[m].dataset.start*t),qe=((m!=T.length-1?T[m+1].dataset.start:1)-T[m].dataset.start)*t;q.style.left=Te+"px",m!=T.length-1?q.style.width=qe+"px":q.style.right="0",q.innerHTML=T[m].dataset.name,o+=q.outerHTML}y=document.createElement("div");y.classList.add("timeline_container-milestones"),y.innerHTML=o,v.appendChild(y),v.classList.remove("loading");document.querySelector(".timeline_outer").getBoundingClientRect();let r=document.querySelector(".timeline"),s=r.getBoundingClientRect(),l=!1,c=0,d=0;document.querySelector(".timeline_outer").addEventListener("mousedown",function(e){e.preventDefault(),l=!0,c=e.clientX-s.left-d}),document.querySelector(".timeline_outer").addEventListener("mousemove",function(e){e.preventDefault(),l&&(r.style.left=e.clientX-c+"px")}),document.querySelector(".timeline_outer").addEventListener("mouseup",function(e){e.preventDefault(),l=!1,d=r.style.left.substr(0,r.style.left.length-2)})}});var tns=function(){var e=window,Ya=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,16)},t=window,Ua=t.cancelAnimationFrame||t.mozCancelAnimationFrame||function(e){clearTimeout(e)};function Xa(e){for(var t,n,a,i=e||{},o=1,r=arguments.length;o<r;o++)if(null!==(t=arguments[o]))for(n in t)i!==(a=t[n])&&void 0!==a&&(i[n]=a);return i}function $a(e){return 0<=["true","false"].indexOf(e)?JSON.parse(e):e}function Ga(e,t,n,a){if(a)try{e.setItem(t,n)}catch(e){}return n}function Ka(){var e=document,t=e.body;return t||((t=e.createElement("body")).fake=!0),t}var n=document.documentElement;function Qa(e){var t="";return e.fake&&(t=n.style.overflow,e.style.background="",e.style.overflow=n.style.overflow="hidden",n.appendChild(e)),t}function Za(e,t){e.fake&&(e.remove(),n.style.overflow=t,n.offsetHeight)}function Ja(e,t,n,a){"insertRule"in e?e.insertRule(t+"{"+n+"}",a):e.addRule(t,n,a)}function ei(e){return("insertRule"in e?e.cssRules:e.rules).length}function ti(e,t,n){for(var a=0,i=e.length;a<i;a++)t.call(n,e[a],a)}var t="classList"in document.createElement("_"),ni=t?function(e,t){return e.classList.contains(t)}:function(e,t){return 0<=e.className.indexOf(t)},ai=t?function(e,t){ni(e,t)||e.classList.add(t)}:function(e,t){ni(e,t)||(e.className+=" "+t)},ii=t?function(e,t){ni(e,t)&&e.classList.remove(t)}:function(e,t){ni(e,t)&&(e.className=e.className.replace(t,""))};function oi(e,t){return e.hasAttribute(t)}function ri(e,t){return e.getAttribute(t)}function o(e){return void 0!==e.item}function si(e,t){if(e=o(e)||e instanceof Array?e:[e],"[object Object]"===Object.prototype.toString.call(t))for(var n=e.length;n--;)for(var a in t)e[n].setAttribute(a,t[a])}function li(e,t){e=o(e)||e instanceof Array?e:[e];for(var n=(t=t instanceof Array?t:[t]).length,a=e.length;a--;)for(var i=n;i--;)e[a].removeAttribute(t[i])}function ci(e){for(var t=[],n=0,a=e.length;n<a;n++)t.push(e[n]);return t}function di(e,t){"none"!==e.style.display&&(e.style.display="none")}function ui(e,t){"none"===e.style.display&&(e.style.display="")}function mi(e){return"none"!==window.getComputedStyle(e).display}function hi(t){var n,a;"string"==typeof t&&(n=[t],a=t.charAt(0).toUpperCase()+t.substr(1),["Webkit","Moz","ms","O"].forEach(function(e){"ms"===e&&"transform"!==t||n.push(e+a)}),t=n);for(var e=document.createElement("fakeelement"),i=(t.length,0);i<t.length;i++){var o=t[i];if(void 0!==e.style[o])return o}return!1}function fi(e,t){var n=!1;return/^Webkit/.test(e)?n="webkit"+t+"End":/^O/.test(e)?n="o"+t+"End":e&&(n=t.toLowerCase()+"end"),n}var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,i)}catch(e){}var r=!!a&&{passive:!0};function pi(e,t,n){for(var a in t){var i=0<=["touchstart","touchmove"].indexOf(a)&&!n&&r;e.addEventListener(a,t[a],i)}}function vi(e,t){for(var n in t){var a=0<=["touchstart","touchmove"].indexOf(n)&&r;e.removeEventListener(n,t[n],a)}}function gi(){return{topics:{},on:function(e,t){this.topics[e]=this.topics[e]||[],this.topics[e].push(t)},off:function(e,t){if(this.topics[e])for(var n=0;n<this.topics[e].length;n++)if(this.topics[e][n]===t){this.topics[e].splice(n,1);break}},emit:function(t,n){n.type=t,this.topics[t]&&this.topics[t].forEach(function(e){e(n,t)})}}}Object.keys||(Object.keys=function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});function yi(j){j=Xa({container:".slider",mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:1,center:!1,controls:!0,controlsPosition:"top",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!1,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},j||{});var T=document,a=window,i={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},t={},e=j.useLocalStorage;if(e){var o=navigator.userAgent,l=new Date;try{(t=a.localStorage)?(t.setItem(l,l),e=t.getItem(l)==l,t.removeItem(l)):e=!1,e||(t={})}catch(o){e=!1}e&&(t.tnsApp&&t.tnsApp!==o&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach(function(e){t.removeItem(e)}),localStorage.tnsApp=o)}var c,d,m,h,f,p=t.tC?$a(t.tC):Ga(t,"tC",function(){var e=document,t=Ka(),n=Qa(t),a=e.createElement("div"),i=!1;t.appendChild(a);try{for(var o,r="(10px * 10)",s=["calc"+r,"-moz-calc"+r,"-webkit-calc"+r],l=0;l<3;l++)if(o=s[l],a.style.width=o,100===a.offsetWidth){i=o.replace(r,"");break}}catch(e){}return t.fake?Za(t,n):a.remove(),i}(),e),l=t.tPL?$a(t.tPL):Ga(t,"tPL",function(){var e=document,t=Ka(),n=Qa(t),a=e.createElement("div"),e=e.createElement("div"),i="";a.className="tns-t-subp2",e.className="tns-t-ct";for(var o=0;o<70;o++)i+="<div></div>";return e.innerHTML=i,a.appendChild(e),t.appendChild(a),e=Math.abs(a.getBoundingClientRect().left-e.children[67].getBoundingClientRect().left)<2,t.fake?Za(t,n):a.remove(),e}(),e),ie=t.tMQ?$a(t.tMQ):Ga(t,"tMQ",!(!window.matchMedia&&!window.msMatchMedia)||(c=document,m=Qa(d=Ka()),h=c.createElement("div"),f="@media all and (min-width:1px){.tns-mq-test{position:absolute}}",(g=c.createElement("style")).type="text/css",h.className="tns-mq-test",d.appendChild(g),d.appendChild(h),g.styleSheet?g.styleSheet.cssText=f:g.appendChild(c.createTextNode(f)),g=(window.getComputedStyle?window.getComputedStyle(h):h.currentStyle).position,d.fake?Za(d,m):h.remove(),"absolute"===g),e),v=t.tTf?$a(t.tTf):Ga(t,"tTf",hi("transform"),e),g=t.t3D?$a(t.t3D):Ga(t,"t3D",!!(c=v)&&!!window.getComputedStyle&&(f=document,m=Qa(d=Ka()),f=f.createElement("p"),h=9<c.length?"-"+c.slice(0,-9).toLowerCase()+"-":"",h+="transform",d.insertBefore(f,null),f.style[c]="translate3d(1px,1px,1px)",c=window.getComputedStyle(f).getPropertyValue(h),d.fake?Za(d,m):f.remove(),void 0!==c)&&0<c.length&&"none"!==c,e),u=t.tTDu?$a(t.tTDu):Ga(t,"tTDu",hi("transitionDuration"),e),y=t.tTDe?$a(t.tTDe):Ga(t,"tTDe",hi("transitionDelay"),e),L=t.tADu?$a(t.tADu):Ga(t,"tADu",hi("animationDuration"),e),b=t.tADe?$a(t.tADe):Ga(t,"tADe",hi("animationDelay"),e),E=t.tTE?$a(t.tTE):Ga(t,"tTE",fi(u,"Transition"),e),w=t.tAE?$a(t.tAE):Ga(t,"tAE",fi(L,"Animation"),e),S=a.console&&"function"==typeof a.console.warn,A=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],_={};if(A.forEach(function(e){var t,n;"string"==typeof j[e]&&(t=j[e],n=T.querySelector(t),_[e]=t,n&&n.nodeName?j[e]=n:S&&console.warn("Can't find",j[e]))}),!(j.container.children.length<1)){var oe,re,C,se,q=j.responsive,le=j.nested,N="carousel"===j.mode;if(q){0 in q&&(j=Xa(j,q[0]),delete q[0]);var x,ce={};for(x in q){var de=q[x];ce[x]="number"==typeof de?{items:de}:de}q=ce,ce=null}N||function e(t){for(var n in t)N||("slideBy"===n&&(t[n]="page"),"edgePadding"===n&&(t[n]=!1),"autoHeight"===n&&(t[n]=!1)),"responsive"===n&&e(t[n])}(j),N||(j.axis="horizontal",j.slideBy="page",j.edgePadding=!1,oe=j.animateIn,re=j.animateOut,C=j.animateDelay,se=j.animateNormal);var ue,me,B="horizontal"===j.axis,r=T.createElement("div"),he=T.createElement("div"),k=j.container,fe=k.parentNode,pe=k.outerHTML,M=k.children,H=M.length,ve=Cn(),ge=!1;q&&Yn(),N&&(k.className+=" tns-vpfix");var s,ye,Le,be,Ee,D,we,I,R,Se,Ae,_e,O,Ce,xe,je,Te,qe,Ne,Be,ke,Me,He,De,Ie,Re,Oe,Pe,P,ze,We,Fe,Ve,Ye,Ue,Xe,$e,z=j.autoWidth,W=ne("fixedWidth"),F=ne("edgePadding"),V=ne("gutter"),Y=jn(),U=ne("center"),X=z?1:Math.floor(ne("items")),Ge=ne("slideBy"),Ke=j.viewportMax||j.fixedWidthViewportWidth,Qe=ne("arrowKeys"),Ze=ne("speed"),Je=j.rewind,$=!Je&&j.loop,et=ne("autoHeight"),tt=ne("controls"),nt=ne("controlsText"),at=ne("nav"),it=ne("touch"),ot=ne("mouseDrag"),G=ne("autoplay"),rt=ne("autoplayTimeout"),st=ne("autoplayText"),lt=ne("autoplayHoverPause"),ct=ne("autoplayResetOnVisibility"),K=(e=ne("nonce"),Yt=document.createElement("style"),e&&Yt.setAttribute("nonce",e),document.querySelector("head").appendChild(Yt),Yt.sheet||Yt.styleSheet),dt=j.lazyload,ut=j.lazyloadSelector,mt=[],Q=$?(e=function(){if(z||W&&!Ke)return H-1;var e=W?"fixedWidth":"items",t=[];if((W||j[e]<H)&&t.push(j[e]),q)for(var n in q){n=q[n][e];n&&(W||n<H)&&t.push(n)}return t.length||t.push(0),Math.ceil(W?Ke/Math.min.apply(null,t):Math.max.apply(null,t))}(),Yt=N?Math.ceil((5*e-H)/2):4*e-H,Yt=Math.max(e,Yt),Tn("edgePadding")?Yt+1:Yt):0,Z=N?H+2*Q:H+Q,ht=!(!W&&!z||$),ft=W?ga():null,pt=!N||!$,vt=B?"left":"top",gt="",yt="",Lt=W?function(){return U&&!$?H-1:Math.ceil(-ft/(W+V))}:z?function(){for(var e=0;e<Z;e++)if(s[e]>=-ft)return e}:function(){return U&&N&&!$?H-1:$||N?Math.max(0,Z-Math.ceil(X)):Z-1},J=Sn(ne("startIndex")),bt=J,Et=(wn(),0),wt=z?null:Lt(),St=j.preventActionWhenRunning,At=j.swipeAngle,_t=!At||"?",Ct=!1,xt=j.onInit,ee=new gi,jt=" tns-slider tns-"+j.mode,te=k.id||(e=window.tnsId,window.tnsId=e?e+1:1,"tns"+window.tnsId),Tt=ne("disable"),qt=!1,Nt=j.freezable,Bt=!(!Nt||z)&&Vn(),kt=!1,Mt={click:Ca,keydown:function(e){e=Ma(e);var t=[i.LEFT,i.RIGHT].indexOf(e.keyCode);0<=t&&(0===t?I.disabled||Ca(e,-1):R.disabled||Ca(e,1))}},Ht={click:function(e){if(Ct){if(St)return;Aa()}for(var t,n,a=Ha(e=Ma(e));a!==O&&!oi(a,"data-nav");)a=a.parentNode;oi(a,"data-nav")&&(t=Te=Number(ri(a,"data-nav")),n=W||z?t*H/xe:t*X,_a(Ft?t:Math.min(Math.ceil(n),H-1),e),qe===t)&&(De&&Na(),Te=-1)},keydown:function(e){e=Ma(e);var t,n=T.activeElement;oi(n,"data-nav")&&(t=[i.LEFT,i.RIGHT,i.ENTER,i.SPACE].indexOf(e.keyCode),n=Number(ri(n,"data-nav")),0<=t)&&(0===t?0<n&&ka(_e[n-1]):1===t?n<xe-1&&ka(_e[n+1]):_a(Te=n,e))}},Dt={mouseover:function(){De&&(ja(),Ie=!0)},mouseout:function(){Ie&&(xa(),Ie=!1)}},It={visibilitychange:function(){T.hidden?De&&(ja(),Oe=!0):Oe&&(xa(),Oe=!1)}},Rt={keydown:function(e){e=Ma(e);var t=[i.LEFT,i.RIGHT].indexOf(e.keyCode);0<=t&&Ca(e,0===t?-1:1)}},Ot={touchstart:Oa,touchmove:Pa,touchend:za,touchcancel:za},Pt={mousedown:Oa,mousemove:Pa,mouseup:za,mouseleave:za},zt=Tn("controls"),Wt=Tn("nav"),Ft=!!z||j.navAsThumbnails,Vt=Tn("autoplay"),Yt=Tn("touch"),Ut=Tn("mouseDrag"),Xt="tns-slide-active",$t="tns-slide-cloned",Gt="tns-complete",Kt={load:function(e){ea(Ha(e))},error:function(e){e=Ha(e);ai(e,"failed"),ta(e)}},Qt="force"===j.preventScrollOnTouch;if(zt&&(D=j.controlsContainer,we=j.controlsContainer?j.controlsContainer.outerHTML:"",I=j.prevButton,R=j.nextButton,Se=j.prevButton?j.prevButton.outerHTML:"",Ae=j.nextButton?j.nextButton.outerHTML:""),Wt&&(O=j.navContainer,Ce=j.navContainer?j.navContainer.outerHTML:"",xe=z?H:Fa(),je=0,Te=-1,qe=_n(),Ne=qe,Be="tns-nav-active",ke="Carousel Page ",Me=" (Current Slide)"),Vt&&(Pe="forward"===j.autoplayDirection?1:-1,P=j.autoplayButton,ze=j.autoplayButton?j.autoplayButton.outerHTML:"",We=["<span class='tns-visually-hidden'>"," animation</span>"]),(Yt||Ut)&&(Ye={},Xe=!(Ue={}),$e=B?function(e,t){return e.x-t.x}:function(e,t){return e.y-t.y}),z||En(Tt||Bt),v&&(vt=v,gt="translate",yt=g?(gt+=B?"3d(":"3d(0px, ",B?", 0px, 0px)":", 0px)"):(gt+=B?"X(":"Y(",")")),N&&(k.className=k.className.replace("tns-vpfix","")),Tn("gutter"),r.className="tns-outer",he.className="tns-inner",r.id=te+"-ow",he.id=te+"-iw",""===k.id&&(k.id=te),jt=jt+(l||z?" tns-subpixel":" tns-no-subpixel")+(p?" tns-calc":" tns-no-calc"),z&&(jt+=" tns-autowidth"),jt+=" tns-"+j.axis,k.className+=jt,(N?((ue=T.createElement("div")).id=te+"-mw",ue.className="tns-ovh",r.appendChild(ue),ue):r).appendChild(he),et&&((ue||he).className+=" tns-ah"),fe.insertBefore(r,k),he.appendChild(k),ti(M,function(e,t){ai(e,"tns-item"),e.id||(e.id=te+"-item"+t),!N&&se&&ai(e,se),si(e,{"aria-hidden":"true",tabindex:"-1"})}),Q){for(var Zt=T.createDocumentFragment(),Jt=T.createDocumentFragment(),en=Q;en--;){var tn=en%H,nn=M[tn].cloneNode(!0);ai(nn,$t),li(nn,"id"),Jt.insertBefore(nn,Jt.firstChild),N&&(nn=M[H-1-tn].cloneNode(!0),ai(nn,$t),li(nn,"id"),Zt.appendChild(nn))}k.insertBefore(Zt,k.firstChild),k.appendChild(Jt),M=k.children}if(!N)for(var an=J,on=J+Math.min(H,X);an<on;an++){var rn=M[an];rn.style.left=100*(an-J)/X+"%",ai(rn,oe),ii(rn,se)}if(B&&(l||z?(Ja(K,"#"+te+" > .tns-item","font-size:"+a.getComputedStyle(M[0]).fontSize+";",ei(K)),Ja(K,"#"+te,"font-size:0;",ei(K))):N&&ti(M,function(e,t){e.style.marginLeft=p?p+"("+100*t+"% / "+Z+")":100*t/Z+"%"})),ie?(u&&(n=ue&&j.autoHeight?Hn(j.speed):"",Ja(K,"#"+te+"-mw",n,ei(K))),n=qn(j.edgePadding,j.gutter,j.fixedWidth,j.speed,j.autoHeight),Ja(K,"#"+te+"-iw",n,ei(K)),N&&(n=B&&!z?"width:"+Nn(j.fixedWidth,j.gutter,j.items)+";":"",u&&(n+=Hn(Ze)),Ja(K,"#"+te,n,ei(K))),n=B&&!z?Bn(j.fixedWidth,j.gutter,j.items):"",j.gutter&&(n+=kn(j.gutter)),N||(u&&(n+=Hn(Ze)),L&&(n+=Dn(Ze)))):(N&&et&&(ue.style[u]=Ze/1e3+"s"),he.style.cssText=qn(F,V,W,et),N&&B&&!z&&(k.style.width=Nn(W,V,X)),n=B&&!z?Bn(W,V,X):"",V&&(n+=kn(V))),n&&Ja(K,"#"+te+" > .tns-item",n,ei(K)),q&&ie)for(var sn in q){var sn=parseInt(sn),ln=q[sn],n="",cn="",dn="",un="",mn="",hn=z?null:ne("items",sn),fn=ne("fixedWidth",sn),pn=ne("speed",sn),vn=ne("edgePadding",sn),gn=ne("autoHeight",sn),yn=ne("gutter",sn);u&&ue&&ne("autoHeight",sn)&&"speed"in ln&&(cn="#"+te+"-mw{"+Hn(pn)+"}"),("edgePadding"in ln||"gutter"in ln)&&(dn="#"+te+"-iw{"+qn(vn,yn,fn,pn,gn)+"}"),N&&B&&!z&&("fixedWidth"in ln||"items"in ln||W&&"gutter"in ln)&&(un="width:"+Nn(fn,yn,hn)+";"),u&&"speed"in ln&&(un+=Hn(pn)),un=un&&"#"+te+"{"+un+"}",("fixedWidth"in ln||W&&"gutter"in ln||!N&&"items"in ln)&&(mn+=Bn(fn,yn,hn)),"gutter"in ln&&(mn+=kn(yn)),!N&&"speed"in ln&&(u&&(mn+=Hn(pn)),L)&&(mn+=Dn(pn)),(n=cn+dn+un+(mn=mn&&"#"+te+" > .tns-item{"+mn+"}"))&&K.insertRule("@media (min-width: "+sn/16+"em) {"+n+"}",K.cssRules.length)}In();var Ln=$?N?function(){var e=Et,t=wt;e+=Ge,t-=Ge,F?(e+=1,--t):W&&(Y+V)%(W+V)&&--t,Q&&(t<J?J-=H:J<e&&(J+=H))}:function(){if(wt<J)for(;Et+H<=J;)J-=H;else if(J<Et)for(;J<=wt-H;)J+=H}:function(){J=Math.max(Et,Math.min(wt,J))},bn=N?function(){var t,n,a,i,e,o,r,s,l,c,d;pa(k,""),u||!Ze?(ba(),Ze&&mi(k)||Aa()):(t=k,n=vt,a=gt,i=yt,e=ya(),o=Ze,r=Aa,s=Math.min(o,10),l=0<=e.indexOf("%")?"%":"px",e=e.replace(l,""),c=Number(t.style[n].replace(a,"").replace(i,"").replace(l,"")),d=(e-c)/o*s,setTimeout(function e(){o-=s,c+=d,t.style[n]=a+c+l+i,0<o?setTimeout(e,s):r()},s)),B||Wa()}:function(){mt=[];var e={};e[E]=e[w]=Aa,vi(M[bt],e),pi(M[J],e),Ea(bt,oe,re,!0),Ea(J,se,oe),E&&w&&Ze&&mi(k)||Aa()};return{version:"2.9.4",getInfo:ae,events:ee,goTo:_a,play:function(){G&&!De&&(qa(),Re=!1)},pause:function(){De&&(Na(),Re=!0)},isOn:ge,updateSliderHeight:sa,refresh:In,destroy:function(){K.disabled=!0,K.ownerNode&&K.ownerNode.remove(),vi(a,{resize:Wn}),Qe&&vi(T,Rt),D&&vi(D,Mt),O&&vi(O,Ht),vi(k,Dt),vi(k,It),P&&vi(P,{click:Ba}),G&&clearInterval(He),N&&E&&((e={})[E]=Aa,vi(k,e)),it&&vi(k,Ot),ot&&vi(k,Pt);var e,t,o=[pe,we,Se,Ae,Ce,ze];for(t in A.forEach(function(e,t){var n,a,i="container"===e?r:j[e];"object"==typeof i&&i&&(n=!!i.previousElementSibling&&i.previousElementSibling,a=i.parentNode,i.outerHTML=o[t],j[e]=n?n.nextElementSibling:a.firstElementChild)}),A=oe=re=C=se=B=r=he=k=fe=pe=M=H=me=ve=z=W=F=V=Y=X=Ge=Ke=Qe=Ze=Je=$=et=K=dt=s=mt=Q=Z=ht=ft=pt=vt=gt=yt=Lt=J=bt=Et=wt=At=_t=Ct=xt=ee=jt=te=Tt=qt=Nt=Bt=kt=Mt=Ht=Dt=It=Rt=Ot=Pt=zt=Wt=Ft=Vt=Ut=Xt=Gt=Kt=ye=tt=nt=D=we=I=R=be=Ee=at=O=Ce=_e=xe=je=Te=qe=Ne=Be=ke=Me=G=rt=Pe=st=lt=P=ze=ct=We=He=De=Ie=Re=Oe=Ye=Ue=Fe=Xe=Ve=$e=it=ot=null,this)"rebuild"!==t&&(this[t]=null);ge=!1},rebuild:function(){return yi(Xa(j,_))}}}function En(e){e&&(tt=at=it=ot=Qe=G=lt=ct=!1)}function wn(){for(var e=N?J-Q:J;e<0;)e+=H;return e%H+1}function Sn(e){return e=e?Math.max(0,Math.min($?H-1:H-X,e)):0,N?e+Q:e}function An(e){for(null==e&&(e=J),N&&(e-=Q);e<0;)e+=H;return Math.floor(e%H)}function _n(){var e=An(),e=Ft?e:W||z?Math.ceil((e+1)*xe/H-1):Math.floor(e/X);return e=!$&&N&&J===wt?xe-1:e}function Cn(){return a.innerWidth||T.documentElement.clientWidth||T.body.clientWidth}function xn(e){return"top"===e?"afterbegin":"beforeend"}function jn(){var e=F?2*F-V:0;return function e(t){var n,a;if(null!=t)return a=T.createElement("div"),t.appendChild(a),n=(n=a.getBoundingClientRect()).right-n.left,a.remove(),n||e(t.parentNode)}(fe)-e}function Tn(e){if(j[e])return!0;if(q)for(var t in q)if(q[t][e])return!0;return!1}function ne(e,t){if(null==t&&(t=ve),"items"===e&&W)return Math.floor((Y+V)/(W+V))||1;var n=j[e];if(q)for(var a in q)t>=parseInt(a)&&e in q[a]&&(n=q[a][e]);return"slideBy"===e&&"page"===n&&(n=ne("items")),n=N||"slideBy"!==e&&"items"!==e?n:Math.floor(n)}function qn(e,t,n,a,i){var o,r="";return void 0!==e?(o=e,t&&(o-=t),r=B?"margin: 0 "+o+"px 0 "+e+"px;":"margin: "+e+"px 0 "+o+"px 0;"):t&&!n&&(e="-"+t+"px",r="margin: 0 "+(B?e+" 0 0":"0 "+e+" 0")+";"),!N&&i&&u&&a&&(r+=Hn(a)),r}function Nn(e,t,n){return e?(e+t)*Z+"px":p?p+"("+100*Z+"% / "+n+")":100*Z/n+"%"}function Bn(e,t,n){return t="width:"+(t=e?e+t+"px":(N||(n=Math.floor(n)),e=N?Z:n,p?p+"(100% / "+e+")":100/e+"%")),"inner"!==le?t+";":t+" !important;"}function kn(e){return!1!==e?(B?"padding-":"margin-")+(B?"right":"bottom")+": "+e+"px;":""}function Mn(e,t){e=e.substring(0,e.length-t).toLowerCase();return e=e&&"-"+e+"-"}function Hn(e){return Mn(u,18)+"transition-duration:"+e/1e3+"s;"}function Dn(e){return Mn(L,17)+"animation-duration:"+e/1e3+"s;"}function In(){var e;Tn("autoHeight")||z||!B?(ti(e=k.querySelectorAll("img"),function(e){var t=e.src;dt||(t&&t.indexOf("data:image")<0?(e.src="",pi(e,Kt),ai(e,"loading"),e.src=t):ea(e))}),Ya(function(){ia(ci(e),function(){ye=!0})}),Tn("autoHeight")&&(e=na(J,Math.min(J+X-1,Z-1))),dt?Rn():Ya(function(){ia(ci(e),Rn)})):(N&&La(),Pn(),zn())}function Rn(){var a;(z&&1<H?(a=$?J:H-1,function e(){var t=M[a].getBoundingClientRect().left,n=M[a-1].getBoundingClientRect().right;Math.abs(t-n)<=1?On():setTimeout(function(){e()},16)}):On)()}function On(){B&&!z||(la(),z?(ft=ga(),Nt&&(Bt=Vn()),wt=Lt(),En(Tt||Bt)):Wa()),N&&La(),Pn(),zn()}function Pn(){var e,t;if(ca(),r.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+Qn()+"</span>  of "+H+"</div>"),Le=r.querySelector(".tns-liveregion .current"),Vt&&(e=G?"stop":"start",P?si(P,{"data-action":e}):j.autoplayButtonOutput&&(r.insertAdjacentHTML(xn(j.autoplayPosition),'<button type="button" data-action="'+e+'">'+We[0]+e+We[1]+st[0]+"</button>"),P=r.querySelector("[data-action]")),P&&pi(P,{click:Ba}),G)&&(qa(),lt&&pi(k,Dt),ct)&&pi(k,It),Wt){if(O)si(O,{"aria-label":"Carousel Pagination"}),ti(_e=O.children,function(e,t){si(e,{"data-nav":t,tabindex:"-1","aria-label":ke+(t+1),"aria-controls":te})});else{for(var n="",a=Ft?"":'style="display:none"',i=0;i<H;i++)n+='<button type="button" data-nav="'+i+'" tabindex="-1" aria-controls="'+te+'" '+a+' aria-label="'+ke+(i+1)+'"></button>';r.insertAdjacentHTML(xn(j.navPosition),n='<div class="tns-nav" aria-label="Carousel Pagination">'+n+"</div>"),O=r.querySelector(".tns-nav"),_e=O.children}Va(),u&&(e=u.substring(0,u.length-18).toLowerCase(),t="transition: all "+Ze/1e3+"s",Ja(K,"[aria-controls^="+te+"-item]",t=e?"-"+e+"-"+t:t,ei(K))),si(_e[qe],{"aria-label":ke+(qe+1)+Me}),li(_e[qe],"tabindex"),ai(_e[qe],Be),pi(O,Ht)}zt&&(D||I&&R||(r.insertAdjacentHTML(xn(j.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+te+'">'+nt[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+te+'">'+nt[1]+"</button></div>"),D=r.querySelector(".tns-controls")),I&&R||(I=D.children[0],R=D.children[1]),j.controlsContainer&&si(D,{"aria-label":"Carousel Navigation",tabindex:"0"}),(j.controlsContainer||j.prevButton&&j.nextButton)&&si([I,R],{"aria-controls":te,tabindex:"-1"}),(j.controlsContainer||j.prevButton&&j.nextButton)&&(si(I,{"data-controls":"prev"}),si(R,{"data-controls":"next"})),be=ua(I),Ee=ua(R),fa(),D?pi(D,Mt):(pi(I,Mt),pi(R,Mt))),Un()}function zn(){var e;N&&E&&((e={})[E]=Aa,pi(k,e)),it&&pi(k,Ot,j.preventScrollOnTouch),ot&&pi(k,Pt),Qe&&pi(T,Rt),"inner"===le?ee.on("outerResized",function(){Fn(),ee.emit("innerLoaded",ae())}):(q||W||z||et||!B)&&pi(a,{resize:Wn}),et&&("outer"===le?ee.on("innerLoaded",aa):Tt||aa()),Jn(),Tt?Gn():Bt&&$n(),ee.on("indexChanged",oa),"inner"===le&&ee.emit("innerLoaded",ae()),"function"==typeof xt&&xt(ae()),ge=!0}function Wn(e){Ya(function(){Fn(Ma(e))})}function Fn(e){if(ge){"outer"===le&&ee.emit("outerResized",ae(e)),ve=Cn();var t,n=me,a=!1;q&&(Yn(),t=n!==me)&&ee.emit("newBreakpointStart",ae(e));var i,o,r,s,l,c,d,u,n=X,m=Tt,h=Bt,f=Qe,p=tt,v=at,g=it,y=ot,L=G,b=lt,E=ct,w=J;if(t&&(o=W,r=et,s=nt,l=U,c=st,ie||(d=V,u=F)),Qe=ne("arrowKeys"),tt=ne("controls"),at=ne("nav"),it=ne("touch"),U=ne("center"),ot=ne("mouseDrag"),G=ne("autoplay"),lt=ne("autoplayHoverPause"),ct=ne("autoplayResetOnVisibility"),t&&(Tt=ne("disable"),W=ne("fixedWidth"),Ze=ne("speed"),et=ne("autoHeight"),nt=ne("controlsText"),st=ne("autoplayText"),rt=ne("autoplayTimeout"),ie||(F=ne("edgePadding"),V=ne("gutter"))),En(Tt),Y=jn(),B&&!z||Tt||(la(),B)||(Wa(),a=!0),(W||z)&&(ft=ga(),wt=Lt()),(t||W)&&(X=ne("items"),Ge=ne("slideBy"),i=X!==n)&&(W||z||(wt=Lt()),Ln()),t&&Tt!==m&&(Tt?Gn:function(){if(qt){if(K.disabled=!1,k.className+=jt,La(),$)for(var e=Q;e--;)N&&ui(M[e]),ui(M[Z-e-1]);if(!N)for(var t=J,n=J+H;t<n;t++){var a=M[t],i=t<J+X?oe:se;a.style.left=100*(t-J)/X+"%",ai(a,i)}Xn(),qt=!1}})(),Nt&&(t||W||z)&&(Bt=Vn())!==h)if(Bt)ba(ya(Sn(0))),$n();else{if(kt){if(F&&ie&&(he.style.margin=""),Q)for(var S="tns-transparent",A=Q;A--;)N&&ii(M[A],S),ii(M[Z-A-1],S);Xn(),kt=!1}a=!0}if(En(Tt||Bt),G||(lt=ct=!1),Qe!==f&&(Qe?pi:vi)(T,Rt),tt!==p&&(tt?D?ui(D):(I&&ui(I),R&&ui(R)):D?di(D):(I&&di(I),R&&di(R))),at!==v&&(at?(ui(O),Va()):di(O)),it!==g&&(it?pi(k,Ot,j.preventScrollOnTouch):vi(k,Ot)),ot!==y&&(ot?pi:vi)(k,Pt),G!==L&&(G?(P&&ui(P),De||Re||qa()):(P&&di(P),De&&Na())),lt!==b&&(lt?pi:vi)(k,Dt),ct!==E&&(ct?pi:vi)(T,It),t?(W===o&&U===l||(a=!0),et===r||et||(he.style.height=""),tt&&nt!==s&&(I.innerHTML=nt[0],R.innerHTML=nt[1]),P&&st!==c&&(n=G?1:0,h=(m=P.innerHTML).length-c[n].length,m.substring(h)===c[n])&&(P.innerHTML=m.substring(0,h)+st[n])):U&&(W||z)&&(a=!0),(i||W&&!z)&&(xe=Fa(),Va()),(f=J!==w)?(ee.emit("indexChanged",ae()),a=!0):i?f||oa():(W||z)&&(Jn(),ca(),Kn()),i&&!N){for(var _=J+Math.min(H,X),C=Z;C--;){var x=M[C];J<=C&&C<_?(ai(x,"tns-moving"),x.style.left=100*(C-J)/X+"%",ai(x,oe),ii(x,se)):x.style.left&&(x.style.left="",ai(x,se),ii(x,oe)),ii(x,re)}setTimeout(function(){ti(M,function(e){ii(e,"tns-moving")})},300)}Tt||Bt||(t&&!ie&&(F===u&&V===d||(he.style.cssText=qn(F,V,W,Ze,et)),B)&&(N&&(k.style.width=Nn(W,V,X)),p=Bn(W,V,X)+kn(V),g=ei(v=K)-1,"deleteRule"in v?v.deleteRule(g):v.removeRule(g),Ja(K,"#"+te+" > .tns-item",p,ei(K))),et&&aa(),a&&(La(),bt=J)),t&&ee.emit("newBreakpointEnd",ae(e))}}function Vn(){var e,t;return W||z?(e=W?(W+V)*H:s[H],t=F?Y+2*F:Y+V,U&&(t-=W?(Y-W)/2:(Y-(s[J+1]-s[J]-V))/2),e<=t):H<=(U?X-(X-1)/2:X)}function Yn(){for(var e in me=0,q)(e=parseInt(e))<=ve&&(me=e)}function Un(){!G&&P&&di(P),!at&&O&&di(O),tt||(D?di(D):(I&&di(I),R&&di(R)))}function Xn(){G&&P&&ui(P),at&&O&&ui(O),tt&&(D?ui(D):(I&&ui(I),R&&ui(R)))}function $n(){if(!kt){if(F&&(he.style.margin="0px"),Q)for(var e="tns-transparent",t=Q;t--;)N&&ai(M[t],e),ai(M[Z-t-1],e);Un(),kt=!0}}function Gn(){if(!qt){if(K.disabled=!0,k.className=k.className.replace(jt.substring(1),""),li(k,["style"]),$)for(var e=Q;e--;)N&&di(M[e]),di(M[Z-e-1]);if(B&&N||li(he,["style"]),!N)for(var t=J,n=J+H;t<n;t++){var a=M[t];li(a,["style"]),ii(a,oe),ii(a,se)}Un(),qt=!0}}function Kn(){var e=Qn();Le.innerHTML!==e&&(Le.innerHTML=e)}function Qn(){var e=Zn(),t=e[0]+1,e=e[1]+1;return t===e?t+"":t+" to "+e}function Zn(e){null==e&&(e=ya());var n,a,i,o=J;return U||F?(z||W)&&(n=-(parseFloat(e)+F),a=n+Y+2*F):z&&(n=s[J],a=n+Y),z?s.forEach(function(e,t){t<Z&&((U||F)&&e<=n+.5&&(o=t),.5<=a-e)&&(i=t)}):(i=W?(e=W+V,U||F?(o=Math.floor(n/e),Math.ceil(a/e-1)):o+Math.ceil(Y/e)-1):U||F?(e=X-1,i=U?(o-=e/2,J+e/2):J+e,F&&(o-=e=F*X/Y,i+=e),o=Math.floor(o),Math.ceil(i)):o+X-1,o=Math.max(o,0),i=Math.min(i,Z-1)),[o,i]}function Jn(){var e;dt&&!Tt&&((e=Zn()).push(ut),na.apply(null,e).forEach(function(e){var t;ni(e,Gt)||((t={})[E]=function(e){e.stopPropagation()},pi(e,t),pi(e,Kt),e.src=ri(e,"data-src"),(t=ri(e,"data-srcset"))&&(e.srcset=t),ai(e,"loading"))}))}function ea(e){ai(e,"loaded"),ta(e)}function ta(e){ai(e,Gt),ii(e,"loading"),vi(e,Kt)}function na(e,t,n){var a=[];for(n=n||"img";e<=t;)ti(M[e].querySelectorAll(n),function(e){a.push(e)}),e++;return a}function aa(){var e=na.apply(null,Zn());Ya(function(){ia(e,sa)})}function ia(n,e){!ye&&(n.forEach(function(e,t){!dt&&e.complete&&ta(e),ni(e,Gt)&&n.splice(t,1)}),n.length)?Ya(function(){ia(n,e)}):e()}function oa(){var e,t;Jn(),ca(),Kn(),fa(),at&&(qe=0<=Te?Te:_n(),Te=-1,qe!==Ne)&&(e=_e[Ne],t=_e[qe],si(e,{tabindex:"-1","aria-label":ke+(Ne+1)}),ii(e,Be),si(t,{"aria-label":ke+(qe+1)+Me}),li(t,"tabindex"),ai(t,Be),Ne=qe)}function ra(e,t){for(var n=[],a=e,i=Math.min(e+t,Z);a<i;a++)n.push(M[a].offsetHeight);return Math.max.apply(null,n)}function sa(){var e=et?ra(J,X):ra(Q,H),t=ue||he;t.style.height!==e&&(t.style.height=e+"px")}function la(){s=[0];var n=B?"left":"top",a=B?"right":"bottom",i=M[0].getBoundingClientRect()[n];ti(M,function(e,t){t&&s.push(e.getBoundingClientRect()[n]-i),t===Z-1&&s.push(e.getBoundingClientRect()[a]-i)})}function ca(){var e=Zn(),n=e[0],a=e[1];ti(M,function(e,t){n<=t&&t<=a?oi(e,"aria-hidden")&&(li(e,["aria-hidden","tabindex"]),ai(e,Xt)):oi(e,"aria-hidden")||(si(e,{"aria-hidden":"true",tabindex:"-1"}),ii(e,Xt))})}function da(e){return e.nodeName.toLowerCase()}function ua(e){return"button"===da(e)}function ma(e){return"true"===e.getAttribute("aria-disabled")}function ha(e,t,n){e?t.disabled=n:t.setAttribute("aria-disabled",n.toString())}function fa(){var e,t,n,a;!tt||Je||$||(e=be?I.disabled:ma(I),t=Ee?R.disabled:ma(R),a=!Je&&wt<=J,(n=J<=Et)&&!e&&ha(be,I,!0),!n&&e&&ha(be,I,!1),a&&!t&&ha(Ee,R,!0),!a&&t&&ha(Ee,R,!1))}function pa(e,t){u&&(e.style[u]=t)}function va(e){return null==e&&(e=J),z?(Y-(F?V:0)-(s[e+1]-s[e]-V))/2:W?(Y-W)/2:(X-1)/2}function ga(){var e=Y+(F?V:0)-(W?(W+V)*Z:s[Z]);return e=0<(e=U&&!$?W?-(W+V)*(Z-1)-va():va(Z-1)-s[Z-1]:e)?0:e}function ya(e){var t,n;return null==e&&(e=J),B&&!z?W?(t=-(W+V)*e,U&&(t+=va())):(n=v?Z:X,U&&(e-=va()),t=100*-e/n):(t=-s[e],U&&z&&(t+=va())),(t=ht?Math.max(t,ft):t)+(!B||z||W?"px":"%")}function La(e){pa(k,"0s"),ba(e)}function ba(e){null==e&&(e=ya()),k.style[vt]=gt+e+yt}function Ea(e,t,n,a){var i=e+X;$||(i=Math.min(i,Z));for(var o=e;o<i;o++){var r=M[o];a||(r.style.left=100*(o-J)/X+"%"),C&&y&&(r.style[y]=r.style[b]=C*(o-e)/1e3+"s"),ii(r,t),ai(r,n),a&&mt.push(r)}}function wa(e,t){pt&&Ln(),J===bt&&!t||(ee.emit("indexChanged",ae()),ee.emit("transitionStart",ae()),et&&aa(),De&&e&&0<=["click","keydown"].indexOf(e.type)&&Na(),Ct=!0,bn())}function Sa(e){return e.toLowerCase().replace(/-/g,"")}function Aa(e){if(N||Ct){if(ee.emit("transitionEnd",ae(e)),!N&&0<mt.length)for(var t=0;t<mt.length;t++){var n=mt[t];n.style.left="",b&&y&&(n.style[b]="",n.style[y]=""),ii(n,re),ai(n,se)}(!e||!N&&e.target.parentNode===k||e.target===k&&Sa(e.propertyName)===Sa(vt))&&(pt||(e=J,Ln(),J!==e&&(ee.emit("indexChanged",ae()),La())),"inner"===le&&ee.emit("innerLoaded",ae()),Ct=!1,bt=J)}}function _a(e,t){if(!Bt)if("prev"===e)Ca(t,-1);else if("next"===e)Ca(t,1);else{if(Ct){if(St)return;Aa()}var n=An(),a=0;"first"===e?a=-n:"last"===e?a=N?H-X-n:H-1-n:("number"!=typeof e&&(e=parseInt(e)),isNaN(e)||(a=(e=t?e:Math.max(0,Math.min(H-1,e)))-n)),!N&&a&&Math.abs(a)<X&&(e=0<a?1:-1,a+=Et<=J+a-H?H*e:2*H*e*-1),J+=a,N&&$&&(J<Et&&(J+=H),wt<J)&&(J-=H),An(J)!==An(bt)&&wa(t)}}function Ca(e,t){if(Ct){if(St)return;Aa()}var n;if(!t){for(var a=Ha(e=Ma(e));a!==D&&[I,R].indexOf(a)<0;)a=a.parentNode;var i=[I,R].indexOf(a);0<=i&&(n=!0,t=0===i?-1:1)}if(Je){if(J===Et&&-1===t)return void _a("last",e);if(J===wt&&1===t)return void _a("first",e)}t&&(J+=Ge*t,z&&(J=Math.floor(J)),wa(n||e&&"keydown"===e.type?e:null))}function xa(){He=setInterval(function(){Ca(null,Pe)},rt),De=!0}function ja(){clearInterval(He),De=!1}function Ta(e,t){si(P,{"data-action":e}),P.innerHTML=We[0]+e+We[1]+t}function qa(){xa(),P&&Ta("stop",st[1])}function Na(){ja(),P&&Ta("start",st[0])}function Ba(){Re=De?(Na(),!0):(qa(),!1)}function ka(e){e.focus()}function Ma(e){return Da(e=e||a.event)?e.changedTouches[0]:e}function Ha(e){return e.target||a.event.srcElement}function Da(e){return 0<=e.type.indexOf("touch")}function Ia(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ra(){return t=Ue.y-Ye.y,n=Ue.x-Ye.x,t=Math.atan2(t,n)*(180/Math.PI),n=!1,90-(e=At)<=(t=Math.abs(90-Math.abs(t)))?n="horizontal":t<=e&&(n="vertical"),n===j.axis;var e,t,n}function Oa(e){if(Ct){if(St)return;Aa()}G&&De&&ja(),Xe=!0,Ve&&(Ua(Ve),Ve=null);var t=Ma(e);ee.emit(Da(e)?"touchStart":"dragStart",ae(e)),!Da(e)&&0<=["img","a"].indexOf(da(Ha(e)))&&Ia(e),Ue.x=Ye.x=t.clientX,Ue.y=Ye.y=t.clientY,N&&(Fe=parseFloat(k.style[vt].replace(gt,"")),pa(k,"0s"))}function Pa(e){var t;Xe&&(t=Ma(e),Ue.x=t.clientX,Ue.y=t.clientY,N?Ve=Ve||Ya(function(){!function e(t){if(!_t)return Xe=!1;if(Ua(Ve),Xe&&(Ve=Ya(function(){e(t)})),_t="?"===_t?Ra():_t){!Qt&&Da(t)&&(Qt=!0);try{t.type&&ee.emit(Da(t)?"touchMove":"dragMove",ae(t))}catch(e){}var n=Fe,a=$e(Ue,Ye);n=!B||W||z?n+a+"px":n+(v?a*X*100/((Y+V)*Z):100*a/(Y+V))+"%",k.style[vt]=gt+n+yt}}(e)}):(_t="?"===_t?Ra():_t)&&(Qt=!0),"boolean"!=typeof e.cancelable||e.cancelable)&&Qt&&e.preventDefault()}function za(a){var e,i,n;Xe&&(Ve&&(Ua(Ve),Ve=null),N&&pa(k,""),Xe=!1,e=Ma(a),Ue.x=e.clientX,Ue.y=e.clientY,i=$e(Ue,Ye),Math.abs(i))&&(Da(a)||pi(n=Ha(a),{click:function e(t){Ia(t),vi(n,{click:e})}}),N?Ve=Ya(function(){if(B&&!z){var e=-i*X/(Y+V),e=0<i?Math.floor(e):Math.ceil(e);J+=e}else{var t=-(Fe+i);if(t<=0)J=Et;else if(t>=s[Z-1])J=wt;else for(var n=0;n<Z&&t>=s[n];)t>s[J=n]&&i<0&&(J+=1),n++}wa(a,i),ee.emit(Da(a)?"touchEnd":"dragEnd",ae(a))}):_t&&Ca(a,0<i?-1:1)),"auto"===j.preventScrollOnTouch&&(Qt=!1),At&&(_t="?"),G&&!De&&xa()}function Wa(){(ue||he).style.height=s[J+X]-s[J]+"px"}function Fa(){var e=W?(W+V)*H/Y:H/X;return Math.min(Math.ceil(e),H)}function Va(){if(at&&!Ft&&xe!==je){var e=je,t=xe,n=ui;for(xe<je&&(e=xe,t=je,n=di);e<t;)n(_e[e]),e++;je=xe}}function ae(e){return{container:k,slideItems:M,navContainer:O,navItems:_e,controlsContainer:D,hasControls:zt,prevButton:I,nextButton:R,items:X,slideBy:Ge,cloneCount:Q,slideCount:H,slideCountNew:Z,index:J,indexCached:bt,displayIndex:wn(),navCurrentIndex:qe,navCurrentIndexCached:Ne,pages:xe,pagesCached:je,sheet:K,isOn:ge,event:e||{}}}S&&console.warn("No slides found in",j.container)}return yi}();